<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:discourse="http://www.discourse.org/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Kicksecure Forums - Latest posts</title>
    <link>https://forums.kicksecure.com</link>
    <description>Latest posts</description>
      <item>
        <title>Followed wiki but get error for Whonix install</title>
        <dc:creator><![CDATA[@anon1]]></dc:creator>
        <description><![CDATA[ <p>Made do on a previous laptop but need new one sorted now so revisiting thread. Find full output below</p>
<p>I followed the wiki for whonix install on kicksecure with following command: whonix-xfce-installer-cli</p>
<p>This is the output I get (removed links as couldn’t post):</p>
<p>whonix-xfce-installer-cli: [NOTICE]: Command executing: $ sudo – apt-get full-upgrade --simulate<br>
Reading package lists…<br>
Building dependency tree…<br>
Reading state information…<br>
Calculating upgrade…<br>
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.<br>
whonix-xfce-installer-cli: [NOTICE]: VirtualBox Installation: Preparing to install VirtualBox…<br>
whonix-xfce-installer-cli: [WARN]: APT Repository List: Deb822-style Format is unsupported<br>
/usr/bin/whonix-xfce-installer-cli: line 1779: kali_domain_debsource: unbound variable<br>
whonix-xfce-installer-cli: [NOTICE]: Executed script, function, command executed: ‘/usr/bin/whonix-xfce-installer-cli’ ‘install_repositories_for_virtualbox_on_debian’ ‘kali_url=“${kali_prefix_debsource} ${protocol_prefix_debsource}${kali_domain_debsource}${kali_suffix_debsource}”’<br>
whonix-xfce-installer-cli: [ERROR]: Installer exited with code: ‘1’<br>
zsh: exit 1     whonix-xfce-installer-cli</p> ]]></description>
        <link>https://forums.kicksecure.com/t/followed-wiki-but-get-error-for-whonix-install/454#post_4</link>
        <pubDate>Tue, 30 Jul 2024 14:40:20 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1069</guid>
      </item>
      <item>
        <title>Kicksecure breaks Firefox and KeepassXC</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>On hardware, i.e. not a VM?</p>
<aside class="quote no-group" data-username="SteveK1978" data-post="1" data-topic="489">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/8491ac/48.png" class="avatar"> SteveK1978:</div>
<blockquote>
<p>On Firefox, some sites cause crash. Error message: <code>[Parent 1234, IPC I/O Parent] WARNING: process 53223 exit on signal 4: file ./ipc/chromium/src/base/process_util_posix.cc:264</code></p>
</blockquote>
</aside>
<p>Firefox from <a href="http://packages.debian.org">packages.debian.org</a>? Simple…</p>
<pre><code>firefox
</code></pre>
<p>Or flatpak or something?</p>
<p>Do you know a website where this is reliably reproducible?</p>
<aside class="quote no-group" data-username="SteveK1978" data-post="1" data-topic="489">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/8491ac/48.png" class="avatar"> SteveK1978:</div>
<blockquote>
<p>KeepassXC error message: <code>illegal instructions (core dump)</code></p>
</blockquote>
</aside>
<p>I cannot reproduce this anywhere.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-breaks-firefox-and-keepassxc/489#post_2</link>
        <pubDate>Sun, 28 Jul 2024 20:05:54 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1068</guid>
      </item>
      <item>
        <title>Ethernet Network Wired connection not working after fresh install</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Tested to be functional:</p>
<ul>
<li>A) LAN port;</li>
<li>B) USB LAN adapter</li>
</ul>
<p>So that should work.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ethernet-network-wired-connection-not-working-after-fresh-install/479#post_3</link>
        <pubDate>Sun, 28 Jul 2024 19:40:00 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1065</guid>
      </item>
      <item>
        <title>Apt-cacher-ng setup for Kicksecure templates?</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Written just now:<br>
<a href="https://www.kicksecure.com/wiki/Tor#Using_cacher_over_Tor">Using cacher over Tor</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/apt-cacher-ng-setup-for-kicksecure-templates/504#post_2</link>
        <pubDate>Sun, 28 Jul 2024 13:13:06 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1064</guid>
      </item>
      <item>
        <title>General questions when installing Kicksecure inside Debian for Qubes</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group quote-modified" data-username="duck" data-post="5" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/a9adbd/48.png" class="avatar"> duck:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I did not check if <code>qubes-core-agent-passwordless-root</code> results in effectively running <code>/usr/sbin/adduser user sudo</code>. In theory, the command might be superfluous at worst and the user is typing 1 command without making any difference.</p>
</blockquote>
</aside>
<p>I tried to remove a saved network in sys-net (requires higher privileges) and it failed when I did not have <code>password-less root</code> or did not have the user in the <code>sudo</code> group. It worked fine when I had either one of those though, so they both serve the same purpose from the looks of it. (Not an extensive test but this is what I tried.)</p>
</blockquote>
</aside>
<p><code>qubes-core-agent-passwordless-root</code> does quite a lot more. What’s that? If you want to dig deep, read the source code. Not developed by Kicksecure. Therefore this is the wrong place to ask about <code>qubes-core-agent-passwordless-root</code> technical details.</p>
<aside class="quote no-group quote-modified" data-username="duck" data-post="5" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/a9adbd/48.png" class="avatar"> duck:</div>
<blockquote>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="2" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Using <code>apt</code> command line [<code>--no-install-recommends</code> ] option is in most cases optional.</p>
</blockquote>
</aside>
<p>Yes, I am aware it is optional, although there are some instances in the documentation where it is used and others where it is not. I was wondering if the reason it is not suggested when installing <code>extrepo</code> is that breakage will occur if it used. Please confirm if that is the case.</p>
</blockquote>
</aside>
<p><a href="https://www.whonix.org/wiki/Reporting_Bugs#Support_Request_Policy">Support Request Policy</a> applies.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/general-questions-when-installing-kicksecure-inside-debian-for-qubes/501#post_6</link>
        <pubDate>Sun, 28 Jul 2024 12:35:56 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1063</guid>
      </item>
      <item>
        <title>Apt-cacher-ng setup for Kicksecure templates?</title>
        <dc:creator><![CDATA[@duck]]></dc:creator>
        <description><![CDATA[ <p>Hello, I am planning on creating multiple Kicksecure templates in Qubes and would like to user apt-cacher. I will use this tutorial: (https://)github(.com)/unman/notes/blob/master/apt-cacher-ng.md (can’t add links)</p>
<p>Is there any documentation for Kicksecure on how to change the apt-cacher configuration to allow it to work with tor-ified updates?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/apt-cacher-ng-setup-for-kicksecure-templates/504#post_1</link>
        <pubDate>Sun, 28 Jul 2024 04:00:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1062</guid>
      </item>
      <item>
        <title>General questions when installing Kicksecure inside Debian for Qubes</title>
        <dc:creator><![CDATA[@duck]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>I did not check if <code>qubes-core-agent-passwordless-root</code> results in effectively running <code>/usr/sbin/adduser user sudo</code>. In theory, the command might be superfluous at worst and the user is typing 1 command without making any difference.</p>
</blockquote>
</aside>
<p>I tried to remove a saved network in sys-net (requires higher privileges) and it failed when I did not have <code>password-less root</code> or did not have the user in the <code>sudo</code> group. It worked fine when I had either one of those though, so they both serve the same purpose from the looks of it. (Not an extensive test but this is what I tried.)</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="2" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Using <code>apt</code> command line [<code>--no-install-recommends</code> ] option is in most cases optional.</p>
</blockquote>
</aside>
<p>Yes, I am aware it is optional, although there are some instances in the documentation where it is used and others where it is not. I was wondering if the reason it is not suggested when installing <code>extrepo</code> is that breakage will occur if it used. Please confirm if that is the case.</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Added another footnote just now.</p>
</blockquote>
</aside>
<p>Thank you.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/general-questions-when-installing-kicksecure-inside-debian-for-qubes/501#post_5</link>
        <pubDate>Sun, 28 Jul 2024 02:13:17 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1060</guid>
      </item>
      <item>
        <title>General questions when installing Kicksecure inside Debian for Qubes</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="duck" data-post="1" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/a9adbd/48.png" class="avatar"> duck:</div>
<blockquote>
<p>What is the difference between <code>/usr/sbin/adduser user sudo</code> and installing <code>qubes-core-agent-passwordless-root</code>? Do they achieve the exact same result?</p>
</blockquote>
</aside>
<p>I did not check if <code>qubes-core-agent-passwordless-root</code> results in effectively running <code>/usr/sbin/adduser user sudo</code>. In theory, the command might be superfluous at worst and the user is typing 1 command without making any difference.</p>
<p>The distribution morphing documentation isn’t specifically targeted only at Qubes users. As long as there is no <a href="https://forums.kicksecure.com">Kicksecure Qubes Template</a> this isn’t the “perfect installation method” for Qubes users.</p>
<p><a href="https://www.kicksecure.com/wiki/Debian">Kicksecure distribution morphing</a> a highly portable installation method supporting many kinds of Debian based distribution, VMs and many hardware architectures.</p>
<aside class="quote no-group quote-modified" data-username="duck" data-post="1" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/a9adbd/48.png" class="avatar"> duck:</div>
<blockquote>
<ul>
<li>Are these following steps necessary when installing on Qubes? If so, why?</li>
</ul>
<blockquote>
<p><strong>5.</strong> Create group <code>console</code>.</p>
<p><code>/usr/sbin/addgroup --system console</code></p>
<p><strong>6.</strong> Add your Linux account user name to group <code>console</code>.</p>
<p>Note: Replace user <code>user</code> with your actual user name.</p>
<p><code>/usr/sbin/adduser user console</code></p>
</blockquote>
</blockquote>
</aside>
<p>Added a new footnote just now.</p>
<blockquote>
<p>Context: <a href="https://www.kicksecure.com/wiki/Dev/Strong_Linux_User_Account_Isolation#Console_Lockdown">Console Lockdown</a> Required for login into a <a href="https://www.kicksecure.com/wiki/Desktop#Virtual_Consoles">Virtual Consoles</a> which might be handy in context of <a href="https://www.kicksecure.com/wiki/Recovery">Recovery</a>.</p>
</blockquote>
<aside class="quote no-group" data-username="duck" data-post="1" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/a9adbd/48.png" class="avatar"> duck:</div>
<blockquote>
<p>Why is <code>--no-install-recommends</code> not used when installing <code>extrepo</code>?</p>
</blockquote>
</aside>
<p>Using <code>apt</code> command line <a href="https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends%20parameter"><code>--no-install-recommends</code></a> option is in most cases optional.</p>
<aside class="quote no-group" data-username="duck" data-post="1" data-topic="501">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/a9adbd/48.png" class="avatar"> duck:</div>
<blockquote>
<ul>
<li>Which installation method would be considered generally safer, <code>Using extrepo</code> or <code>Manually</code>?</li>
</ul>
</blockquote>
</aside>
<p>Added another footnote just now.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/general-questions-when-installing-kicksecure-inside-debian-for-qubes/501#post_2</link>
        <pubDate>Sat, 27 Jul 2024 13:23:20 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1056</guid>
      </item>
      <item>
        <title>General questions when installing Kicksecure inside Debian for Qubes</title>
        <dc:creator><![CDATA[@duck]]></dc:creator>
        <description><![CDATA[ <p>Hello, I am following the <code>Install Kicksecure inside Debian</code> documenation and had a few questions. I am aiming to install the <code>Kicksecure CLI package</code> on a <code>Debian-12-minimal</code> template for reference.</p>
<ul>
<li>
<p>Which installation method would be considered generally safer, <code>Using extrepo</code> or <code>Manually</code>?</p>
</li>
<li>
<p>Why is <code>--no-install-recommends</code> not used when installing <code>extrepo</code>? It also is not used when installing <code>apt-transport-tor</code> when using the manual method. Why is this the case?</p>
</li>
<li>
<p>Are these following steps necessary when installing on Qubes? If so, why?</p>
</li>
</ul>
<blockquote>
<p><strong>5.</strong> Create group <code>console</code>.</p>
<p><code>/usr/sbin/addgroup --system console</code></p>
<p><strong>6.</strong> Add your Linux account user name to group <code>console</code>.</p>
<p>Note: Replace user <code>user</code> with your actual user name.</p>
<p><code>/usr/sbin/adduser user console</code></p>
</blockquote>
<ul>
<li>What is the difference between <code>/usr/sbin/adduser user sudo</code> and installing <code>qubes-core-agent-passwordless-root</code>? Do they achieve the exact same result?</li>
</ul> ]]></description>
        <link>https://forums.kicksecure.com/t/general-questions-when-installing-kicksecure-inside-debian-for-qubes/501#post_1</link>
        <pubDate>Fri, 26 Jul 2024 23:44:35 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1055</guid>
      </item>
      <item>
        <title>ISO: Change to unencrypted /boot if using Full Disk Encryption</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubpullrequest" data-onebox-src="https://github.com/Kicksecure/live-config-dist/pull/5">
  <header class="source">

      <a href="https://github.com/Kicksecure/live-config-dist/pull/5" target="_blank" rel="noopener">github.com/Kicksecure/live-config-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="https://github.com/Kicksecure/live-config-dist/pull/5" target="_blank" rel="noopener">[WIP] Improve localization and disk encryption</a>
      </h4>

    <div class="branches">
      <code>Kicksecure:master</code> ← <code>ArrayBolt3:master</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-07-24" data-time="01:15:29" data-timezone="UTC">01:15AM - 24 Jul 24 UTC</span>
        </div>

        <div class="user">
          <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="1 commits changed 9 files with 80 additions and 42 deletions">
          <a href="https://github.com/Kicksecure/live-config-dist/pull/5/files" target="_blank" rel="noopener">
            <span class="added">+80</span>
            <span class="removed">-42</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container"># WARNING - WORK IN PROGRESS

This pull request improves localization and full<span class="show-more-container"><a href="https://github.com/Kicksecure/live-config-dist/pull/5" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden"> disk encryption for Kicksecure 17. **This PR is not suitable for merge yet - several prerequisites in Kicksecure are missing and there are several bits that need cleaned up.** This is pretty close to being done though.

## Changes

* `debian/changelog`:
  * Bump version number. The Debian revision number is higher than necessary because I kept rebuilding things and incrementing the number for testing purposes - that will need reset to 1 before merging.
* `etc/calamares/branding/Kicksecure/*`:
  * Updated capitalization of style fields - this is necessary for Calamares 3.3.8 to parse them properly, failing to do so results in a solid black left sidebar.
  * Fixed the absence of a Kicksecure logo in the upper-left corner of the installer. This is generally where distros put their logos and it seemed appropriate to me. The logo component was taken from the larger, complete Kicksecure logo in the same directory.
  * Renamed logo.png to icon.png to fit with the terminology used by Calamares. This made room for a new logo.png to be created, which contains the logo which now appears in the upper-left corner of the installer.
* `etc/calamares/modules/partition.conf`:
  * Removed some obsolete fields that already have replacements integrated into the config file.
* `etc/calamares/modules/users.conf.dist`:
  * The changes here are vestigial and should be removed before merging this PR. I originally had attempted to add the ability for the end user to customize their user password and autologin status within Calamares, but as it turns out this results in Calamares trying to create a user account with a name that already exists (`user`), crashing the install. Ubuntu works around this by not having any user defined in the ISO itself, and dynamically creates a user account with casper upon ISO bootup. Kicksecure does not do this and thus this technique fails since the installed system has a user account before the users module ever runs, due to that user being hardcoded into the ISO. I considered some workarounds for this issue but ultimately decided that this was too much trouble for now and could be pursued at a later date.
* `etc/calamares/settings.conf.dist`:
    * Moved some fields down to the bottom of the file for readability. Not strictly necessary, but made working on the project easier.
    * Added the `locale` and `keyboard` modules to the `show` component of the `sequence` section. This allows the user to customize their localization, timezone, and keyboard layout information at installation time.
    * Added several modules to the `exec` component of the `sequence` section:
      * `locale` - allows setting locale to work. The absence of this module results in language settings not carrying over into the installed system.
      * `keyboard` - allows setting the keyboard layout to work.  The absence of this module results in keyboard layout settings not carrying over into the installed system.
      * `localecfg` - not entirely sure if this is needed, but it appeared important and so I added it. This was when I was first trying to get localization working right. This might be able to be dropped.
      * `displaymanager` - Vestigial, part of trying to get autologin working earlier. Should be dropped.
      * `shellprocess@fixconkeys_part1` and `shellprocess@fixconkeys_part2` - Vital for disk encryption, explained later.
    * Added two shellprocesses to the `instances` section. These are vital for disk encryption and are explained below.
* `etc/calamares/modules/shellprocess_fixconkeys_part1.conf` and `etc/calamares/modules/shellprocess_fixconkeys_part2.conf`:
  * Vital for disk encryption, explained below.

## Disk Encryption Fixes

In order for FDE to work ideally on Kicksecure, a newer version of Calamares than the one present in Bookworm is needed. I locally compiled Calamares 3.3.8 from Trixie for Bookworm and installed it into the live session for testing. This version of Calamares properly processes the `noEncrypt` parameter in `partitions.conf` and thus the `/boot` partition is excluded from encryption.

However, **this did not entirely solve disk encryption issues** - when installing Kicksecure using a language with a keyboard layout different from `us` (I used German in my testing), the keyboard layout used by cryptsetup for decrypting the disk is different than the one used by Calamares for setting the encryption passphrase. This is a situation that I previously dealt with in Lubuntu, and is a result of the console keymap not being set correctly within the system's initramfs.

Solving this issue requires changing the console keyboard layout within the initramfs at install time to match the keyboard layout chosen by the user. This is non-trivial and requires a pair of scripts (embedded into the `shellprocess_fixconkeys_part*.conf` configuration files) to accomplish.

* The first script runs within the live system itself, NOT in the installed system chroot that Calamares creates. This script determines the keyboard layout in use by the user using `setxkbmap -query`, processes the output so as to extract the two-character keyboard layout code, and saves it to `/dev/shm/fixconkeys-layout`. (The reason for choosing `/dev/shm` is because it is a tmpfs that can be shared between the live and installed systems at installation time.) After doing this, the script bind-mounts `/dev/shm` from the live system into the installed system so that the second script can access the `fixconkeys-layout` file from within the installed system chroot.
* The second script operates within the installed system via a chroot. It loads the keyboard layout from the `fixconkeys-layout` into the current console session, then saves the loaded settings into a system-wide location using `setupcon`. With this complete, it then regenerates all initramfs'es on the installed system using `dracut`, ensuring this configuration is installed into the initramfs. This ensures that when `cryptsetup` runs from within the initramfs to unlock the disk, the console keyboard layout is set properly, thus allowing the user to decrypt the disk using the same keyboard layout they used to encrypt it.

This solution works well in my testing, however Kicksecure is currently missing critical packages necessary for this to work. The following packages will have to be installed into the Kicksecure ISO at ISO build time for this solution to work properly:

* `console-common`
* `console-data`
* `console-setup-linux`
* `console-setup`
* `kbd`

I used workarounds to locally install these packages into the live environment and into the installed system for testing purposes, and can confirm that these five packages are sufficient to allow the keyboard layout fix described above to function properly.

Last but not least, the `calamares` and `calamares-settings-debian` packages from Trixie will need to be published in Debian's `bookworm-backports` repository before they are available for general use within Kicksecure. I filed a bug report for this in Debian to bring this to the `calamares` package maintainer's attention (and emailed him directly a day before), but have not heard back from him yet. Therefore I intend to attempt creating and maintaining the backport myself. The bug report is here: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1076740

## Mandatory Checklist

- [x] Legal agreements accepted. By contributing to this organisation, you acknowledge you have read, understood, and agree to be bound by these these agreements:

[Terms of Service](https://www.kicksecure.com/wiki/Terms_of_Service), [Privacy Policy](https://www.kicksecure.com/wiki/Privacy_Policy), [Cookie Policy](https://www.kicksecure.com/wiki/Cookie_Policy), [E-Sign Consent](https://www.kicksecure.com/wiki/E-Sign_Consent), [DMCA](https://www.kicksecure.com/wiki/DMCA), [Imprint](https://www.kicksecure.com/wiki/Imprint)

## Optional Checklist
The following items are optional but might be requested in certain cases.

- [x] I have tested it locally
- [x] I have reviewed and updated any documentation if relevant
- [x] I am providing new code and test(s) for it
  * Technically there aren't tests for this code other than manual checking, so while I am providing new code, I am not providing tests for it.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/iso-change-to-unencrypted-boot-if-using-full-disk-encryption/420#post_6</link>
        <pubDate>Fri, 26 Jul 2024 18:53:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1053</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Maybe. But commenting out those lines is the only thing I changed.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_9</link>
        <pubDate>Tue, 16 Jul 2024 15:04:49 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1048</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>This is now in the testers repository.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_8</link>
        <pubDate>Mon, 15 Jul 2024 21:43:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1044</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubcommit" data-onebox-src="https://github.com/Kicksecure/security-misc/commit/b7796a5334075d5fa538d7579003fde6287d7e6d">
  <header class="source">

      <a href="https://github.com/Kicksecure/security-misc/commit/b7796a5334075d5fa538d7579003fde6287d7e6d" target="_blank" rel="noopener">github.com/Kicksecure/security-misc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Kicksecure/security-misc/commit/b7796a5334075d5fa538d7579003fde6287d7e6d" target="_blank" rel="noopener">Unify method to find SUID files</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2024-07-11" data-time="09:04:22" data-timezone="UTC">09:04AM - 11 Jul 24 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/ben-grande" target="_blank" rel="noopener">
          <img alt="ben-grande" src="https://avatars.githubusercontent.com/u/143239025?v=4" class="onebox-avatar-inline" width="20" height="20">
          ben-grande
        </a>
      </div>

      <div class="lines" title="changed 1 files with 7 additions and 1 deletions">
        <a href="https://github.com/Kicksecure/security-misc/commit/b7796a5334075d5fa538d7579003fde6287d7e6d" target="_blank" rel="noopener">
          <span class="added">+7</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_7</link>
        <pubDate>Mon, 15 Jul 2024 21:15:27 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1043</guid>
      </item>
      <item>
        <title>Kicksecure 17.2.0.1 - All Platforms - Point Release!</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <h2><a name="download-1" class="anchor" href="https://forums.kicksecure.com#download-1"></a>Download</h2>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Download">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Download" target="_blank" rel="noopener" title="10:43AM - 06 May 2024">Kicksecure – 6 May 24</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://www.kicksecure.com/wiki/Download" target="_blank" rel="noopener">Download Kicksecure (FREE)</a></h3>

  <p>FREE Download Kicksecure. Kicksecure can be installed on a physical machine as a host operating system (OS), as a guest OS inside a virtual machine, or as a portable host OS on a USB data stick.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>(<a href="https://www.kicksecure.com/wiki/Point_Release">What is a point release?</a>)</p>
<hr>
<h1><a name="upgrade-2" class="anchor" href="https://forums.kicksecure.com#upgrade-2"></a>Upgrade</h1>
<p>Alternatively, in-place release upgrade is possible upgrade using <a href="https://www.kicksecure.com/wiki/Project-APT-Repository">Kicksecure repository</a>.</p>
<hr>
<p>This release would not have been possible without the numerous supporters of Kicksecure!</p>
<hr>
<p>Please Donate!</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Donate">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Donate" target="_blank" rel="noopener" title="12:22PM - 31 January 2024">Kicksecure – 31 Jan 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/432;"><img src="https://www.kicksecure.com/w/images/8/83/Payment.jpg?version=82f3e45ee49a6c0df81431424ee3fc2f" class="thumbnail" width="640" height="432"></div>

<h3><a href="https://www.kicksecure.com/wiki/Donate" target="_blank" rel="noopener">Donating to Kicksecure</a></h3>

  <p>PayPal, Bitcoin (BTC), Monero (XMR), Ethereum (ETH) or Token, Credit Card, Bank Wire, Others</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<p>Please Contribute!</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Contribute">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Contribute" target="_blank" rel="noopener" title="08:33AM - 04 October 2023">Kicksecure – 4 Oct 23</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:483/500;"><img src="https://www.kicksecure.com/w/images/0/07/Computer_n_screen.png?version=b6cc9963027950ad5fd1793106674efb" class="thumbnail" width="483" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Contribute" target="_blank" rel="noopener">Contribute to Kicksecure</a></h3>

  <p>Spread, Follow, Develop, Testing, Donate. Contribute to Freedom Software / Open Source.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<h1><a name="major-changes-3" class="anchor" href="https://forums.kicksecure.com#major-changes-3"></a>Major Changes</h1>
<ul>
<li><a href="https://www.kicksecure.com/wiki/ISO" class="inline-onebox">Kicksecure Live ISO and Installer</a> available for testers.</li>
<li>grub-live:
<ul>
<li>fix detection of initramfs-tools versus dracut</li>
</ul>
</li>
<li>vm-config-dist:
<ul>
<li><code>/etc/profile.d/20_power_savings_disable_in_vms.sh</code>: hide output in SSH login shell by no longer using subshell</li>
</ul>
</li>
<li>desktop-config-dist:
<ul>
<li>improve livecheck symbols and output
<ul>
<li>Keep showing info symbol when using persistent mode.</li>
<li>Show green filled circle symbol and text “live” in grub-live mode but without read-only. No longer showing a scary warning symbol.</li>
<li>Show CD symbol and text “ISO” when using ISO but without read-only mode.</li>
<li>Show green checkmark symbol and text “read-only” if using read-only mode.</li>
<li>Fix icon resolution. (Thanks to Ben Grande!)</li>
</ul>
</li>
</ul>
</li>
<li>helper-scripts:
<ul>
<li>added new script <code>append-once</code>:
<ul>
<li>
<blockquote>
<p>Usage: <code>/usr/bin/append-once 'line to append' /path/to/file</code></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li>kicksecure-meta-packages:
<ul>
<li>add to <code>kicksecure-recommended-cli</code>: <code>pcmciautils</code>, <code>usbutils</code>, <code>eject</code></li>
<li>add to <code>kicksecure-shared-host-xfce</code>: <code>laptop-detect</code>, <code>discover</code></li>
<li>Revert “install auditd by default” because it adds too many messages to systemd journal</li>
<li>add msgcollector-gui, icon-pack-dist to kicksecure-shared-host-xfce</li>
</ul>
</li>
<li>kicksecure-network-conf:
<ul>
<li>install <code>wireless-tools</code> by default</li>
</ul>
</li>
<li>KVM
<ul>
<li><code>/dev/urandom</code> → <code>/dev/random</code> (as per <a href="https://www.kicksecure.com/wiki/Dev/Entropy" class="inline-onebox">Entropy, Randomness, /dev/random vs /dev/urandom, Entropy Sources, Entropy Gathering Daemons, RDRAND</a>)</li>
<li>Upgraded XML Files machine to q35 chipset (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/hulahoop">@HulaHoop</a>!)</li>
<li><a href="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166/561">KVM image building and signing is now done by Patrick.</a> (<a href="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166/569">signed message by HulaHoop</a>)</li>
</ul>
</li>
<li>live-config-dist:
<ul>
<li>change grub boot menu text “ISO” → “Live ISO”</li>
<li>remove <code>sources-media</code> module because this runs <code>apt-get update</code> which times out after 500 seconds if there is no network connection during the installer This is to speed up installation when no network has been set up.</li>
<li>added a configuration file comparison helper (diff-helper)</li>
<li>fix, no longer set efiBootloaderId: “debian” to avoid conflict with Debian installations on internal hard drive when installing Kicksecure to an external hard drive</li>
<li>add firmware menu entry to grub ISO boot menu on EFI systems</li>
<li>change Live ISO background image</li>
<li>Fix icon path not being recognized (Thanks to grass!)</li>
<li>Use lock icon for Calamares installer (Thanks to grass!)</li>
<li><a href="https://forums.kicksecure.com/t/add-iso-and-version-number-to-boot-menu-of-iso/417" class="inline-onebox">Add ISO and version number to boot menu of ISO</a></li>
<li>allow running the Calamares Installer without password</li>
</ul>
</li>
<li>ram-wipe:
<ul>
<li>fixed additional kexec based ram-wipe when Secure Boot is enabled</li>
</ul>
</li>
<li>repository-dist:
<ul>
<li>improve error message in case of missing dependencies</li>
</ul>
</li>
<li>sdwdate:
<ul>
<li>Update onion sources (Thanks to TNT BOM BOM!)</li>
</ul>
</li>
<li>security-misc:
<ul>
<li>fix(etc): delete typo in /etc/apparmor.d tunables /etc/pam.d was present twice in a row (“/etc/pam.d//etc/pam.d”) in this file: /etc/apparmor.d/tunables/home.d/security-misc. (Thanks to Ashlen!)</li>
<li><a href="https://github.com/Kicksecure/security-misc/issues/225" class="inline-onebox">add `/etc/gitconfig` for better git security · Issue #225 · Kicksecure/security-misc · GitHub</a></li>
<li>Update README.md (Thanks to raja-grewal!)</li>
<li>Update Copyright (C) to 2024 (Thanks to Raja Grewal!)</li>
<li>Disable <code>firewire-net</code> module (Thanks to raja-grewal!)</li>
<li>Disable GPS modules like GNSS (Thanks to raja-grewal!)</li>
<li>Revert logging of martians (Thanks to raja-grewal!)</li>
<li>RFDS mitigation on Intel Atom CPUs (including E-cores) (Thanks to raja-grewal!)</li>
<li>GDS mitigation for CPUs (Thanks to raja-grewal!)</li>
<li>Clarify use of <code>mitigations=auto</code> (Thanks to raja-grewal!)</li>
<li>Add reference for RETBleed (Thanks to raja-grewal!)</li>
<li>Add reference for SSB (Thanks to raja-grewal!)</li>
<li>Merge spectre mitigations (Thanks to raja-grewal!)</li>
<li>Update BHI mitigation reference (Thanks to raja-grewal!)</li>
<li>BHI mitigation on Intel CPUs (Thanks to raja-grewal!)</li>
<li>no longer disable MSR by default fixes <a href="https://github.com/Kicksecure/security-misc/issues/215" class="inline-onebox">allow MSR kernel module being load / move from security-misc to vm-config-dist · Issue #215 · Kicksecure/security-misc · GitHub</a></li>
</ul>
</li>
<li>setup-wizard-dist:
<ul>
<li>change label from “Finish” got “OK”</li>
<li>do not run systemcheck if cancel button has been pressed</li>
<li>improve finish page to add default credentials</li>
</ul>
</li>
<li>swap-file-creator:
<ul>
<li>skip output if live mode is detected and not creating a swap file</li>
</ul>
</li>
<li>usability-misc:
<ul>
<li>Kicksecure VirtualBox Installer for Linux
<ul>
<li>fixed Debian sid support (Thanks to grass!)</li>
<li>fixed Kali support (Thanks to nyxnor!)</li>
<li>script improvements (Thanks to grass!)</li>
<li>add support for non-US system languages (Thanks to grass!)</li>
<li>improve Secure Boot enabled test</li>
<li>check if VMs exist before and after condition based VM deletion decision</li>
<li>Run CI with non-English locale (Thanks to grass!)</li>
</ul>
</li>
</ul>
</li>
<li>derivative-maker:
<ul>
<li>separate deletion step no longer needed by making derivative-maker build process idempotent</li>
<li>started use of <code>safe-rm</code></li>
<li>build VirtualBox VMs under dedicated dm-vbox-temp user to avoid the user needing to delete VirtualBox VMs before building for simplification</li>
<li>introduce <code>dist_build_redistributable=true</code> (set by <code>help-steps/dm-build-official</code>)
<ul>
<li>Enable binary derivative repository by default for official builds. Same as: ‘–repo true’</li>
</ul>
</li>
<li>add <code>--target source</code> to support creation of a xz source archive</li>
<li><code>--target windows</code>: download VirtualBox Windows installer exe from <a href="http://virtualbox.org">virtualbox.org</a></li>
<li>create local <code>/etc/hostname</code> on build host if it does not exist because <code>mmdebstrap</code> file <code>/etc/hostname</code> to exist</li>
<li>remove version number from libvirt xml files for code simplification</li>
<li>remove no longer needed options <code>--flavor kicksecure-xfce-host</code> and <code>--flavor kicksecure-cli-host</code> selecting <code>--flavor kicksecure-xfce</code> and <code>--flavor kicksecure-cli</code> will suffice to choose the correct <code>flavor_meta_packages_to_install</code> based on the <code>--target</code> option</li>
<li>fix <code>--target raw --flavor kicksecure-xfce-host</code></li>
<li>CI improvements (Thanks to Rob Stringer!)</li>
<li>install the <code>firmware-nonfree</code> (from <code>kicksecure-meta-packages</code>) by default
<ul>
<li>for host builds assume <code>--freedom false</code> by default</li>
<li>by using <code>--freedom true</code> the user can opt-out from installing <code>firmware-nonfree</code></li>
<li>see also:
<ul>
<li><a href="https://www.kicksecure.com/wiki/Dev/nonfree" class="inline-onebox">Non-Freedom Firmware and Drivers</a></li>
<li><a href="https://forums.whonix.org/t/whonix-host-nonfree-blobs-firmware-linux-nonfree/7251" class="inline-onebox">Whonix host - nonfree blobs - firmware-linux-nonfree - Development - Whonix Forum</a></li>
</ul>
</li>
</ul>
</li>
<li>automate installation dependencies required for derivative-maker</li>
<li>add content files for apt-file</li>
</ul>
</li>
</ul>
<hr>
<h1><a name="full-difference-of-all-changes-4" class="anchor" href="https://forums.kicksecure.com#full-difference-of-all-changes-4"></a>Full difference of all changes</h1>
<p><a href="https://github.com/Kicksecure/derivative-maker/compare/17.1.3.1-developers-only...17.2.0.1-developers-only">https://github.com/Kicksecure/derivative-maker/compare/17.1.3.1-developers-only…17.2.0.1-developers-only</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-17-2-0-1-all-platforms-point-release/492#post_1</link>
        <pubDate>Sat, 13 Jul 2024 22:25:19 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1042</guid>
      </item>
      <item>
        <title>How to remove Kicksecure and revert to Debian 12?</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="SteveK1978" data-post="1" data-topic="488">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/8491ac/48.png" class="avatar"> SteveK1978:</div>
<blockquote>
<p>How do I revert to Debian 12</p>
</blockquote>
</aside>
<p>Documented just now:</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Uninstall">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Uninstall" target="_blank" rel="noopener" title="10:48AM - 13 July 2024">Kicksecure – 13 Jul 24</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://www.kicksecure.com/wiki/Uninstall" target="_blank" rel="noopener">Uninstall Kicksecure</a></h3>

  <p>Guide on how to uninstall Kicksecure</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="SteveK1978" data-post="1" data-topic="488">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/8491ac/48.png" class="avatar"> SteveK1978:</div>
<blockquote>
<p>revert all permission settings?</p>
</blockquote>
</aside>
<p><a href="https://www.kicksecure.com/wiki/SUID_Disabler_and_Permission_Hardener#Disable_SUID_Disabler_and_Permission_Hardener">Disable SUID Disabler and Permission Hardener</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/how-to-remove-kicksecure-and-revert-to-debian-12/488#post_2</link>
        <pubDate>Sat, 13 Jul 2024 10:48:33 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1040</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="SteveK1978" data-post="5" data-topic="487">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/8491ac/48.png" class="avatar"> SteveK1978:</div>
<blockquote>
<p>When I ignore this warning, most of the icons are missing.</p>
</blockquote>
</aside>
<p>Highly unlikely that this is related.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_6</link>
        <pubDate>Sat, 13 Jul 2024 08:15:34 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1039</guid>
      </item>
      <item>
        <title>Running Android Apps inside Kicksecure - Waydroid</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>I have, in the past, gotten Waydroid to run under an X11 session with the help of Weston (running in windowed mode). It’s finicky and fiddly, but it works for the most part.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/running-android-apps-inside-kicksecure-waydroid/304#post_3</link>
        <pubDate>Fri, 12 Jul 2024 01:22:06 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1038</guid>
      </item>
      <item>
        <title>Kicksecure breaks Firefox and KeepassXC</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>I installed <code>kicksecure-cli</code> on my Debian 12 machine and it breaks latest Firefox-ESR and KeepassXC.<br>
On Firefox, some sites cause crash. Error message: <code>[Parent 1234, IPC I/O Parent] WARNING: process 53223 exit on signal 4: file ./ipc/chromium/src/base/process_util_posix.cc:264</code><br>
KeepassXC error message: <code>illegal instructions (core dump)</code><br>
Both fixed after purging all Kicksecure packages and reinstall <code>dbus</code>.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-breaks-firefox-and-keepassxc/489#post_1</link>
        <pubDate>Thu, 11 Jul 2024 15:28:59 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1036</guid>
      </item>
      <item>
        <title>How to remove Kicksecure and revert to Debian 12?</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Hi,<br>
I installed Kicksecure on Debian 12. How do I revert to Debian 12 and revert all permission settings?<br>
Thank you</p> ]]></description>
        <link>https://forums.kicksecure.com/t/how-to-remove-kicksecure-and-revert-to-debian-12/488#post_1</link>
        <pubDate>Thu, 11 Jul 2024 15:10:11 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1035</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>I am using Gnome 42 with customized theme. When I ignore this warning, most of the icons are missing.<br>
After I did what you suggested, all icons come back to work.<br>
Please fix!</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_5</link>
        <pubDate>Thu, 11 Jul 2024 14:12:56 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1034</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Yes.</p>
<p>And the workaround is not even required. Since permission-hardener failure does not break APT, there is no need for this workaround.</p>
<p>Meanwhile, you can safely ignore this warning.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_4</link>
        <pubDate>Thu, 11 Jul 2024 12:15:00 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1033</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>This temporary workaround is just simply not showing error messages?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_3</link>
        <pubDate>Tue, 09 Jul 2024 15:22:04 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1032</guid>
      </item>
      <item>
        <title>Apt-files not working after Kicksecure installed on Debian</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Thank you</p> ]]></description>
        <link>https://forums.kicksecure.com/t/apt-files-not-working-after-kicksecure-installed-on-debian/486#post_3</link>
        <pubDate>Tue, 09 Jul 2024 15:19:40 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1031</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Thanks for the bug report!</p>
<hr>
<p>Temporary workaround:</p>
<p>Open file <code>/usr/bin/permission-hardener</code> with root rights.</p>
<pre><code>sudoedit /usr/bin/permission-hardener
</code></pre>
<p>Look for line</p>
<pre><code>if test ! "${should_be_counter}" = "${counter_actual}"; then
</code></pre>
<p>Comment out or delete this while code block.</p>
<pre><code class="lang-auto">  if test ! "${should_be_counter}" = "${counter_actual}"; then
    echo "INFO: fso_to_process: '${fso_to_process}' | counter_actual   : '${counter_actual}'"
    echo "INFO: fso_to_process: '${fso_to_process}' | should_be_counter: '${should_be_counter}'"
    exit_code=202
    echo "ERROR: counter does not check out." &gt;&amp;2
  fi
</code></pre>
<p>Save.  That should workaround this bug for now.</p>
<hr>
<p>This issue will be fixed in the near future through an upgrade.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_2</link>
        <pubDate>Tue, 09 Jul 2024 12:16:23 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1030</guid>
      </item>
      <item>
        <title>Apt-files not working after Kicksecure installed on Debian</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Please follow documentation:</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Apt-file">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Apt-file" target="_blank" rel="noopener" title="08:22PM - 17 March 2023">Kicksecure – 17 Mar 23</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/500;"><img src="https://www.kicksecure.com/w/images/8/87/Aptfiles1614223640.jpg?version=e16a031f18abed6239d42ceca0880c42" class="thumbnail" width="640" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Apt-file" target="_blank" rel="noopener">apt-file</a></h3>

  <p>HowTo: install apt-file. It an be used to show which files are being included by a package.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/apt-files-not-working-after-kicksecure-installed-on-debian/486#post_2</link>
        <pubDate>Tue, 09 Jul 2024 11:51:49 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1029</guid>
      </item>
      <item>
        <title>Permission-hardener broken</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Hi,<br>
My permission hardener is broken. Whatever package I install it tells me these info when I reinstall a package:</p>
<pre><code class="lang-auto">Processing triggers for security-misc (3:37.5-1) ...
INFO: triggered security-misc: 'security-misc' security-misc DPKG_MAINTSCRIPT_NAME: 'postinst' $\@: 'triggered /usr' 2: '/usr'
/usr/libexec/security-misc/mmap-rnd-bits: INFO: Successfully written ASLR map config file:
/etc/sysctl.d/30_security-misc_aslr-mmap.conf
Running SUID Disabler and Permission Hardener... See also:
https://www.kicksecure.com/wiki/SUID_Disabler_and_Permission_Hardener
/var/lib/dpkg/info/security-misc.postinst: INFO: running: permission-hardener enable

INFO: fso_to_process: '/opt/' | counter_actual   : '1'
INFO: fso_to_process: '/opt/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/bin/' | counter_actual   : '4'
INFO: fso_to_process: '/usr/bin/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/lib64/' | counter_actual   : '0'
INFO: fso_to_process: '/usr/lib64/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/lib/' | counter_actual   : '4'
INFO: fso_to_process: '/usr/lib/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/local/bin/' | counter_actual   : '0'
INFO: fso_to_process: '/usr/local/bin/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/local/lib/' | counter_actual   : '0'
INFO: fso_to_process: '/usr/local/lib/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/local/sbin/' | counter_actual   : '0'
INFO: fso_to_process: '/usr/local/sbin/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: fso_to_process: '/usr/sbin/' | counter_actual   : '1'
INFO: fso_to_process: '/usr/sbin/' | should_be_counter: ''
ERROR: counter does not check out.
INFO: To compare the current and previous permission modes:
  Install 'meld' (or preferred diff tool) for comparison of file mode changes:
    sudo apt install --no-install-recommends meld

  Use 'meld' or another diff tool to view the differences:
    meld /var/lib/permission-hardener/existing_mode/statoverride /var/lib/permission-hardener/new_mode/statoverride
ERROR: Exiting with non-zero exit code: '202'
/var/lib/dpkg/info/security-misc.postinst: ERROR: Permission hardening failed.
Processing triggers for man-db (2.11.2-2) ...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
0 upgraded, 0 newly installed, 1 reinstalled, 0 to remove and 0 not upgraded.
</code></pre>
<p>Please help me to fix! Thanks!</p> ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-broken/487#post_1</link>
        <pubDate>Mon, 08 Jul 2024 15:42:47 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1028</guid>
      </item>
      <item>
        <title>Apt-files not working after Kicksecure installed on Debian</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Hi,<br>
After install Kicksecure related packages on Debian 12, <code>apt-files search</code> always tells me “cache is empty” even I execute “apt-files update”.<br>
I installed <code>apt install security-misc usability-misc apparmor-profiles-kicksecure sandbox-app-launcher kicksecure-base-files dist-base-files</code><br>
Please help me to fix this!<br>
Thanks in advance</p> ]]></description>
        <link>https://forums.kicksecure.com/t/apt-files-not-working-after-kicksecure-installed-on-debian/486#post_1</link>
        <pubDate>Mon, 08 Jul 2024 14:35:12 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1027</guid>
      </item>
      <item>
        <title>ISO - Development</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <ul>
<li><a href="https://packages.debian.org/source/sid/hw-detect" class="inline-onebox">Debian -- Details of source package hw-detect in sid</a></li>
<li><a href="https://salsa.debian.org/installer-team/hw-detect/-/blob/master/hw-detect.sh?ref_type=heads" class="inline-onebox">hw-detect.sh · master · Debian Installer / hw-detect · GitLab</a></li>
</ul> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-development/371#post_5</link>
        <pubDate>Fri, 05 Jul 2024 17:07:20 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1025</guid>
      </item>
      <item>
        <title>Upgrade 12.5 to 12.6 error</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Nevermind, by default, autologin was enabled. I disabled and restarted it, all fixed.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/upgrade-12-5-to-12-6-error/484#post_2</link>
        <pubDate>Wed, 03 Jul 2024 17:04:37 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1024</guid>
      </item>
      <item>
        <title>Upgrade 12.5 to 12.6 error</title>
        <dc:creator><![CDATA[@SteveK1978]]></dc:creator>
        <description><![CDATA[ <p>Hi,<br>
I had Debian 12.5+Kicksecure+Gnome<br>
I upgraded to Debian 12.6 by <code>apt dist-upgrade -y</code> and it is showing me "A problem has occurred and the system can’t recover. Please contact a system administrator.”<br>
What should I do now?<br>
Thanks in advance!</p> ]]></description>
        <link>https://forums.kicksecure.com/t/upgrade-12-5-to-12-6-error/484#post_1</link>
        <pubDate>Wed, 03 Jul 2024 16:14:25 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1023</guid>
      </item>
      <item>
        <title>Kicksecure no password prompt on gnu grub</title>
        <dc:creator><![CDATA[@coke]]></dc:creator>
        <description><![CDATA[ <p>I figured it out, it wasnt because i did an update but beause i put it on a removeable drive and when i booted without it pluged in, my motherboard deleted the nvram entry (telling it what .efi file to boot from) and the default boot folder has a grub.cfg file that is setup as if you didnt encrypt your harddrive so it doesnt run cryptomount and the other required things to boot a encrypted drive causing to fail and just fall out to grub command line.</p>
<p>so heres how to fix it for anyone with the same problem (my install is in efi mode and not bios so if yours is bios then idk how to help you)</p>
<p>first to boot from grub manually:<br>
you need to find your boot partition mine was (hd0,gpt2)<br>
to find it do type: ls<br>
this will list all your partitions and you will have to check each one by typing ls followed by their name<br>
example: ls (hd0,gpt2)<br>
since your boot should be encrypted your boot drive is gonna say No Known filesystem deteced and the size should be about 4gb mine says (4194304KiB)<br>
cool now we gotta unencrypt it so type: cryptomount (hd0,gtp2)<br>
replace (hd0,gpt2) with what ever is your boot partition<br>
put in your password and if you type it correct it should say Slot 0 opened<br>
now confirm its your boot partition by typing: ls (crypto0)<br>
it should be labeled ‘boot’<br>
if this isnt it then cryptomount the next drive and that drive will be (crypto1) and so on</p>
<p>now that you have the boot drive and its unencrypted and mounted to (crypto0)<br>
we can boot manualy, here are the commands</p>
<pre><code class="lang-auto">set boot=(crypto0)
set prefix=(crypto0)/grub
insmod normal
normal
</code></pre>
<p>and now you have manually booted!</p>
<p>ok now to fix the problem at hand<br>
since kicksecure is goofy and doesnt have a working grub.cfg in the default boot folder we are gonna have to replace it.</p>
<p>so open a terminal and type: sudo thunar<br>
then navigate to /boot/efi/EFI<br>
their should be 2 folder in there BOOT and Kicksecure</p>
<p>go into Kicksecure and copy grub.cfg<br>
then go into the BOOT folder and replace the grub.cfg with the one from the Kicksecure folder</p>
<p>and now when you reboot, grub will prompt you for your password!<br>
if you update, it might change the bootloader and you might have to repeat all this</p>
<p>if you are using secure boot or want to then heres a bonus step<br>
go into the Kicksecure folder and copy shimx64.efi<br>
and put it in the BOOT folder then delete BOOTX64.EFI and rename shimx64.efi to BOOTX64.EFI</p>
<p>a little info on what this does  by default if your computer doesnt have a nvram entry to know what efi file to try then it will default to /EFI/BOOT/BOOTX64.EFI<br>
in this case BOOTX64.EFI is just grubx64.efi renamed and will try to run the grub.cfg in its folder<br>
thats why we changed it to the one from the kicksecure folder<br>
and since grubx64.efi isnt signed it wont boot in secure boot but shimx64.efi is singed and will run in secure boot then shimx64.efi will just run grubx64.efi automaticaly</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-no-password-prompt-on-gnu-grub/483#post_3</link>
        <pubDate>Mon, 01 Jul 2024 20:18:46 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1022</guid>
      </item>
      <item>
        <title>Kicksecure no password prompt on gnu grub</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>For now, the unfortunate status is: Don’t expect that anyone will be able to suggest a solution. Too difficult. Most likely nobody will known.</p>
<p>When <a href="https://forums.kicksecure.com/t/iso-change-to-unencrypted-boot-if-using-full-disk-encryption/420" class="inline-onebox">ISO: Change to unencrypted /boot if using Full Disk Encryption</a> gets implemented, this issue won’t happen again for new installations.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-no-password-prompt-on-gnu-grub/483#post_2</link>
        <pubDate>Sun, 30 Jun 2024 12:10:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1021</guid>
      </item>
      <item>
        <title>Kicksecure no password prompt on gnu grub</title>
        <dc:creator><![CDATA[@coke]]></dc:creator>
        <description><![CDATA[ <p>I installed kicksecure iso to a harddrive and did full disk encryption and it worked fine (grub prompted me for password and i could boot) but then i did dist-upgrade or upgrade-nonroot (what everone it asked me to do) and when i boot, grub no longers asks me for my password and just go’s into command line mode.</p>
<p>how can i boot manually with grubs and or fix it?<br>
i can cryptomount (hd0,gpt2)  and (hd0,gpt3)<br>
and when i look at them with ls (crypto0) they look fine</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-no-password-prompt-on-gnu-grub/483#post_1</link>
        <pubDate>Sun, 30 Jun 2024 10:08:41 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1020</guid>
      </item>
  </channel>
</rss>
