<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Grub live ideas and suggestions / Grub live entry for offline mode / Grub live entry that boots with Tor only firewall rules - Development - Kicksecure Forums</title>
    <meta name="description" content="Dear Kicksecure Development Team, 
I would like to suggest some enhancements to the GRUB Live environment. Specifically, it would be beneficial to include additional features or options that could improve user experience&amp;hellip;">
    <meta name="generator" content="Discourse 3.3.1 - https://github.com/discourse/discourse version c4ece1a7b7536e27e7731c7dceceec72ad9f5dca">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="553.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_b2f3429b3a6823d4bfd84795370bcae2e5c300dc.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_b2f3429b3a6823d4bfd84795370bcae2e5c300dc6?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27desktop_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27checklist_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-details_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_b760c05956fd6824935dd83e4fdad148bf0d382e61cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27docker_manager_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/poll_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27poll_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_aef98673c5595d8c40738f2dee8948eaf9fe7e56.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_aef98673c5595d8c40738f2dee8948eaf9fe7e5661cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_17a5426af1697cf68ed1f7986d50b8597d972709.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_17a5426af1697cf68ed1f7986d50b8597d97270961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Grub live ideas and suggestions / Grub live entry for offline mode / Grub live entry that boots with Tor only firewall rules&#39;" href="553.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/grub-live-ideas-and-suggestions-grub-live-entry-for-offline-mode-grub-live-entry-that-boots-with-tor-only-firewall-rules/553" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/grub-live-ideas-and-suggestions-grub-live-entry-for-offline-mode-grub-live-entry-that-boots-with-tor-only-firewall-rules/553" />
<meta property="og:title" content="Grub live ideas and suggestions / Grub live entry for offline mode / Grub live entry that boots with Tor only firewall rules" />
<meta name="twitter:title" content="Grub live ideas and suggestions / Grub live entry for offline mode / Grub live entry that boots with Tor only firewall rules" />
<meta property="og:description" content="Dear Kicksecure Development Team,  I would like to suggest some enhancements to the GRUB Live environment. Specifically, it would be beneficial to include additional features or options that could improve user experience and functionality. Here are two ideas to include with the grub-live package:    Grub live entry for offline mode:  another grub live entry for booting into Live mode USER with all networking disabled    Grub live entry that boots with Tor only firewall rules:  another grub live ..." />
<meta name="twitter:description" content="Dear Kicksecure Development Team,  I would like to suggest some enhancements to the GRUB Live environment. Specifically, it would be beneficial to include additional features or options that could improve user experience and functionality. Here are two ideas to include with the grub-live package:    Grub live entry for offline mode:  another grub live entry for booting into Live mode USER with all networking disabled    Grub live entry that boots with Tor only firewall rules:  another grub live ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2024-08-29T03:46:10+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="553.html">Grub live ideas and suggestions / Grub live entry for offline mode / Grub live entry that boots with Tor only firewall rules</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Grub live ideas and suggestions / Grub live entry for offline mode / Grub live entry that boots with Tor only firewall rules'>
      <link itemprop='url' href='553.html'>
      <meta itemprop='datePublished' content='2024-08-29T03:46:10Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure Forums'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Yatogami'><span itemprop='name'>Yatogami</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="553.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-08-29T03:46:10Z' class='post-time'>
                    August 29, 2024,  3:46am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-14T13:44:58Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Dear Kicksecure Development Team,</p>
<p>I would like to suggest some enhancements to the GRUB Live environment. Specifically, it would be beneficial to include additional features or options that could improve user experience and functionality. Here are two ideas to include with the grub-live package:</p>
<ul>
<li>
<p><strong>Grub live entry for offline mode</strong>:  another grub live entry for booting into Live mode USER with all networking disabled</p>
</li>
<li>
<p><strong>Grub live entry that boots with Tor only firewall rules</strong>:  another grub live entry for booting into Live mode USER with Tor only firewall with tor transparent proxy for users that are on lower RAM systems that don’t want to install whonix with the installer in usability misc but already have tb-launcher installed. Tor daemon already comes installed with Kicksecure so additionally maybe load some torsocks wrappers for certain commands like curl, wget, git, whois, etc. if possible.</p>
</li>
</ul>
<p>Here are some drafts that I havent tried yet but will put them here for a starting point, reference, and ideas.</p>
<p><strong>offline mode</strong><br>
<code>/etc/grub.d/40_offline_mode</code></p>
<pre><code class="lang-auto"># GRUB Live entry to disable networking (offline mode)
menuentry "LIVE mode USER (Offline Mode)" {
    # Run the disable networking script that blacklists all wireless drivers and firewall to block all traffic
    /usr/local/bin/disable_networking
    set root=(hd0,1)  # Adjust this to your root partition
    # mask network target
    linux /vmlinuz-linux root=/dev/sda1 quiet splash systemd.mask=network.target
    initrd /initramfs-linux.img
}
</code></pre>
<p><code>/usr/local/bin/disable_networking</code></p>
<pre><code class="lang-auto">#!/bin/bash
### Grub disable networking script called by 
## Blacklist all wifi drivers
## Blacklist bluetooth driver (commented out)

# Create blacklist file

touch /etc/modprobe.d/disable_networking.conf 2&gt;/dev/null

# Define the blacklist file path
BLACKLIST_FILE="/etc/modprobe.d/disable_networking.conf"

# Create or clear the blacklist file
echo "# Custom blacklist for wireless drivers" | tee $BLACKLIST_FILE &gt; /dev/null

# Get the list of wireless drivers
WIRELESS_DRIVERS=$(ls /lib/modules/$(uname -r)/kernel/drivers/net/wireless/)

# Check if there are any wireless drivers
if [ -z "$WIRELESS_DRIVERS" ]; then
    echo "No wireless drivers found in /lib/modules/$(uname -r)/kernel/drivers/net/wireless/"
else
    # Loop through each driver and add it to the blacklist
    for DRIVER in $WIRELESS_DRIVERS; do
        DRIVER_NAME=$(basename "$DRIVER" | sed 's/\.[^.]*$//')  # Remove file extension
        echo "blacklist $DRIVER_NAME" | tee -a $BLACKLIST_FILE &gt; /dev/null
        echo "Blacklisted driver: $DRIVER_NAME"
        
        # Remove the driver if it is currently loaded
        if lsmod | grep -q "$DRIVER_NAME"; then
            echo "Removing loaded driver: $DRIVER_NAME"
            modprobe -r "$DRIVER_NAME"
        fi
    done
fi

## Blacklist bluetooth
# List of Bluetooth drivers to blacklist
#BT_DRIVERS=(
#    "btusb"
#    "bluetooth"
#    "btintel"
#)
#
# Loop through the drivers and add them to the blacklist
#for DRIVER in "${BT_DRIVERS[@]}"; do
#    echo "blacklist $DRIVER" &gt;&gt; "BLACKLIST_FILE"
#    modprobe -r "$DRIVER"
#done


### Firewall
# Set up nftables to disable all incoming, forwarding, and outgoing traffic
echo "Setting up nftables to disable all network traffic..."

# Flush existing rules
nft flush ruleset

# Create a new ruleset
nft add table inet filter
nft add chain inet filter input { type filter hook input priority 0; }
nft add chain inet filter forward { type filter hook forward priority 0; }
nft add chain inet filter output { type filter hook output priority 0; }

# Set default policies to drop all traffic
nft add rule inet filter input drop
nft add rule inet filter forward drop
nft add rule inet filter output drop

echo -e " All wireless drivers have been blacklisted in $BLACKLIST_FILE.\n All network traffic has been disabled.\n Offline mode enabled"
</code></pre>
<p><strong>Tor only</strong><br>
<code>/etc/grub.d/40_tor_only_firewall</code></p>
<pre><code class="lang-auto">menuentry "LIVE mode USER (Tor Only)" {
    # Run the Tor firewall script
    /usr/local/bin/Tor_only_firewall
    # Boot into the default kernel
    linux /vmlinuz-&lt;your-kernel-version&gt; root=/dev/sda1 ro
    initrd /initrd.img-&lt;your-kernel-version&gt;
}
</code></pre>
<p><code>/usr/local/bin/Tor_only_firewall</code></p>
<pre><code class="lang-auto">#!/bin/bash
### Tor only firewall for GRUB Live (Tor Only)
# Flush existing rules
nft flush ruleset

# Create a new ruleset
nft add table inet filter
nft add chain inet filter input { type filter hook input priority 0; }
nft add chain inet filter forward { type filter hook forward priority 0; }
nft add chain inet filter output { type filter hook output priority 0; }

# Allow loopback traffic
nft add rule inet filter input iif "lo" accept
nft add rule inet filter output oif "lo" accept

# Allow established and related connections
nft add rule inet filter input ct state established,related accept
nft add rule inet filter output ct state established,related accept

# Allow Tor traffic (default Tor port is 9050)
nft add rule inet filter input tcp dport 9050 accept
nft add rule inet filter output tcp sport 9050 accept

# Allow DNS traffic (UDP port 53)
nft add rule inet filter input udp dport 53 accept
nft add rule inet filter output udp sport 53 accept

# Drop all other traffic
nft add rule inet filter input drop
nft add rule inet filter forward drop
nft add rule inet filter output drop

echo "Tor only firewall rules applied."
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-29T11:49:00Z' class='post-time'>
                    August 29, 2024, 11:49am
                  </time>
                  <meta itemprop='dateModified' content='2024-08-29T11:49:00Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Unfortunately, this is probably incompatible with future plans, that is<br>
allowing the user to choose user or admin during boot. See:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/Dev/boot_modes">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="40" height="40">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Dev/boot_modes" target="_blank" rel="noopener" title="11:50AM - 19 July 2024">Kicksecure – 19 Jul 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/387;"><img src="../../../external.html?link=https://www.kicksecure.com/w/images/f/fc/Kicksecure-twitter-post.jpg?version=30a0ad75271a4836786771c345c960b8" class="thumbnail" width="690" height="388"></div>

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Dev/boot_modes" target="_blank" rel="noopener">Multiple Boot Modes for Better Security: an Implementation of Untrusted Root</a></h3>

  <p>Persistent User / Live user / Persistent Secureadmin / Persistent Superadmin / Persistent Recovery Mode</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>That way, all boot options would quickly double.</p>
<p>There’s just a limited amount of boot menu entries that make sense to<br>
not over-complicate Kicksecure.</p>
<blockquote>
<ul>
<li><strong>Grub live entry that boots with Tor only firewall rules</strong>:  another grub live entry for booting into Live mode USER with Tor only firewall with tor transparent proxy for users that are on lower RAM systems that don’t want to install whonix with the installer in usability misc but already have tb-launcher installed. Tor daemon already comes installed with Kicksecure so additionally maybe load some torsocks wrappers for certain commands like curl, wget, git, whois, etc. if possible.</li>
</ul>
</blockquote>
<p>Out of scope for Kicksecure as per:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="40" height="40">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy" target="_blank" rel="noopener" title="05:55PM - 23 January 2024">Kicksecure – 23 Jan 24</a>
  </header>

  <article class="onebox-body">
    <img width="500" height="500" src="../../../external.html?link=https://www.kicksecure.com/w/images/d/d4/Privacy_Goals_and_Non-Goals.png?version=c36df86a4b34cee817898b5c367669b6" class="thumbnail onebox-avatar">

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy" target="_blank" rel="noopener">Privacy Goals and Non-Goals of Kicksecure</a></h3>

  <p>An overview of the privacy goals and non-goals of Kicksecure, emphasizing its focus on security over privacy and anonymity.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<blockquote>
<p>Here are some drafts that I havent tried yet but will put them here for a starting point, reference, and ideas.</p>
<p><strong>offline mode</strong><br>
<code>/etc/grub.d/40_offline_mode</code></p>
</blockquote>
<p>We cannot write menuentry directly to /etc/grub.d/. We cannot hardcode<br>
any /etc/grub.d/ because these need to be automatically updated on<br>
kernel upgrades. So the proper mechanisms need to be used similar to how<br>
grub-live is implementing this.</p>
<blockquote>
<pre><code> /usr/local/bin/disable_networking
</code></pre>
</blockquote>
<p>It’s not possible to run shell scripts from grub boot menu. At best, a<br>
kernel parameter can be set. Then during boot, the init system (in case<br>
of Kicksecure at time of writing: systemd) can react on that kernel<br>
parameter and act accordingly such as by executing a shells script.</p>
<p>This is non-trivial to develop. Hence, above proposal has not been<br>
implemented yet.</p>
<blockquote>
<p>BLACKLIST_FILE=“/etc/modprobe.d/disable_networking.conf”</p>
</blockquote>
<p>This would need to be written before it is processed. Probably doable<br>
with the correct systemd unit file ordering but non-trivial.</p>
<p>Then also there needs to be a solid implementation to delete or<br>
deactivate such a file during a regular boot.</p>
<p>Since this is unlikely getting implemented into Kicksecure anytime soon<br>
or never at all, I recommend to look for other places where you can<br>
request such features. To mind come the initrd generator (dracut),<br>
systemd, the network stack (NetworkManager), Linux, Debian.</p>
<p>If such features are implemented upstream, these become much easier to<br>
use within Kicksecure.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
