<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Kicksecure cloning error - Support - Kicksecure Forums</title>
    <meta name="description" content="Hello. I have set up my Kicksecure and decided to make a clone. I have tried different methods but when I install the clone I get an error. How can I avoid this error when installing system? Help please 
debconf: (Can&amp;#39;t &amp;hellip;">
    <meta name="generator" content="Discourse 3.3.3 - https://github.com/discourse/discourse version 7066b89b18555d4dbdaeed8eebafeb63da950faf">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="823.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_d24c08f68d8198c14c034c857affc3566d0b7d18.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_d24c08f68d8198c14c034c857affc3566d0b7d186?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27desktop_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27checklist_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-details_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_7da606fe7bf19946b45c48039ec67ec79bab785d61cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27docker_manager_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27footnote_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27poll_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_8511c4b38b012f2a61e3e2ab71c50fe8b1091b70.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_8511c4b38b012f2a61e3e2ab71c50fe8b1091b7061cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_c96d32376ee71266b45e85a3eb642846e8a352d9.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_c96d32376ee71266b45e85a3eb642846e8a352d961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Kicksecure cloning error&#39;" href="823.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/kicksecure-cloning-error/823" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/kicksecure-cloning-error/823" />
<meta property="og:title" content="Kicksecure cloning error" />
<meta name="twitter:title" content="Kicksecure cloning error" />
<meta property="og:description" content="Hello. I have set up my Kicksecure and decided to make a clone. I have tried different methods but when I install the clone I get an error. How can I avoid this error when installing system? Help please  debconf: (Can&#39;t locate Debconf/FrontEnd/Nointeractive.pm in @INC (you may need to install the Debconf::FrontEnd::Nointeractive module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.36.0 /usr/local/share/perl/5.36.0 /usr/lib/x86_64-linux-gnu/perl5/5.36 /usr/share/perl5 /usr/lib..." />
<meta name="twitter:description" content="Hello. I have set up my Kicksecure and decided to make a clone. I have tried different methods but when I install the clone I get an error. How can I avoid this error when installing system? Help please  debconf: (Can&#39;t locate Debconf/FrontEnd/Nointeractive.pm in @INC (you may need to install the Debconf::FrontEnd::Nointeractive module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.36.0 /usr/local/share/perl/5.36.0 /usr/lib/x86_64-linux-gnu/perl5/5.36 /usr/share/perl5 /usr/lib..." />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="0088CC" />
<meta property="article:published_time" content="2024-12-26T07:21:13+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="823.html">Kicksecure cloning error</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/support/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Kicksecure cloning error'>
      <link itemprop='url' href='823.html'>
      <meta itemprop='datePublished' content='2024-12-26T07:21:13Z'>
        <meta itemprop='articleSection' content='Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure Forums'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/linuxer'><span itemprop='name'>linuxer</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="823.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-12-26T07:21:13Z' class='post-time'>
                    December 26, 2024,  7:21am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T07:36:39Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hello. I have set up my Kicksecure and decided to make a clone. I have tried different methods but when I install the clone I get an error. How can I avoid this error when installing system? Help please</p>
<pre><code class="lang-auto">debconf: (Can't locate Debconf/FrontEnd/Nointeractive.pm in @INC (you may need to install the Debconf::FrontEnd::Nointeractive module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.36.0 /usr/local/share/perl/5.36.0 /usr/lib/x86_64-linux-gnu/perl5/5.36 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.36 /usr/share/perl/5.36 /usr/local/lib/site_perl) at (eval 15) line 2.)

debconf: falling back to frontend: Noninteractive

mktemp: failed to create file via template '/tmp/user/0/calamares-root-sia5hs5b/tmp/grub.XXXXXXXXXX': No such file or directory

dpkg: error processing package grub-pc (--configure):

installed grub-pc package post-installation script subprocess returned error exit status 1

Processing triggers for man-db (2.11.2-2) ...

Processing triggers for security-misc (3:41.1-1) ...

mktemp: failed to create file via template '/tmp/user/0/calamares-root-sia5hs5b/tmp/tmp.XXXXXXXXXX': No such file or directory

INFO: triggered security-misc: 'security-misc' security-misc DPKG_MAINTSCRIPT_NAME: 'postinst' $\@: 'triggered /usr' 2: '/usr'

/usr/libexec/security-misc/mmap-rnd-bits: INFO: Successfully written ASLR map config file:

/etc/sysctl.d/30_security-misc_aslr-mmap.conf

Running SUID Disabler and Permission Hardener... See also:

https://www.kicksecure.com/wiki/SUID_Disabler_and_Permission_Hardener

/var/lib/dpkg/info/security-misc.postinst: INFO: running: permission-hardener enable

permission-hardener: [e[1me[32mNOTICEe[0m]: To compare the current and previous permission modes, install 'meld' (or preferred diff tool) for comparison of file mode changes:

sudo apt install --no-install-recommends meld

meld /var/lib/permission-hardener/existing_mode/statoverride /var/lib/permission-hardener/new_mode/statoverride

/var/lib/dpkg/info/security-misc.postinst: INFO: Permission hardening success.

Errors were encountered while processing:

grub-pc

E: Sub-process /usr/bin/dpkg returned an error code (1)
</code></pre>
<p>chcon: failed to get security context ‘/’: No data available<br>
chcon: failed to get security context ‘/dev’: No data available<br>
chcon: failed to get security context ‘/proc’: Unsupported operation<br>
chcon: failed to get security context ‘/run’: No data available<br>
chcon: failed to get security context ‘/run/udev’: No data available<br>
chcon: failed to get security context ‘/sys’: No data available<br>
08:04:57 [1]: void Calamares::ViewManager::onInstallationFailed(const QString&amp;, const QString&amp;)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-26T11:39:34Z' class='post-time'>
                    December 26, 2024, 11:39am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T11:39:34Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>A clone?</p>
<p>Did you boot a Kicksecure ISO and attempted to install?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-26T11:48:00Z' class='post-time'>
                    December 26, 2024, 11:48am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T11:48:00Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Did you run <code>calamares</code> from the command line by chance?</p>
<blockquote>
<p>mktemp: failed to create file via template ‘/tmp/user/0/calamares-root-sia5hs5b/tmp/grub.XXXXXXXXXX’: No such file or directory</p>
</blockquote>
<p>This should not be happening.</p>
<p>If you use the provided desktop shortcut, it would start</p>
<pre><code>install-host
</code></pre>
<p>which does not have this issue.</p>
<hr>
<p>Developer information:</p>
<p><code>install-host</code> unsets TMPDIR etc. and then works around upstream bug <a href="../../../external.html?link=https://github.com/calamares/calamares/issues/2269" class="inline-onebox">calamares breaks when using libpam-tmpdir · Issue #2269 · calamares/calamares · GitHub</a> from happening. (Which will be resolved anyhow, as soon as a newer calamares version <code>3.3.12</code> gets available from Debian backports.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/linuxer'><span itemprop='name'>linuxer</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-26T13:06:45Z' class='post-time'>
                    December 26, 2024,  1:06pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T13:06:45Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>No, I’ve been using Kicksecure for a long time. I decided to make a backup of system - clone system to iso. There are different tools, but I have an error with grub-pc. Clone successfully run from RAM, but cannot install</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/extraextra'><span itemprop='name'>extraextra</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-26T17:38:18Z' class='post-time'>
                    December 26, 2024,  5:38pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T17:38:18Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="linuxer" data-post="4" data-topic="823">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/l/b5e925/48.png" class="avatar"> linuxer:</div>
<blockquote>
<p>clone system to iso</p>
</blockquote>
</aside>
<p>How?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/ZenLong'><span itemprop='name'>ZenLong</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-26T18:51:17Z' class='post-time'>
                    December 26, 2024,  6:51pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T18:51:17Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>By ‘clone system to iso’, do you mean ‘persistence mode’ ?</p>
<p>‘Persistence Mode’ saves any files / folder made available in ‘live mode’.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/linuxer'><span itemprop='name'>linuxer</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-26T20:00:17Z' class='post-time'>
                    December 26, 2024,  8:00pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-26T20:00:17Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I try several tools. I installed kicksecure on mx linux and made a iso-snapshot of system - it worked. but mx linux uses sysvinit and I don’t like it. now I try penguins eggs and linux live kit.<br>
penguin eggs create a yolk repository:</p>
<pre><code class="lang-auto">import yaml from 'js-yaml'
import fs from 'node:fs'
import shx from 'shelljs'

import { exec } from '../lib/utils.js'
import Bleach from './bleach.js'
import Pacman from './pacman.js'
import Utils from './utils.js'

/**
 *
 */
export default class Yolk {
  echo = {}

  verbose = false

  yolkDir = '/var/local/yolk'

  /**
   *
   */
  async create(verbose = false) {
    this.verbose = verbose
    this.echo = Utils.setEcho(verbose)

    if (Utils.uefiArch() !== 'amd64') {
      Utils.warning(`yolk is not used on ${Utils.uefiArch()} architecture`)
      return
    }

    Utils.warning(`Creating yolk on ${this.yolkDir}`)

    Utils.warning('Updating system')
    if (!Pacman.commandIsInstalled('dpkg-scanpackages')) {
      Utils.warning(`I cannot find the command dpkg-scanpackages`)
      process.exit(0)
    }

    let cmd = ''
    try {
      cmd = 'apt-get update --yes'
      await exec(cmd, this.echo)
    } catch (error) {
      console.log(error)
      await Utils.pressKeyToExit(cmd)
      process.exit(0)
    }

    if (this.exists()) {
      await this.erase()
    } else {
      await exec(`mkdir ${this.yolkDir} -p`, this.echo)
      await exec(`chown _apt:root ${this.yolkDir} -R`, this.echo)
    }

    // packages we need
    // const pkgs = ['cryptsetup', 'grub-efi-amd64', 'grub-pc', 'keyutils', 'shim-signed']
    interface IYolk {
      packages: string[]
    }
    const yolk_yaml = '/etc/penguins-eggs.d/yolk.yaml'
    const yolk = yaml.load(fs.readFileSync(yolk_yaml, 'utf8')) as IYolk

    process.chdir(this.yolkDir)
    Utils.warning(`Downloading packages and its dependencies`)

    for (const pkg of yolk.packages) {
      Utils.warning(`- ${pkg}`)
      cmd = `apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances ${pkg} | grep "^\\w" | sort -u`
      let depends = pkg + '\n'
      depends += (await exec(cmd, { capture: true, echo: false })).data
      await this.installDeps(depends.split('\n'))
    }

    // create Package.gz
    cmd = 'dpkg-scanpackages -h  md5,sha1,sha256 . | gzip -c &gt; Packages.gz'
    Utils.warning(cmd)
    await exec(cmd, { capture: true, echo: false })

    // Create Release date: Sat, 14 Aug 2021 07:42:00 UTC
    const now = shx.exec('date -R -u').stdout.trim()
    const content = `Archive: stable\nComponent: yolk\nOrigin: penguins-eggs\nArchitecture: ${Utils.uefiArch()} \nDate: ${now}\n`
    Utils.warning('Writing Release')
    fs.writeFileSync('Release', content)

    // Cleaning
    Utils.warning('Cleaning apt cache')
    const bleach = new Bleach()
    await bleach.clean(verbose)
  }

  /**
   * Svuota la repo yolk
   */
  async erase() {
    await exec(`rm ${this.yolkDir}/*`, this.echo)
  }

  /**
   * Check if yoil exists and it's a repo
   */
  exists(): boolean {
    const check = `${this.yolkDir}/Packages.gz`
    return fs.existsSync(check)
  }

  /**
   * if depends are not Installed
   * download depends
   * @param depends
   */
  async installDeps(depends: string[]) {
    // select for downloads only packages NOT already installed
    const toDownloads: string[] = []
    for (const depend of depends) {
      // if (depend !== '' &amp;&amp; !Pacman.packageIsInstalled(depend)) {
      toDownloads.push(depend)
      // }
    }

    // now we go to downloads them
    for (const toDownload of toDownloads) {
      process.chdir(this.yolkDir)
      const cmd = `apt-get download ${toDownload}`
      // Utils.warning(`- ${cmd}`)
      await exec(cmd, this.echo)
    }
  }
}
</code></pre>
<p>this runs kicksecure on a flash drive in live mode. but during installation in calamares an error with grub-pc</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/linuxer'><span itemprop='name'>linuxer</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-27T17:37:38Z' class='post-time'>
                    December 27, 2024,  5:37pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-27T17:37:38Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>what are differences in installing kicksecure and debian? this program perfectly creates backup iso of classic debian, but has a grub-pc error with kicksecure. are there any features that I should know so that kicksecure clones successfully?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/linuxer'><span itemprop='name'>linuxer</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-28T04:34:12Z' class='post-time'>
                    December 28, 2024,  4:34am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-28T04:34:12Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I did a test: installed debian xfce and kde plasma + security-misc, tirdad, sdwdate, grub-live, then installed my work programs and customized desktops. and system was successfully cloned into iso and installed on computer! then a question to devs - what packages work with grub-pc and distinguish debian from kicksecure? if make a full debian  morph and remove package for grub-pc, it should work fine</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/extraextra'><span itemprop='name'>extraextra</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-28T08:59:52Z' class='post-time'>
                    December 28, 2024,  8:59am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-28T08:59:52Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The answer was already given.</p>
<aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="823">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p><a href="../../../external.html?link=https://github.com/calamares/calamares/issues/2269" rel="noopener nofollow ugc">calamares breaks when using libpam-tmpdir · Issue #2269 · calamares/calamares · GitHub</a></p>
</blockquote>
</aside>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-29T10:15:56Z' class='post-time'>
                    December 29, 2024, 10:15am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-29T10:15:56Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Right. Package <code>libpam-tmpdir</code> is triggering a bug in calamares.</p>
<aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="823">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>(Which will be resolved anyhow, as soon as a newer calamares version <code>3.3.12</code> gets available from Debian backports.)</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="linuxer" data-post="8" data-topic="823">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/l/b5e925/48.png" class="avatar"> linuxer:</div>
<blockquote>
<p>what are differences in installing kicksecure and debian?</p>
</blockquote>
</aside>
<p>That is outside of support for Kicksecure support. Way too complicated to explain. You’d need to look at the source code. Developers only.</p>
<aside class="onebox githubfolder" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/tree/master/live-build-data/live-build-config">
  <header class="source">
      <img src="../../../external.html?link=https://github.githubassets.com/favicons/favicon.svg" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/tree/master/live-build-data/live-build-config" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <h3><a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/tree/master/live-build-data/live-build-config" target="_blank" rel="noopener">derivative-maker/live-build-data/live-build-config at master ·...</a></h3>


  <p><span class="label1">https://www.kicksecure.com/wiki/Imprint. Contribute to Kicksecure/derivative-maker development by creating an account on GitHub.</span></p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
