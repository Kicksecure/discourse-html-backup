<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Unallocated space</title>
    <link>https://forums.kicksecure.com/t/unallocated-space/613</link>
    <description>Installed kicksecure ISO with full disk encryption on virtual box, but Gparted shows a small unallocated space at the end of the drive .

What is the purpose of unallocated space .
How to prevent the installer from creating it. 
Historical data might be left in it .</description>
    
    <lastBuildDate>Thu, 17 Oct 2024 07:49:32 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="https://forums.kicksecure.com/t/unallocated-space/613.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>First, why should “I do not have a hidden partition” be any more plausible than “I forgot my crypto key” or “I wiped that partition with random data, nothing in there”? I do not see any reason.</p>
</blockquote>
<p>Because if someone is traveling with 1 notebook (or only owns 1 notebook) then “I wiped that partition with random data, nothing in there” is less credible than “I do not have a hidden partition”. This is because people usually don’t like traveling with broken notebooks.</p>
<p>To illustrate this point further, consider a traveling group of 5 attendants to an IT conference. They all traveling with unbootable notebooks which they just wiped with random data while keeping their bootloader (and /boot partition) intact? Possible but incredible.</p>
<blockquote>
<p>Unfortunately “plausible deniability” also means you cannot prove there<br>
is no hidden data.</p>
</blockquote>
<p>That’s why plausible deniability is a scary feature to implement. Because then those not using it cannot prove they don’t have one except by creating an empty/skeleton way.</p>
<blockquote>
<p>Unfortunately that is also glaringly obvious, as you then cannot write<br>
to the filesystem without a high risk of destroying data in the hidden<br>
container.</p>
</blockquote>
<p>TrueCrypt solved that with a “protect hidden volume” feature, where the user needed during normal operation to always enter both passwords, one for the normal/decoy volume and one for the hidden volume.</p>
<blockquote>
<p>Have not written anything to the encrypted filesystem in a<br>
while?</p>
</blockquote>
<p>That’s why the concept of a decoy volume is flawed. It would need to be frequently enough used to leave enough of a usage pattern to be credible later that it is an actively used operating system or volume.</p>
<p>A better concept would be frequently using the “normal” volume. And then only place high risk files in the “hidden” volume.</p>
<blockquote>
<p>To be fair, if you prepare option b) carefully and directly before going<br>
into danger, it may work.  But then, the mere presence of encrypted data<br>
may already be enough to get you into trouble in those places were they<br>
can demand encryption keys.</p>
</blockquote>
<p>Yes.</p>
<ul>
<li>A) Those not using hidden volume: indefinite torture because there is no hidden volume to physical abuse.</li>
<li>B) Those using hidden volume: given up both normal and hidden volume due to physical abuse.</li>
</ul>
<blockquote>
<p>Here is an additional reference for some problems with plausible<br>
deniability:<br>
<a href="https://www.schneier.com/academic/paperfiles/paper-truecrypt-dfs.pdf">https://www.schneier.com/academic/paperfiles/paper-truecrypt-dfs.pdf</a><br>
I strongly suggest you read it.</p>
</blockquote>
<hr>
<p>In summary, there are a lot conceptual challenges, let alone technical implementation challenges.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/10">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/10</link>
        <pubDate>Thu, 17 Oct 2024 07:49:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-10</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>Also, some worthwhile reading: <a href="https://gitlab.com/cryptsetup/cryptsetup/-/blob/main/FAQ.md?ref_type=heads" class="inline-onebox" rel="noopener nofollow ugc">FAQ.md · main · cryptsetup / cryptsetup · GitLab</a> See the section “What about Plausible Deniability?”</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/9">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/9</link>
        <pubDate>Wed, 16 Oct 2024 18:36:20 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-9</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="suse211213" data-post="7" data-topic="613">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/35a633/48.png" class="avatar"> suse211213:</div>
<blockquote>
<p>Still confused about meaning of plausible deniabilty</p>
</blockquote>
</aside>
<p>Plausibly deniable encryption is a full disk encryption scheme where the encrypted volume looks like pure random noise. There’s no way to distinguish the volume from random junk unless you have the decryption key. The only way to prove with absolute certainty that encryption is being used on the drive, is to have the encryption key and be able to successfully decrypt the data.</p>
<p>In order to achieve this, there has to be <em>no</em> plaintext volume or file metadat stored on the same disk as the encrypted volume. This disqualifies LUKS because there is a plaintext header containing metadata about the LUKS volume. This header doesn’t contain any info that could be used to decrypt the disk without the key, but it’s enough to establish that disk encryption is in use, which could potentially put one’s physical wellbeing in danger if under attack by a sufficiently ruthless and powerful attacker.</p>
<p>The idea behind plausibly deniable encryption is to make it so that a victim in such an attack <em>could</em> lie about their use of full disk encryption and be believed anyway. There’s no way to prove that encrypted data is on the disk, thus someone could claim there isn’t any and <em>potentially</em> be believed.</p>
<p>While it sounds powerful in theory, there are quite a few problems with this:</p>
<ul>
<li>If you store a plausibly deniable encrypted volume on the same disk with other data, you’re left with an (almost certainly very large) chunk of space on your disk that is either partitioned but shown as having no filesystem, or that is excluded from partitioning entirely. Almost no one uses their computer with a large block of unallocated or unformatted space on their disk, so this alone is suspicious.</li>
<li>The data on the disk still looks like random noise. You can’t make it look like valid data. This means that the only lie you can plausibly tell is one that states or implies that the drive was wiped with random data at some point. This is potentially believable if you devote an entire drive to the encrypted volume (and I mean the whole drive, you can’t even use a partition table if you want this to be really believable), but if you have other partitions on the same drive, this raises even worse suspicions because now you’re claiming that you have a <em>pointless</em> block of unallocated or unformatted space on your disk. At this point your attacker can be virtually certain you’re using an encrypted volume, <em>and</em> that you’re trying to hide it.</li>
<li>Even under ideal circumstances, the attacker can prove beyond a <em>reasonable</em> doubt that you’re using an encrypted volume if they can take multiple snapshots of the drive at different times, and you modify data on the encrypted volume after the first snapshot but before one or more subsequent snapshots. This is because the attacker see that the bits in the “pointless” unallocated space <em>are changing</em>. This indicates that you’re writing to that area of the drive, and therefore that you most likely are using it for some particular purpose. Could you lie to get around this? Maybe, perhaps you could claim that you’re using that area of the drive to store random data for some project of some sort and that you need to change the data in use every so often, but that’s a pretty flimsy excuse when at this point your drive is exhibiting behavior that 99.99% of the time is the result of someone using plausibly deniable encryption. You’d also have to use that excuse the first time you were confronted by the attacker and then stick to it, otherwise you’d end up changing stories which similarly proves that you’re hiding something.</li>
</ul>
<p>Ultimately, plausibly deniable encryption is potentially useful when dealing with a ruthless attacker, but it’s a very weak defense unless used <em>perfectly</em>, and even then it’s flimsy. I imagine the best way to use it would be to encrypt an entire external USB drive (not even using a partition table on the drive), then prefill the drive with important data, and then never, EVER write any data to the drive after initially preparing it. Then only use the volume to refer to information as you need it. You can then tell an attacker that you bought a used drive to help you store extra data in case you needed more storage space, and that you made no modifications to the drive since you purchased it. They can then conclude that the original owner overwrote the drive with random data. If they take multiple snapshots of the drive over time, they will never see it change and can conclude that you haven’t reformatted the drive yet. You could potentially get away with writing data to the volume until the first time the attacker takes a snapshot, then use the volume read-only after that point. This requires that you know <em>when</em> the attacker takes the first snapshot though, which isn’t something you can guarantee if your attacker can gain unattended physical access to your machine.</p>
<p>(It’s also worth noting that “never write to the drive” is also tricky because some (most?) filesystems have metadata on them that gets changed just by mounting the filesystem. Even a read-only mount can result in data being written to the drive in some situations. It might be possible to use something like <code>hdparm -r1</code> to set the drive itself into read-only mode, thus bypassing anything scary the filesystem could potentially do. But not all drives will necessarily work with that, and I imagine you might run into issues with some or even most USB drives since <code>hdparm</code> is designed to work with SATA and IDE drives. I wonder if Linux has a feature that allows you to set a device file itself into read-only mode irrespective of the underlying hardware…)</p>
<aside class="quote no-group" data-username="suse211213" data-post="7" data-topic="613">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/35a633/48.png" class="avatar"> suse211213:</div>
<blockquote>
<p>Why its hard to achieve</p>
</blockquote>
</aside>
<p>Plausible deniability of this kind isn’t really hard to achieve, it just requires careful implementation. I one time considered writing a tool that would allow you to store data on a USB drive in a plausibly deniable fashion, and made some good progress. I ended up abandoning it though for various reasons (one of them being that I was using Free Pascal to write the program, which turned out to be a bad choice given my lack of skill with Pascal.)</p>
<p>I’ve heard some people claim that if you use LUKS with a detached header and store the header on another drive, the drive containing the LUKS volume itself is now plausibly deniable. I have not verified this myself, and there’s an obvious problem with this, which you yourself mention:</p>
<aside class="quote no-group" data-username="suse211213" data-post="7" data-topic="613">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/35a633/48.png" class="avatar"> suse211213:</div>
<blockquote>
<p>Are luks encrypted system drive with external boot and header suspicious ?</p>
</blockquote>
</aside>
<p>Yes. To decrypt the LUKS volume, you have to have a copy of the header, which means you have to store the LUKS header for the drive <em>somewhere</em>. If someone abducts you and takes your laptop, they’re probably also going to take any removable media you have, and if they find your LUKS header file on one of those drives, they can now prove that you’re using drive encryption <em>somewhere</em>. If your internal drive looks like random noise, then they can be pretty sure that the LUKS header corresponds to that drive. If they find an entire <em>boot partition</em> on the same drive, they can be even more certain.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/8">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/8</link>
        <pubDate>Wed, 16 Oct 2024 18:21:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-8</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[suse211213]]></dc:creator>
        <description><![CDATA[
            <p>According to google search its very debatable<br>
Still confused about meaning of plausible deniabilty<br>
Why its hard to achieve<br>
Are luks encrypted system drive with external boot and header suspicious ?</p>
<p>I hope for clear easy explanation with sample scenario  insteed of high academic language used in doc and cryptsetup faq 5.2 ,5.8 that could lead to false understanding.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/7">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/7</link>
        <pubDate>Wed, 16 Oct 2024 16:10:55 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-7</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="suse211213" data-post="5" data-topic="613">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/35a633/48.png" class="avatar"> suse211213:</div>
<blockquote>
<p>Otherwise i dont know how to propely achieve plausible deniabilty with linux system compared to filesystem.</p>
</blockquote>
</aside>
<p>Me neither. Also unlikely to materialize. See  <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption#Plausible_Deniability_-_Deniable_Encryption">Plausible Deniability - Deniable Encryption</a>, which has been updated just now.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/6">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/6</link>
        <pubDate>Wed, 16 Oct 2024 08:17:33 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-6</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[suse211213]]></dc:creator>
        <description><![CDATA[
            <p>Unlike veracrypt hiden system</p>
<p>In case of luks detached header, might these spaces defeat the prupose of plausible deniability to prove that the disk is an encrypted disk</p>
<p>Could be used to measure file randomness.</p>
<p>Otherwise lvm with luks seems better in partitioning</p>
<p>Otherwise i dont know how to propely achieve plausible deniabilty with linux system compared to filesystem.</p>
<p>Think of journalists living in non democratic countries,where human rights abuses.torture etc.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/5">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/5</link>
        <pubDate>Tue, 15 Oct 2024 13:38:44 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-5</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>I don’t know the exact reason for this unallocated space currently, however I highly suspect it’s because of how the GUID Partition Table (GPT) disk structure works. Disks that are GPT-partitioned have <em>two</em> partition tables, a primary one at the start of the drive, and a backup one at the very end of the drive. The GPT table is about 16 kilobytes in size.</p>
<p>It’s also possible this is related to partition alignment - disks perform faster if you make sure that partitions start and end at particular locations on the disk, and sometimes a little bit of free space has to be left in order to make that happen.</p>
<p>It is extremely unlikely any unencrypted data would leak into the unallocated portions of the disk. There’s no reason for the LUKS code to write unencrypted data anywhere except volatile memory (i.e. RAM), and it would be a fatal security flaw for it to do so. There are also all sorts of problems that would occur with code that wrote data into unallocated disk space by design (i.e. what would the code do if there wasn’t unallocated space to use, or what about disks where the unallocated space actually <em>is</em> used, for instance by the system bootloader?), so it would be pointless, insecure, and a usability nightmare for LUKS to do that.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/4</link>
        <pubDate>Sun, 13 Oct 2024 00:47:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-4</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[suse211213]]></dc:creator>
        <description><![CDATA[
            <p>Thanks,</p>
<p>I’ve  comprehensible read the whole documentation about FDE.</p>
<p>Full means the whole drive should be used  without exception .</p>
<p>Maybe even FDE data could be leak into unallocated space</p>
<p>For example,</p>
<p>Debian Luks on LVM  results in non creation of free space  luks2.</p>
<p>Debian live calamares installer also won’t create free space luks1  if i remember.</p>
<p>I will test another install options on debian without lvm and see how it works.</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/3</link>
        <pubDate>Sat, 12 Oct 2024 18:43:31 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-3</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>What is the purpose of unallocated space .</p>
</blockquote>
<p>None, that I am aware of.</p>
<blockquote>
<p>How to prevent the installer from creating it.</p>
</blockquote>
<p>Users cannot do this. Unsupported.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Unsupported">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1728725424" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Unsupported" target="_blank" rel="noopener" title="08:07AM - 12 October 2024">Kicksecure – 12 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.kicksecure.com/w/images/0/0a/Unsupported.jpg?version=4c03a6d49994df75ba2ec2ce26d99988" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.kicksecure.com/wiki/Unsupported" target="_blank" rel="noopener">Undocumented, Untested or Unsupported Features</a></h3>

  <p>This feature is either undocumented, untested, or unsupported. Options: Become a Contributor / Apply Self Support First Policy / Purchase Support.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Would require a developer contributing to calamares (and maybe by extension to partitioning tools and whatnot). This might be difficult digging into partitioning stuff. Might even not be calamares issue but general partitioning issues.</p>
<p>Unless you do it or pay someone (not me) to do it the chance of this ever changing is extremely small.</p>
<blockquote>
<p>Historical data might be left in it .</p>
</blockquote>
<p>Even overwriting might not delete it. Forensics is a difficult topic. See:<br>
<a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption#Advice_for_Solid-state_Drives_and_USB_Storage">Advice for Solid-state Drives and USB Storage</a></p>
<p>How to avoid this issue? Never store data unencrypted. Always use:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Full_Disk_Encryption">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1728725424" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption" target="_blank" rel="noopener" title="10:23AM - 29 September 2024">Kicksecure – 29 Sep 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.kicksecure.com/w/images/0/0d/Fulldeskencryption423423.jpg?version=d499f65d45ec9fa7630b7a52e5dad247" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption" target="_blank" rel="noopener">Full Disk Encryption (FDE)</a></h3>

  <p>Full Disk Encryption, Additional Security Measures</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/2</link>
        <pubDate>Sat, 12 Oct 2024 13:46:30 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-2</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
      <item>
        <title>Unallocated space</title>
        <dc:creator><![CDATA[suse211213]]></dc:creator>
        <description><![CDATA[
            <p>Installed kicksecure ISO with full disk encryption on virtual box, but Gparted shows a small unallocated space at the end of the drive .</p>
<p>What is the purpose of unallocated space .<br>
How to prevent the installer from creating it.<br>
Historical data might be left in it .</p>
          <p><a href="https://forums.kicksecure.com/t/unallocated-space/613/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/unallocated-space/613/1</link>
        <pubDate>Sat, 12 Oct 2024 05:08:10 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-613-1</guid>
        <source url="https://forums.kicksecure.com/t/unallocated-space/613.rss">Unallocated space</source>
      </item>
  </channel>
</rss>
