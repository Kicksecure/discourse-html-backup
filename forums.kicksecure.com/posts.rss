<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:discourse="http://www.discourse.org/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Kicksecure Forums - Latest posts</title>
    <link>https://forums.kicksecure.com</link>
    <description>Latest posts</description>
      <item>
        <title>Splitting security-misc into shared, desktop, and server packages</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>I no longer know how important that exception for <code>spice-client-glib-usb-acl-helper</code> is at all. Cannot find how it ended up getting added.</p>
<p><code>spice-client-glib-usb-acl-helper</code> isn’t installed by default in Kicksecure (or Whonix). Not even inside VMs.</p>
<p>Therefore, someone who installs it, will actually need it.</p>
<p>The issue is also that the threat model of permission hardener isn’t well enough defined.</p>
<p><code>spice-client-glib-usb-acl-helper</code> isn’t installed by default and doesn’t install itself using <code>apt install spice-client-glib-usb-acl-helper</code> by accident either. If malware was able to run <code>apt install spice-client-glib-usb-acl-helper</code>, then there would already be a root compromise and permission hardener couldn’t help anymore either.</p>
<p>From that perspective, that exception can stay shared for simplicity?</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="674">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Finally. the binary is setuid. Obscure-but-insecure things are where a lot of vulnerabilities are found, like the recent CUPS RCE.</p>
</blockquote>
</aside>
<p>Right.</p>
<p>That’s why permission hardener disables many historically used SUIDs that are nowadays no longer popular (at least not by Kicksecure (or Whonix) users).</p>
<p>Some examples include:</p>
<ul>
<li>write SUID, wall SUID</li>
<li>passwd SUID (using it with sudo instead, multi-users desktops are not popular where this is required)</li>
<li>su (using sudo instead, maybe <a href="https://forums.whonix.org/t/replace-sudo-with-doas/17482" class="inline-onebox">Replace sudo with doas - Development - Whonix Forum</a>)</li>
</ul>
<p>These are well suitable for permission hardener, since these are installed by default and hard (infeasible? / impossible?) to not have installed by default.</p>
<p>This is the main motivation for permission hardener. To disable SUIDs where it’s not strictly required for most users, yet having these binaries around is “mandatory”.</p>
<p>However, for packages such as <code>spice-client-glib-usb-acl-helper</code> maybe, the SUID functionality might be specifically wanted by the user?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/splitting-security-misc-into-shared-desktop-and-server-packages/674#post_6</link>
        <pubDate>Wed, 20 Nov 2024 13:49:12 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1665</guid>
      </item>
      <item>
        <title>Splitting security-misc into shared, desktop, and server packages</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>Hmm, I see a lot of your points here. I think the only one I disagree with is the SPICE whitelist point - the <code>spice-client-glib-usb-acl-helper</code> being granted an exception from permission-hardener here is apparently only used when a host is passing through USB devices to a guest. (See <a href="https://packages.debian.org/sid/misc/spice-client-glib-usb-acl-helper" class="inline-onebox" rel="noopener nofollow ugc">Debian -- Details of package spice-client-glib-usb-acl-helper in sid</a>) I don’t foresee this happening frequently (if ever) on a server. In theory, an attacker could use USB passthrough to compromise a confidential VM should they gain access to the host (use USB-over-IP to connect a malicious USB device to a compromised server remotely, then pass it through to the target VM and exploit a driver within the VM to gain a foothold there). Finally. the binary is setuid. Obscure-but-insecure things are where a lot of vulnerabilities are found, like the recent CUPS RCE.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/splitting-security-misc-into-shared-desktop-and-server-packages/674#post_5</link>
        <pubDate>Wed, 20 Nov 2024 01:14:04 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1664</guid>
      </item>
      <item>
        <title>After morphing, I can not start distrobox</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <blockquote>
<p>sudo permission-hardener disable /usr/bin/crun*</p>
</blockquote>
<p>Wildcards (“<code>*</code>”) are unsupported.</p>
<p>But anyhow.</p>
<p>I did <a href="https://www.kicksecure.com/wiki/Dev/git#Search_the_Source_Code">Search the Source Code</a> and there is no mention of <code>crun</code>. So not a permission-hardener issue in this case.</p>
<aside class="quote no-group" data-username="linuxer" data-post="3" data-topic="688">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/l/b5e925/48.png" class="avatar"> linuxer:</div>
<blockquote>
<p><em>Error: crun: open executable: Operation not permitted: OCI permission denied</em></p>
</blockquote>
</aside>
<p>I found this error message on search engines.</p>
<p>Dunno.</p>
<p>Consider this unsupported.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Unsupported">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731922224" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Unsupported" target="_blank" rel="noopener" title="08:07AM - 12 October 2024">Kicksecure – 12 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/426;"><img src="https://www.kicksecure.com/w/images/0/0a/Unsupported.jpg?version=4c03a6d49994df75ba2ec2ce26d99988" class="thumbnail" width="640" height="426"></div>

<h3><a href="https://www.kicksecure.com/wiki/Unsupported" target="_blank" rel="noopener">Undocumented, Untested or Unsupported Features</a></h3>

  <p>This feature is either undocumented, untested, or unsupported. Options: Become a Contributor / Apply Self Support First Policy / Purchase Support.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>As per:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Self_Support_First_Policy">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731922224" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" target="_blank" rel="noopener" title="08:21AM - 25 October 2024">Kicksecure – 25 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="https://www.kicksecure.com/w/images/c/c6/Self-support.jpg?version=ff7bb4e369079801406f79a2ab8db191" class="thumbnail" width="666" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" target="_blank" rel="noopener">Self Support First Policy for Kicksecure</a></h3>

  <p>Definition of the Self Support First Policy for Kicksecure</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/after-morphing-i-can-not-start-distrobox/688#post_4</link>
        <pubDate>Mon, 18 Nov 2024 16:01:26 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1663</guid>
      </item>
      <item>
        <title>After morphing, I can not start distrobox</title>
        <dc:creator><![CDATA[@linuxer]]></dc:creator>
        <description><![CDATA[ <p>It helped. But now I have a new problem<br>
<em>Error: crun: open executable: Operation not permitted: OCI permission denied</em><br>
and this command does not work <em>sudo permission-hardener disable /usr/bin/crun</em></p> ]]></description>
        <link>https://forums.kicksecure.com/t/after-morphing-i-can-not-start-distrobox/688#post_3</link>
        <pubDate>Mon, 18 Nov 2024 14:28:16 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1662</guid>
      </item>
      <item>
        <title>Error: Plymouth conflict in Debian morphing</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>This is now part of <a href="https://www.kicksecure.com/wiki/Debian" class="inline-onebox">Install Kicksecure inside Debian</a>.</p>
<blockquote>
<p><strong>8.</strong> Install console related packages.</p>
<p>This might also result in removal of <code>plymouth</code>, which is good, because it is <a href="https://www.kicksecure.com/wiki/Unsupported">unsupported</a>. <a href="https://www.kicksecure.com/wiki/Debian#cite_note-8">[8]</a></p>
<p>sudo apt install console-data console-common kbd keyboard-configuration</p>
</blockquote>
<p>(related wiki template for wiki editors: <a href="https://www.kicksecure.com/wiki/Template:Prerequisites" class="inline-onebox">Template:Prerequisites - Kicksecure</a>)</p> ]]></description>
        <link>https://forums.kicksecure.com/t/error-plymouth-conflict-in-debian-morphing/641#post_10</link>
        <pubDate>Sun, 17 Nov 2024 14:23:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1661</guid>
      </item>
      <item>
        <title>Error: Plymouth conflict in Debian morphing</title>
        <dc:creator><![CDATA[@sam]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="641">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>plymouth</code> <code>Conflicts:</code> <code>console-common</code>.</p>
</blockquote>
</aside>
<p>I just wanted you to write about this problem on site in morphing section before <em>command sudo apt install --no-install-recommends kicksecure-xfce-host</em>. many see “error: plymouth Conflicts: console-common” and stop there. my friends had it. I have not yet met morphing without this conflict</p> ]]></description>
        <link>https://forums.kicksecure.com/t/error-plymouth-conflict-in-debian-morphing/641#post_9</link>
        <pubDate>Sun, 17 Nov 2024 07:26:52 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1660</guid>
      </item>
      <item>
        <title>After morphing, I can not start distrobox</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p><a href="https://www.kicksecure.com/wiki/SUID_Disabler_and_Permission_Hardener" class="inline-onebox">SUID Disabler and Permission Hardener</a> could be the issue.</p>
<aside class="quote no-group" data-username="linuxer" data-post="1" data-topic="688">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/l/b5e925/48.png" class="avatar"> linuxer:</div>
<blockquote>
<p>/usr/bin/newuidmap</p>
</blockquote>
</aside>
<p><a href="https://www.kicksecure.com/wiki/SUID_Disabler_and_Permission_Hardener#Re-enable_Specific_SUID_Binaries">Re-enable Specific SUID Binaries</a></p>
<pre><code>sudo permission-hardener disable /usr/bin/newuidmap
</code></pre> ]]></description>
        <link>https://forums.kicksecure.com/t/after-morphing-i-can-not-start-distrobox/688#post_2</link>
        <pubDate>Sat, 16 Nov 2024 20:23:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1659</guid>
      </item>
      <item>
        <title>Kicksecure inside LMDE 5?</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p><img src="https://forums.kicksecure.com/images/emoji/twitter/partying_face.png?v=12" title=":partying_face:" class="emoji only-emoji" alt=":partying_face:" loading="lazy" width="20" height="20"> <img src="https://forums.kicksecure.com/images/emoji/twitter/white_check_mark.png?v=12" title=":white_check_mark:" class="emoji only-emoji" alt=":white_check_mark:" loading="lazy" width="20" height="20"></p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-inside-lmde-5/46#post_6</link>
        <pubDate>Sat, 16 Nov 2024 19:42:51 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1658</guid>
      </item>
      <item>
        <title>Kicksecure inside LMDE 5?</title>
        <dc:creator><![CDATA[@sam]]></dc:creator>
        <description><![CDATA[ <p>Kicksecure works well in LMDE, MX Linux and Sparky Linux. BUT security-misc conflicts with SDDM at system startup (SDDM may hang) - autologin solves this problem. This problem does not occur at logout and screen lock. I use kicksecure in KDE Plasma on Debian, MX and LMDE - I have not noticed any problems or errors for over a month</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-inside-lmde-5/46#post_5</link>
        <pubDate>Sat, 16 Nov 2024 07:54:43 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1657</guid>
      </item>
      <item>
        <title>Error: Plymouth conflict in Debian morphing</title>
        <dc:creator><![CDATA[@sam]]></dc:creator>
        <description><![CDATA[ <p>Kicksecure works great without plymouth. I advise everyone to remove it. This conflict appears in classic Debian, in MX Linux, in Mint LMDE and Sparky Linux  - both in those installed via USB on host and in VM</p> ]]></description>
        <link>https://forums.kicksecure.com/t/error-plymouth-conflict-in-debian-morphing/641#post_8</link>
        <pubDate>Sat, 16 Nov 2024 07:48:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1656</guid>
      </item>
      <item>
        <title>After morphing, I can not start distrobox</title>
        <dc:creator><![CDATA[@linuxer]]></dc:creator>
        <description><![CDATA[ <p>After morphing, I can not start distrobox<br>
distrobox enter my-ubuntu<br>
WARN[0000] “/” is not a shared mount, this could cause issues or missing mounts with rootless containers<br>
ERRO[0000] running <code>/usr/bin/newuidmap 2660 0 1000 1 1 100000 65536</code>:<br>
Error: cannot set up namespace using “/usr/bin/newuidmap”: fork/exec /usr/bin/newuidmap: permission denied<br>
I couldnt change this error. Could you try to reproduce and write a solution to problem? Thanks</p> ]]></description>
        <link>https://forums.kicksecure.com/t/after-morphing-i-can-not-start-distrobox/688#post_1</link>
        <pubDate>Fri, 15 Nov 2024 18:24:41 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1623</guid>
      </item>
      <item>
        <title>How to stop writing my ISO&#39;s as Rock Ridge/Joliet</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>So you must be an extremely valuable target.</p>
</blockquote>
</aside>
<p>To expand on that…</p>
<p>Extremely valuable target either due to monetary richness or other factors of power such as public influence. Normal people are not being attacked with such extremely sophisticated malware.</p>
<p>So if this is a priority issue for your to resolve, if affordable, this is the best time ever to hire a professional IT support company, malware researcher. (No specific recommendations are being made.)</p>
<p>Unfortunately, I am certain, that in many places, you would get accused of trolling. But then again, <a href="https://www.kicksecure.com/wiki/Please_Use_Search_Engines_And_See_Documentation_First#Artificial_Intelligence">Artificial Intelligence</a> can help.</p>
<p>I’ve just posted your public forum post into the AI and added:</p>
<blockquote>
<p>Some commentators are accusing the user of trolling. What can be done to not get perceived as trolling?</p>
</blockquote>
<p>Here is the result:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://chatgpt.com/share/673787b9-77b8-8000-9686-018bf86b8212">
  <header class="source">
      <img src="https://cdn.oaistatic.com/assets/favicon-32x32-p4ktpm1x.webp" class="site-icon" width="32" height="32">

      <a href="https://chatgpt.com/share/673787b9-77b8-8000-9686-018bf86b8212" target="_blank" rel="noopener">chatgpt.com</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="https://cdn.oaistatic.com/assets/chatgpt-share-og-u7j5uyao.webp" class="thumbnail" width="690" height="388"></div>

<h3><a href="https://chatgpt.com/share/673787b9-77b8-8000-9686-018bf86b8212" target="_blank" rel="noopener">ChatGPT</a></h3>

  <p>A conversational AI system that listens, learns, and challenges</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>The technological points ChatGPT is making aren’t that great but the general advice on how to draft these kind of inquiries are helpful.</p>
<p>For communication in free, public support places (such as this forum), I suggest to report 1 very specific issue at a time only. See also:</p>
<ul>
<li><a href="https://www.kicksecure.com/wiki/Reporting_Bugs#Reporting_Guidelines">Reporting Guidelines</a></li>
<li><a href="https://www.kicksecure.com/wiki/Reporting_Bugs#Sample_Bug_Report">Sample Bug Report</a></li>
</ul>
<p>For example:</p>
<blockquote>
<p>Steps to reproduce the behavior	:</p>
<pre><code>man gnustep
</code></pre>
<p>Expected result:</p>
<p>My an page should have same content as on <a href="https://manpages.debian.org/bookworm/gnustep-common/GNUstep.7.en.html" class="inline-onebox">GNUstep(7) — gnustep-common — Debian bookworm — Debian Manpages</a>.</p>
<p>Actual result:</p>
<p>…</p>
</blockquote> ]]></description>
        <link>https://forums.kicksecure.com/t/how-to-stop-writing-my-isos-as-rock-ridge-joliet/687#post_4</link>
        <pubDate>Fri, 15 Nov 2024 17:59:19 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1622</guid>
      </item>
      <item>
        <title>How to stop writing my ISO&#39;s as Rock Ridge/Joliet</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>You might want to take a look at <a href="https://www.kicksecure.com/wiki/Malware_and_Firmware_Trojans#Valid_Compromise_Indicators_versus_Invalid_Compromise_Indicators" class="inline-onebox" rel="noopener nofollow ugc">Malware, Computer Viruses, Firmware Trojans and Antivirus Scanners</a>, malware as a general rule does not make itself obvious because that runs entirely against the point of making malware in the first place.</p>
<p>Where did you get that xorriso command from?</p>
<p>Bluetooth is intentionally enabled in Kicksecure, there are features that make it safer baked into the distro.</p>
<p>overlayfs is intentionally provided in Kicksecure, it is even used in the “live mode” feature.</p>
<p>FUSE is intentionally provided in Kicksecure, it’s necessary to run AppImages and the like and should be present on pretty much all distros.</p>
<p>NTFS-3g lets you access NTFS drives, which is another thing many distros enable and which is useful for many users.</p>
<p>You haven’t indicated what you think the manpages should look like, so I’m not sure what’s unusual there.</p>
<p>I think you understand what I’m getting at. So far none of what you’ve shown indicates compromise for sure. That’s not to say you definitely aren’t compromised (you can’t prove a negative), but there isn’t sufficient evidence of it here. If you are a high-profile target (most people aren’t), whoever’s targeting you probably isn’t foolish enough to make themselves this obvious. If you aren’t a high-profile target, it’s very unlikely that someone would rationally pour this much effort into attacking you.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/how-to-stop-writing-my-isos-as-rock-ridge-joliet/687#post_3</link>
        <pubDate>Fri, 15 Nov 2024 17:38:47 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1621</guid>
      </item>
      <item>
        <title>How to stop writing my ISO&#39;s as Rock Ridge/Joliet</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="z24" data-post="1" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/z/ce7236/48.png" class="avatar"> z24:</div>
<blockquote>
<p>This gets called anytime I download an ISO</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="z24" data-post="1" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/z/ce7236/48.png" class="avatar"> z24:</div>
<blockquote>
<p>xorriso -as mkisofs -R -r -J -joliet-long -l -cache-inodes -iso-level 3 --grub2-boot-info --grub2-mbr /usr/lib/grub/i386-pc/boot_hybrid.img -efi-boot-part --efi-boot-image -v -A “application_id” -p “preparer” -publisher “publisher” -V “cdlabel” --modification-date=20240XXXXXXXX -no-emul-boot -boot-load-size 4 -boot-info-table -b boot/grub/grub_eltorito -eltorito-alt-boot -e boot/grub/efi.img -no-emul-boot -isohybrid-gpt-basdat -isohybrid-apm-hfsplus -o /home/user/derivative-binary/17.2.3.7/Kicksecure-Xfce-17.2.3.7.iso /home/user/derivative-binary/Kicksecure-Xfce_iso-tmp</p>
</blockquote>
</aside>
<p>Where, how do you see that this command gets executed anytime you download an ISO?</p>
<aside class="quote no-group" data-username="z24" data-post="1" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/z/ce7236/48.png" class="avatar"> z24:</div>
<blockquote>
<p>So, what I’m trying to get at as is, has anyone dealt with this before?</p>
</blockquote>
</aside>
<p>I highly doubt it.</p>
<aside class="quote no-group" data-username="z24" data-post="1" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/z/ce7236/48.png" class="avatar"> z24:</div>
<blockquote>
<p>Is this a known thing that others are getting attacked with in the wild,</p>
</blockquote>
</aside>
<p>I highly doubt that too.</p>
<aside class="quote no-group" data-username="z24" data-post="1" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/z/ce7236/48.png" class="avatar"> z24:</div>
<blockquote>
<p>the boot loader they force me to boot from contains a kernel for Windows, Mac, and Linux</p>
</blockquote>
</aside>
<p>Sounds like the most sophisticated malware ever.</p>
<p>Even Stuxnet, Flame, Duqu, Operation Triangulation aren’t multi operating system capable.</p>
<p>Such highly sophisticated malware would usually attempt to stay stealth. The user wouldn’t notice it. This is elaborated in wiki chapter <a href="https://www.kicksecure.com/wiki/Malware#Valid_Compromise_Indicators_versus_Invalid_Compromise_Indicators">Valid Compromise Indicators versus Invalid Compromise Indicators</a>.</p>
<p>This is because the development effort to create such malware is so expensive, that it’s not supposed to be detected. How expensive? My first guess is far excess in access of $ 100 K USD and several months or years of development work.</p>
<p>So you must be an extremely valuable target.</p>
<p>However, this case is a strange combination, because…</p>
<aside class="quote no-group" data-username="z24" data-post="1" data-topic="687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/z/ce7236/48.png" class="avatar"> z24:</div>
<blockquote>
<p>the man pages and python documentation are not standard, almost all of the binaries serve an alternate purpose than their name would lead you to believe, for example I can run ‘gpic FILENAME &gt; OUTPUT.txt’ and deobfuscate data hidden inside of files. There is a man page for GNUstep (if I recall correctly) that’s as long as novel and it goes into detail about how to write code in order to cause a buffer overflow in the kernel.</p>
</blockquote>
</aside>
<p>This is impossible to happen by accident as a side-effect of the malware. The <a href="https://en.wikipedia.org/wiki/XZ_Utils_backdoor" class="inline-onebox">XZ Utils backdoor - Wikipedia</a> had side effects such as high CPU usage and longer SSH login times, but nothing even remotely similar to what you’re describing.</p>
<p>This can only happen if source code was specifically written to purposefully change the system behavior. Someone must have written that novel or at least copied it into the source code of malware or installed it later post system compromise.</p>
<p>So what would be happening here is <a href="https://en.wikipedia.org/wiki/Zersetzung" class="inline-onebox">Zersetzung - Wikipedia</a>. Because these effects are intentional and no malware developer can be as stupid as replacing a man page with a novel by mistake. This can only be intentional.</p>
<p>The Kicksecure project does not offer system / malware audits. For reasons why that is so, see wiki chapter <a href="https://www.kicksecure.com/wiki/Malware#Malware_Audits">Malware Audits</a>.</p>
<p>I had an interesting chat with ChatGPT about this topic, which might be useful for inspiration on what you can do next.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://chatgpt.com/share/67378590-66a4-8000-b30d-b55247e40177">
  <header class="source">
      <img src="https://cdn.oaistatic.com/assets/favicon-32x32-p4ktpm1x.webp" class="site-icon" width="32" height="32">

      <a href="https://chatgpt.com/share/67378590-66a4-8000-b30d-b55247e40177" target="_blank" rel="noopener">chatgpt.com</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/388;"><img src="https://cdn.oaistatic.com/assets/chatgpt-share-og-u7j5uyao.webp" class="thumbnail" width="690" height="388"></div>

<h3><a href="https://chatgpt.com/share/67378590-66a4-8000-b30d-b55247e40177" target="_blank" rel="noopener">ChatGPT</a></h3>

  <p>A conversational AI system that listens, learns, and challenges</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/how-to-stop-writing-my-isos-as-rock-ridge-joliet/687#post_2</link>
        <pubDate>Fri, 15 Nov 2024 17:33:24 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1620</guid>
      </item>
      <item>
        <title>How to stop writing my ISO&#39;s as Rock Ridge/Joliet</title>
        <dc:creator><![CDATA[@z24]]></dc:creator>
        <description><![CDATA[ <p>Edit: I may have included too much additional information, I tried to provide enough data so others that have experienced this or may experience it in the future are able to locate this thread through search engines and hopefully get a resolution the issue.</p>
<p>This gets called anytime I download an ISO and I can’t figure out how to make it stop. Its able to replace the freshly downloaded ISO with the Rock Ridge version instantaneously before I could even run a dd command or launch disk image writer to get the fresh ISO written to disk before it is modified.</p>
<blockquote>
<p>xorriso -as mkisofs -R -r -J -joliet-long -l -cache-inodes -iso-level 3 --grub2-boot-info --grub2-mbr /usr/lib/grub/i386-pc/boot_hybrid.img -efi-boot-part --efi-boot-image -v -A “application_id” -p “preparer” -publisher “publisher” -V “cdlabel” --modification-date=20240XXXXXXXX -no-emul-boot -boot-load-size 4 -boot-info-table -b boot/grub/grub_eltorito -eltorito-alt-boot -e boot/grub/efi.img -no-emul-boot -isohybrid-gpt-basdat -isohybrid-apm-hfsplus -o /home/user/derivative-binary/17.2.3.7/Kicksecure-Xfce-17.2.3.7.iso /home/user/derivative-binary/Kicksecure-Xfce_iso-tmp</p>
</blockquote>
<p>I don’t think I’m on the real Kicksecure anymore. A lot of things that shouldn’t be enabled by default are enabled like the bluetooth.service, overlayfs, fuse, and ntfs3g are also enabled. My xdg-user-dirs is normally /home/user/.config I think, it has been changed to point to /usr/bin/share/, that way I load flatpaks from the wrong directory just like the flatpak escape 0day did.</p>
<p>The doocumentation (man pages for example) aren’t even the same and my grub menu shows that lines have been removed, there is a new line added that is a if fi statement to insert two more kernel modules named lzopio and xen (I think that’s the name of them, very close if not). It seems like the lower deck of the overlayfs  is hooking into upper deck with some malicious binaries and shared objects, deleting anything hooked into the upper deck causes a crash, the lower deck is all lib32 software running on a squashfs.img and its dependencies get mangled in with my own, I have to download SSH libs for apps that don’t require networking to function or other random packages that should not be dependencies. I also have to delete the boot order using efitbootmgr and modify my grub entry in order to actually boot into the system at the lower deck. Even figuring out how to boot into the lower deck of the system doesn’t solve the problem though unfortunately.</p>
<p>It’s not as simple as reformatting my USB drive and secure erasing my SSD then using a fresh ISO, it’s like the data doesn’t really get wiped from the USB even though it appears that way to software like gparted and gnome-disks reading the disk image. I have wiped it then brought it over to a remote location, away from my potentially infected machine and it still manages to write that same ISO with the overlayfs and Rock Ridge ISO.</p>
<p>So, what I’m trying to get at as is, has anyone dealt with this before? What can I do aside from considering my devices trashed? I’m strongly considering dumping this data publicly out of frustration but something doesn’t feel right about doing that, somebody certainly put a lot of time and effort into devoping and writing documentation for this system.</p>
<p>As mentioned earlier, the man pages and python documentation are not standard, almost all of the binaries serve an alternate purpose than their name would lead you to believe, for example I can run ‘gpic FILENAME &gt; OUTPUT.txt’ and deobfuscate data hidden inside of files. There is a man page for GNUstep (if I recall correctly) that’s as long as novel and it goes into detail about how to write code in order to cause a buffer overflow in the kernel. So sharing something like that publicly seems to me like I would be destroying the hard work of someone or some group of individuals who have put a lot of time into it. As much I hate what they did to me, I’m also in awe of their work and complexity of the system at the same time.</p>
<p>Is this a known thing that others are getting attacked with in the wild, is it more likely a targeted attack and not wide spread? Locally it seems to spread like a worm via usb and through the network, the boot loader they force me to boot from contains a kernel for Windows, Mac, and Linux (version 5.1, unsupported and out of date), so even switching operating systems does not solve the problem. I hope someone can provide a solution that doesn’t involve throwing my machine into the dump.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/how-to-stop-writing-my-isos-as-rock-ridge-joliet/687#post_1</link>
        <pubDate>Fri, 15 Nov 2024 14:12:13 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1619</guid>
      </item>
      <item>
        <title>Enable and use zRAM instead for swap</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubcommit" data-onebox-src="https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6">
  <header class="source">

      <a href="https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener">github.com/Kicksecure/swap-file-creator</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener">no longer consider hibernation by default</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2024-11-15" data-time="11:16:30" data-timezone="UTC">11:16AM - 15 Nov 24 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 4 additions and 1 deletions">
        <a href="https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener">
          <span class="added">+4</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">to have a smaller default swap file by default

and because hibernation is not y<span class="show-more-container"><a href="https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">et compatible with Secure Boot

https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654/8</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654#post_10</link>
        <pubDate>Fri, 15 Nov 2024 11:18:45 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1617</guid>
      </item>
      <item>
        <title>KickSecure SMB setup</title>
        <dc:creator><![CDATA[@Quiksilver]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="SlowMoe" data-post="1" data-topic="684">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/slowmoe/48/104_2.png" class="avatar"> SlowMoe:</div>
<blockquote>
<p>Now I have a GLinet Flint 2 router</p>
</blockquote>
</aside>
<p>GLinet runs on modified version on OpenWRT.<br>
I suggest you flash it with stock OpenWRT cause I personally dont trust GLinet’s firmware.</p>
<p>Also ask on the OpenWRT forum about this “SMB”.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-smb-setup/684#post_5</link>
        <pubDate>Thu, 14 Nov 2024 21:32:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1616</guid>
      </item>
      <item>
        <title>Randomized hostname protocol</title>
        <dc:creator><![CDATA[@Quiksilver]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Crawfish" data-post="7" data-topic="565">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/c/3e96dc/48.png" class="avatar"> Crawfish:</div>
<blockquote>
<p>Using a Different MAC for SSH</p>
</blockquote>
</aside>
<p>SSH doesn’t send the devices MAC Address at most it might send the hostname but good info about using network namespaces that might be useful for something in Kicksecure.</p>
<p>As far as I understand the issue related to</p>
<blockquote>
<p>MAC randomization breaks root server and VirtualBox DHCP / IPv6PrivacyExtensions might be problematic</p>
</blockquote>
<p>I believe they are referring to Installing Kicksecure as the OS on VPS server.<br>
In this case I think Kicksecure should just NOT randomize Ethernet MAC addresses by commenting it out. Reason being most servers are wired in especially VPS, if you look at any server rack they aren’t going to be using wireless as that would create too much cross talk and you wouldn’t get optimized speeds.</p>
<pre><code class="lang-auto">#ethernet.cloned-mac-address=stable
</code></pre>
<p>Also like <a class="mention" href="https://forums.kicksecure.com/u/crawfish">@Crawfish</a> said</p>
<aside class="quote no-group" data-username="Crawfish" data-post="7" data-topic="565">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/c/3e96dc/48.png" class="avatar"> Crawfish:</div>
<blockquote>
<p><code>connection.stable-id=${CONNECTION}/${BOOT}</code></p>
</blockquote>
</aside>
<p>This has to be set if you don’t want Network Manager to leak or revert back to permaddr cause Network Manger will.</p>
<p>Alternatively you could also set it to set a new mac everytime you reconnect in a session instead.</p>
<p><code>connection.stable-id=${CONNECTION}/${RANDOM}</code></p> ]]></description>
        <link>https://forums.kicksecure.com/t/randomized-hostname-protocol/565#post_10</link>
        <pubDate>Thu, 14 Nov 2024 21:28:01 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1615</guid>
      </item>
      <item>
        <title>KickSecure SMB setup</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Try <a href="https://www.kicksecure.com/wiki/Reporting_Bugs#Generic_Bug_Reproduction">Generic Bug Reproduction</a>.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-smb-setup/684#post_4</link>
        <pubDate>Thu, 14 Nov 2024 20:58:37 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1614</guid>
      </item>
      <item>
        <title>ISO - Development</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1087470">live-build: Binary stage runs apt commands, breaking certain image build workflows</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-development/371#post_9</link>
        <pubDate>Thu, 14 Nov 2024 20:57:17 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1613</guid>
      </item>
      <item>
        <title>Splitting security-misc into shared, desktop, and server packages</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>No worries.</p>
<p>Fixed by git revert.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/splitting-security-misc-into-shared-desktop-and-server-packages/674#post_4</link>
        <pubDate>Thu, 14 Nov 2024 20:45:58 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1612</guid>
      </item>
      <item>
        <title>Splitting security-misc into shared, desktop, and server packages</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group quote-modified" data-username="Patrick" data-post="2" data-topic="674">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<blockquote>
<ul>
<li>[!] │ │ │ ├── panic-on-oops.service (shared) (useful on desktop and server, systemd config looks invalid with a conflict between WantedBy and After)</li>
</ul>
</blockquote>
<p>Fixed.</p>
</blockquote>
</aside>
<p>It turns out I was wrong here - the config <em>looked</em> invalid but actually was not. I had mistakenly thought that <code>WantedBy</code> required the wanted service to start before the wanting service. This was false, the <code>systemd.unit</code> manpage states:</p>
<blockquote>
<p>Note that requirement dependencies do not influence the order in which services are started or stopped. This has to be configured independently with the <code>After=</code> or <code>Before=</code> options. If unit <code>foo.service</code> pulls in unit <code>bar.service</code> as configured with <code>Wants=</code> and no ordering is configured with <code>After=</code> or <code>Before=</code> , then both units will be started simultaneously and without any delay between them if <code>foo.service</code> is activated.</p>
</blockquote>
<p>So having a unit be both <code>WantedBy=multi-user.target</code> and <code>After=multi-user.target</code> is actually valid. Furthermore, removing the <code>After=multi-user.target</code> line has resulted in an error message on boot:</p>
<pre><code>[ SKIP ] Ordering cycle found, skipping panic-on-oops.service
</code></pre>
<p>Adding back <code>After=multi-user.target</code> to <code>/usr/lib/systemd/system/panic-on-oops.service</code> resolves the issue.</p>
<p>Sorry about the mix-up here.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/splitting-security-misc-into-shared-desktop-and-server-packages/674#post_3</link>
        <pubDate>Thu, 14 Nov 2024 03:29:03 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1611</guid>
      </item>
      <item>
        <title>KickSecure SMB setup</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>I think Kicksecure may have some security settings that prevent it from setting up. ty. Im going to check that</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-smb-setup/684#post_3</link>
        <pubDate>Wed, 13 Nov 2024 21:11:25 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1610</guid>
      </item>
      <item>
        <title>KickSecure SMB setup</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Should be same as on Debian.</p>
<p>Unspecific to Kicksecure.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Unspecific">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731403825" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Unspecific" target="_blank" rel="noopener" title="07:10AM - 06 September 2024">Kicksecure – 6 Sep 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/500;"><img src="https://www.kicksecure.com/w/images/7/74/Booster132.png?version=45557debf593fbb24d26970c477f16db" class="thumbnail" width="250" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Unspecific" target="_blank" rel="noopener">Potential Solutions Beyond Kicksecure!</a></h3>

  <p>Explore resources outside of Kicksecure to address unspecific questions or issues.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Can be resolved as per:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Self_Support_First_Policy">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731403825" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" target="_blank" rel="noopener" title="08:21AM - 25 October 2024">Kicksecure – 25 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="https://www.kicksecure.com/w/images/c/c6/Self-support.jpg?version=ff7bb4e369079801406f79a2ab8db191" class="thumbnail" width="666" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" target="_blank" rel="noopener">Self Support First Policy for Kicksecure</a></h3>

  <p>Definition of the Self Support First Policy for Kicksecure</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-smb-setup/684#post_2</link>
        <pubDate>Wed, 13 Nov 2024 08:52:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1608</guid>
      </item>
      <item>
        <title>KickSecure SMB setup</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>Hi,</p>
<p>I am setting up SMB or wanting to. Now I have a GLinet Flint 2 router and it seems very basic to setup but I am running into issues. Is there something to install on either the router or in KickSecure? I thought this would be a easy setup.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-smb-setup/684#post_1</link>
        <pubDate>Wed, 13 Nov 2024 05:23:28 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1607</guid>
      </item>
      <item>
        <title>Security misc break live mode with hardened malloc enabled</title>
        <dc:creator><![CDATA[@extraextra]]></dc:creator>
        <description><![CDATA[ <p>Deprecated in Kicksecure.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Hardened_Malloc#Deprecation_in_Kicksecure">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731403825" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Hardened_Malloc#Deprecation_in_Kicksecure" target="_blank" rel="noopener nofollow ugc" title="10:41AM - 18 February 2024">Kicksecure – 18 Feb 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/420;"><img src="https://www.kicksecure.com/w/images/0/06/Malloc423.jpg?version=218aedcb2078cd9e5f41a301cb19f13a" class="thumbnail" width="640" height="420"></div>

<h3><a href="https://www.kicksecure.com/wiki/Hardened_Malloc#Deprecation_in_Kicksecure" target="_blank" rel="noopener nofollow ugc">Hardened Malloc</a></h3>

  <p>Hardened Memory Allocator for many Applications to increase Security - installation from Kicksecure repository</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/security-misc-break-live-mode-with-hardened-malloc-enabled/683#post_2</link>
        <pubDate>Tue, 12 Nov 2024 19:51:51 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1606</guid>
      </item>
      <item>
        <title>Security misc break live mode with hardened malloc enabled</title>
        <dc:creator><![CDATA[@whkicks]]></dc:creator>
        <description><![CDATA[ <p>After updating security-misc today my VM with hardened-malloc + LKRG enabled doesn’t boot into live mode anymore. Regardless of how many resources I give the VM.</p>
<p>With hardened-malloc-light it works but I want to use default mode. Please take a look and fix this</p> ]]></description>
        <link>https://forums.kicksecure.com/t/security-misc-break-live-mode-with-hardened-malloc-enabled/683#post_1</link>
        <pubDate>Tue, 12 Nov 2024 15:41:36 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1605</guid>
      </item>
      <item>
        <title>Kernel-hardening-checker</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Seems unspecific to Kicksecure.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Unspecific">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731317425" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Unspecific" target="_blank" rel="noopener" title="07:10AM - 06 September 2024">Kicksecure – 6 Sep 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/500;"><img src="https://www.kicksecure.com/w/images/7/74/Booster132.png?version=45557debf593fbb24d26970c477f16db" class="thumbnail" width="250" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Unspecific" target="_blank" rel="noopener">Potential Solutions Beyond Kicksecure!</a></h3>

  <p>Explore resources outside of Kicksecure to address unspecific questions or issues.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Can be resolved as per:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Self_Support_First_Policy">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1731317425" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" target="_blank" rel="noopener" title="08:21AM - 25 October 2024">Kicksecure – 25 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="https://www.kicksecure.com/w/images/c/c6/Self-support.jpg?version=ff7bb4e369079801406f79a2ab8db191" class="thumbnail" width="666" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" target="_blank" rel="noopener">Self Support First Policy for Kicksecure</a></h3>

  <p>Definition of the Self Support First Policy for Kicksecure</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>pip, related:<br>
<a href="https://www.kicksecure.com/wiki/Install_Software#Best_Practices">Install Software, Best Practices, Avoid Third Party Package Managers</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/kernel-hardening-checker/678#post_3</link>
        <pubDate>Tue, 12 Nov 2024 06:39:30 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1604</guid>
      </item>
      <item>
        <title>Randomized hostname protocol</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group quote-modified" data-username="Crawfish" data-post="7" data-topic="565">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/c/3e96dc/48.png" class="avatar"> Crawfish:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="565">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>MAC randomization is an extremely difficult technical challenge.</p>
</blockquote>
</aside>
<p>Yes, couldn’t it be possible</p>
</blockquote>
</aside>
<p>You would need to study the issue (<a href="https://github.com/Kicksecure/security-misc/issues/184" class="inline-onebox">MAC randomization breaks root server and VirtualBox DHCP / IPv6PrivacyExtensions might be problematic · Issue #184 · Kicksecure/security-misc · GitHub</a>) and come up with solutions.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/randomized-hostname-protocol/565#post_9</link>
        <pubDate>Tue, 12 Nov 2024 06:33:25 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1603</guid>
      </item>
      <item>
        <title>Minimal Kicksecure Qubes Template</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>I don’t plan working on this.</p>
<p>This is the Kicksecure forum but a similar request was made against Whonix for minimal Whonix templates. My longer answers there would be applicable here for Kicksecure too:</p>
<ul>
<li><a href="https://forums.whonix.org/t/whonix-minimal-template/12152" class="inline-onebox">Whonix minimal template? - Qubes-Whonix - Whonix Forum</a></li>
<li><a href="https://github.com/QubesOS/qubes-issues/issues/8874" class="inline-onebox">Minimal Whonix templates · Issue #8874 · QubesOS/qubes-issues · GitHub</a></li>
</ul> ]]></description>
        <link>https://forums.kicksecure.com/t/minimal-kicksecure-qubes-template/682#post_2</link>
        <pubDate>Tue, 12 Nov 2024 06:30:02 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1602</guid>
      </item>
      <item>
        <title>Would randomizing machine-id each boot cause issues?</title>
        <dc:creator><![CDATA[@Crawfish]]></dc:creator>
        <description><![CDATA[ <p>Could you randomize the global /etc/machine-id but then set a static-id<br>
<code>$STATIC-ID=b08dfa6083e7567a1921a715000001fb</code> exported from a new file name <code>/etc/static-machine-id</code> and set it for services like NetworkManager and D-Bus or ones that may break somehow?</p>
<p>I don’t recall Apt requiring a mchine-id for updates/upgrades?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/would-randomizing-machine-id-each-boot-cause-issues/439#post_6</link>
        <pubDate>Tue, 12 Nov 2024 00:47:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1600</guid>
      </item>
      <item>
        <title>Randomized hostname protocol</title>
        <dc:creator><![CDATA[@Crawfish]]></dc:creator>
        <description><![CDATA[ <p>Also Can you have set separate hostnames with Network Namespaces?</p>
<p><code>ip netns exec thunderbird hostname computer</code></p>
<p>If this is the case I don’t think hostname is not automatically preserved when the namespace is deleted and recreated so maybe something like a random UUID for each generation could be used. But a UUID would be too long.</p>
<p><code>cat /proc/sys/kernel/random/uuid | wc -m</code></p>
<blockquote>
<p>37 characters</p>
</blockquote> ]]></description>
        <link>https://forums.kicksecure.com/t/randomized-hostname-protocol/565#post_8</link>
        <pubDate>Tue, 12 Nov 2024 00:39:26 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1598</guid>
      </item>
      <item>
        <title>Randomized hostname protocol</title>
        <dc:creator><![CDATA[@Crawfish]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="565">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>MAC randomization is an extremely difficult technical challenge.</p>
</blockquote>
</aside>
<p>Yes, couldn’t it be possible to configure your system in such a way that your MAC address is spoofed on a Wi-Fi network while using a different MAC address (your real MAC address or a spoofed static MAC address) for an SSH connection to your VPS. Through the use of network namespaces and virtual interfaces. Here’s a general approach how to maybe accomplish this:</p>
<h3><a name="p-1597-steps-to-spoof-mac-address-on-wi-fi-while-using-a-different-mac-for-ssh-1" class="anchor" href="https://forums.kicksecure.com#p-1597-steps-to-spoof-mac-address-on-wi-fi-while-using-a-different-mac-for-ssh-1"></a>Steps to Spoof MAC Address on Wi-Fi While Using a Different MAC for SSH</h3>
<ol>
<li><strong>Create a Network Namespace</strong>:<br>
You can create a network namespace to isolate the network settings for your SSH connection.</li>
</ol>
<pre><code class="lang-auto">ip netns add ssh-ns
</code></pre>
<ol start="2">
<li><strong>Create Virtual Ethernet Interfaces</strong>:<br>
Create a pair of virtual Ethernet interfaces (veth) to connect the namespace to the main network.</li>
</ol>
<pre><code class="lang-auto">ip link add veth0 type veth peer name veth1
</code></pre>
<ol start="3">
<li><strong>Assign Interfaces to the Namespace</strong>:<br>
Move one of the interfaces into the network namespace.</li>
</ol>
<pre><code class="lang-auto"> ip link set veth1 netns ssh-ns
</code></pre>
<ol start="4">
<li><strong>Configure the Interfaces</strong>:<br>
Assign IP addresses and bring up the interfaces. You can set a different MAC address for the interface in the namespace.</li>
</ol>
<pre><code class="lang-auto"># On the main namespace
ip addr add &lt;your_ip&gt; dev veth0
ip link set veth0 up

# Inside the namespace
ip netns exec ssh-ns ip addr add &lt;ssh_ip&gt; dev veth1
ip netns exec ssh-ns ip link set veth1 up
ip netns exec ssh-ns ip link set dev veth1 address &lt;static_mac_address&gt;
</code></pre>
<ol start="5">
<li><strong>Spoof Your MAC Address on the Wi-Fi/Ethernet Interfaces</strong>:<br>
Change the MAC address of your Wi-Fi interface to the desired spoofed MAC address.</li>
</ol>
<pre><code class="lang-auto">[device]
wifi.scan-rand-mac-address=yes

[connection]
wifi.cloned-mac-address=stable
ethernet.cloned-mac-address=stable
connection.stable-id=${CONNECTION}/${BOOT}
</code></pre>
<ol start="6">
<li><strong>SSH into Your VPS</strong>:<br>
Now, when you want to SSH into your VPS, you can do so from within the network namespace, which will use the static MAC address you set for <code>veth1</code>.</li>
</ol>
<pre><code class="lang-auto">ip netns exec ssh-ns ssh user@your_vps_ip
</code></pre> ]]></description>
        <link>https://forums.kicksecure.com/t/randomized-hostname-protocol/565#post_7</link>
        <pubDate>Tue, 12 Nov 2024 00:38:56 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1597</guid>
      </item>
      <item>
        <title>Minimal Kicksecure Qubes Template</title>
        <dc:creator><![CDATA[@ksec]]></dc:creator>
        <description><![CDATA[ <p>Please work with minimal templates in mind from the get go. <code>sys-</code> templates with a plethora of desktop apps installed are not great.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/minimal-kicksecure-qubes-template/682#post_1</link>
        <pubDate>Mon, 11 Nov 2024 23:15:33 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1596</guid>
      </item>
      <item>
        <title>Kernel-hardening-checker</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>cAN i DO THIS: AND HOW?</p>
<p>#!/usr/bin/env python3</p>
<p>“”"<br>
This tool is for checking the security hardening options of the Linux kernel.</p>
<p>SPDX-FileCopyrightText: Alexander Popov <a href="mailto:alex.popov@linux.com">alex.popov@linux.com</a><br>
SPDX-License-Identifier: GPL-3.0-only</p>
<p>This file is for using the tool without installation via setuptools.<br>
“”"</p>
<p>import os<br>
import sys<br>
import inspect</p>
<p>current_dir = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))<br>
parent_dir = os.path.dirname(current_dir)<br>
sys.path.insert(0, parent_dir)</p>
<p>import kernel_hardening_checker</p>
<p>kernel_hardening_checker.main()</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kernel-hardening-checker/678#post_2</link>
        <pubDate>Mon, 11 Nov 2024 21:13:49 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1594</guid>
      </item>
      <item>
        <title>Kicksecure Qubes Template Development</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubissue" data-onebox-src="https://github.com/QubesOS/qubes-issues/issues/9573">
  <header class="source">

      <a href="https://github.com/QubesOS/qubes-issues/issues/9573" target="_blank" rel="noopener">github.com/QubesOS/qubes-issues</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/QubesOS/qubes-issues/issues/9573" target="_blank" rel="noopener">build Kicksecure Qubes Template</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-11-11" data-time="20:07:07" data-timezone="UTC">08:07PM - 11 Nov 24 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          T: enhancement
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          P: default
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">### The problem you're addressing (if any)

A Kicksecure Qubes Template is una<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">vailable.

The only way to use Kicksecure in Qubes is [Distribution Morphing](https://www.kicksecure.com/wiki/Qubes#Distribution_Morphing).

### The solution you'd like

Provide a Kicksecure Qubes template that can be installed using:

    qvm-template install --enablerepo=qubes-templates-community kicksecure-17

### The value to a user, and who that user might be

Easily installable Kicksecure Template that does not come with issue https://github.com/QubesOS/qubes-issues/issues/7447, requires no lengthy distribution morphing instructions, comes security hardened by default. 

(Should also come with in-VM kernel enabled by default. (https://github.com/QubesOS/qubes-issues/issues/9570))

Users that indicated interest for a Kicksecure Qubes Template:

* https://forum.qubes-os.org/search?q=kicksecure%20in%3Atitle
* https://github.com/QubesOS/qubes-issues/issues?q=is%3Aissue+kicksecure+in%3Atitle
* https://forums.kicksecure.com/search?q=qubes%20in%3Atitle

### Work-in-progress

https://github.com/Kicksecure/qubes-template-kicksecure
Untested.

### Related non-duplicates

* https://github.com/QubesOS/qubes-issues/issues/9332 (ticket isn't about Kicksecure) (is a ticket about default use of a hardened Template)

### Completion criteria checklist

(This section is for developer use only. Please do not modify it.)</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubrepo" data-onebox-src="https://github.com/Kicksecure/qubes-template-kicksecure">
  <header class="source">

      <a href="https://github.com/Kicksecure/qubes-template-kicksecure" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">
  <img width="690" height="344" src="https://opengraph.githubassets.com/c3f87ff512f4b7927bfbc191fa80e2ed/Kicksecure/qubes-template-kicksecure" class="thumbnail">

  <h3><a href="https://github.com/Kicksecure/qubes-template-kicksecure" target="_blank" rel="noopener">GitHub - Kicksecure/qubes-template-kicksecure</a></h3>

    <p><span class="github-repo-description">Contribute to Kicksecure/qubes-template-kicksecure development by creating an account on GitHub.</span></p>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<ul>
<li><a href="https://www.kicksecure.com/wiki/Qubes#Template">Qubes Template</a></li>
</ul> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-qubes-template-development/679#post_1</link>
        <pubDate>Mon, 11 Nov 2024 20:15:39 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1593</guid>
      </item>
      <item>
        <title>Kernel-hardening-checker</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>I try to install kernel-hardening-checker and I get this: What to do as I simply used the instructions?</p>
<p>pip install git+https://github.com/a13xp0p0v/kernel-hardening-checker<br>
error: externally-managed-environment</p>
<p>× This environment is externally managed<br>
╰─&gt; To install Python packages system-wide, try apt install<br>
python3-xyz, where xyz is the package you are trying to<br>
install.</p>
<pre><code>If you wish to install a non-Debian-packaged Python package,
create a virtual environment using python3 -m venv path/to/venv.
Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
sure you have python3-full installed.

If you wish to install a non-Debian packaged Python application,
it may be easiest to use pipx install xyz, which will manage a
virtual environment for you. Make sure you have pipx installed.

See /usr/share/doc/python3.11/README.venv for more information.
</code></pre>
<p>note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.<br>
hint: See PEP 668 for the detailed specification.<br>
zsh: exit 1     pip install git+https://github.com/a13xp0p0v/kernel-hardening-checker</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kernel-hardening-checker/678#post_1</link>
        <pubDate>Mon, 11 Nov 2024 18:32:13 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1592</guid>
      </item>
      <item>
        <title>Enable and use zRAM instead for swap</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Until we decide the future of swap in Kicksecure…</p>
<p>Let’s break support for hibernation by default. Then swap-file-creator could also create a smaller swap file by default.</p>
<p>Related:</p>
<ul>
<li><a href="https://www.kicksecure.com/wiki/Swap-file-creator" class="inline-onebox">swap-file-creator</a></li>
<li>
<pre><code>calculate-swap-size
</code></pre>
</li>
</ul>
<blockquote>
<p>Usage: calculate-swap-size [RAM in MB] [Hibernation (yes/no)]</p>
</blockquote>
<p>Examples:</p>
<ul>
<li>
<pre><code>calculate-swap-size 4096 yes
</code></pre>
</li>
</ul>
<blockquote>
<p>Calculating swap size…<br>
RAM in MB: 4096<br>
Hibernation considered: yes<br>
RAM in GB (approximated for calculation): 4<br>
RAM &gt; 2GB and &lt;= 8GB with hibernation: Swap size is 2 times the RAM<br>
Calculated Swap Size in MB: 8192</p>
</blockquote>
<ul>
<li>
<pre><code>calculate-swap-size 4096 no
</code></pre>
</li>
</ul>
<blockquote>
<p>Calculating swap size…<br>
RAM in MB: 4096<br>
Hibernation considered: no<br>
RAM in GB (approximated for calculation): 4<br>
RAM &gt; 2GB and &lt;= 8GB without hibernation: Swap size equals RAM<br>
Calculated Swap Size in MB: 4096</p>
</blockquote>
<p>A smaller swap file by default is a small progress.</p>
<p>Once decided what to do about zwap / zram, we might even deprecate the current default file based swap.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654#post_9</link>
        <pubDate>Mon, 11 Nov 2024 15:38:19 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1589</guid>
      </item>
      <item>
        <title>Kicksecure installation: Cannot set timezone. link creation failed, target /usr/share/timezone; link name: /etc/localtime</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Very helpful. This was the foundation for <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@arraybolt3</a> who succeeded to diagnose the issue and translate it into a upstream calamares bug report.</p>
<aside class="onebox githubissue" data-onebox-src="https://github.com/calamares/calamares/issues/2397">
  <header class="source">

      <a href="https://github.com/calamares/calamares/issues/2397" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/calamares/calamares/issues/2397" target="_blank" rel="noopener">Allow distros to restrict what filesystems can be used in manual partitioning</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-11-10" data-time="23:42:09" data-timezone="UTC">11:42PM - 10 Nov 24 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
          <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Is your feature request related to a problem? Please describe.**
Calamares cu<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">rrently allows one to pick from a large number of different filesystems when setting up a system with manual partitioning. For the most part this is good, however because not all filesystems work well with all distros, it is possible for the user to shoot themselves in the foot by picking a filesystem that won't work. For instance, currently nothing in Calamares prevents the user from attempting to install a Debian-based distro like Kicksecure onto a FAT32-formatted root partition.

![Screenshot_20241110_173418](https://github.com/user-attachments/assets/16f77507-654b-4754-afcc-e99b2950f4f7)

Obviously this won't work in the long run, however the installation actually tries to proceed and gets quite far. The error message that the installation eventually fails with is less-than-obvious:

![Screenshot_20241110_173630](https://github.com/user-attachments/assets/e3dcd4f7-6fa1-4e04-bc64-69951644ef8a)

**Describe the solution you'd like**
I think the best solution here would be to allow distros to specify what filesystems can be used at what mountpoints. Ideally, the manual partitioning screen would prevent the user from selecting a "bad" filesystem, however it might be sufficient to simply warn them that what they're doing is likely to fail in weird ways if they continue. Calamares could use a default "deny-map" (or whatever you want to call it) that would prevent some common blunders (such as using a non-UNIX filesystem for the root filesystem), but the map would be fully configurable by the distro developer.

**Describe alternatives you've considered**
The simplest solution would be to simply prohibit using fat32 as a filesystem for the root filesystem, however this doesn't seem like the right decision to make since in theory some distros might actually want to support a fat32 root filesystem.

**Additional context**
The issue mentioned above has tripped up at least one user in the wild: https://forums.kicksecure.com/t/kicksecure-installation-cannot-set-timezone-link-creation-failed-target-usr-share-timezone-link-name-etc-localtime/652</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-installation-cannot-set-timezone-link-creation-failed-target-usr-share-timezone-link-name-etc-localtime/652#post_7</link>
        <pubDate>Mon, 11 Nov 2024 15:10:17 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1588</guid>
      </item>
      <item>
        <title>Splitting security-misc into shared, desktop, and server packages</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>I’d like to address the bugs found first, as that seems easy and to simplify this discussion.</p>
<blockquote>
<ul>
<li>[!] │   │   ├── pkexec.security-misc                                                              (shared)  (useful on desktop and server, however lxqt-sudo won’t be present on a server, but pkexec may be used on a server. Resolve by allowing the use of sudo.)</li>
</ul>
</blockquote>
<p>Fixed by deleting this legacy leftover file.</p>
<blockquote>
<ul>
<li>[!] │   │       ├── disable-kernel-module-loading                                                 (shared)  (useful on desktop and server, BUT SOMEHOW ISN’T SET EXECUTABLE???)</li>
</ul>
</blockquote>
<p>Fixed.</p>
<pre><code class="lang-auto">* [!] │   ├── dkms                                                                                  (none)    (see files below)
* [!] │   │   └── framework.conf.d                                                                  (none)    (see files below)
* [!] │   │       └── 30_security-misc.conf                                                         (none)    (should be moved out of security-isc)
</code></pre>
<blockquote>
<ul>
<li>[!] │   │       │   ├── panic-on-oops.service                                                     (shared)  (useful on desktop and server, systemd config looks invalid with a conflict between WantedBy and After)</li>
</ul>
</blockquote>
<p>Fixed.</p>
<blockquote>
<p><code>* [x] │   │       ├── install matroxfb_bases /usr/bin/disabled-framebuffer-by-security-misc         (shared)  (ancient, obsolete, TYPO'D - THIS SHOULD BE BASE, NOT BASES)</code></p>
</blockquote>
<p>Fixed.</p>
<hr>
<p>All bugs should have been addressed.</p>
<hr>
<p>Server? Could also be a home server with a GUI?</p>
<hr>
<blockquote>
<ul>
<li><span class="chcklst-box checked fa fa-check-square-o fa-fw"></span> │   │   ├── <code>glib-compile-schemas /usr/share/glib-2.0/schemas || true</code>                        (desktop) (glib-compile-schemas is of no use on a server)</li>
</ul>
</blockquote>
<p>No use but also no harm? So just keep as is for simplicity? Also a remote server might have a GUI.</p>
<blockquote>
<ul>
<li><span class="chcklst-box checked fa fa-check-square-o fa-fw"></span> │   ├── security-misc.gconf-defaults                                                          (desktop) (nautilus won’t be present on a server)</li>
</ul>
</blockquote>
<p>Similar as above. Doesn’t harm and useful if a GUI is used on the server.</p>
<blockquote>
<p><code>* [x] │   ├── bluetooth                                                                             (desktop) (all subfiles are desktop)</code><br>
<code>* [x] │   │   └── 30_security-misc.conf                                                             (desktop) (bluez should only be present on desktops)</code></p>
</blockquote>
<p>But if on a server, this config does not harm, even useful?</p>
<blockquote>
<p><code>* [x] │   │   ├── 25_default_whitelist_hardened_malloc.conf                                         (server)  (desktops don't use hardened-malloc)</code></p>
</blockquote>
<p>We actually did but <a href="https://www.kicksecure.com/wiki/Hardened_Malloc" class="inline-onebox">Hardened Malloc</a> is nowadays deprecated in Kicksecure.</p>
<blockquote>
<p><code>* [x] │   │   ├── 25_default_whitelist_postfix.conf                                                 (server)  (desktops shouldn't run postfix)</code></p>
</blockquote>
<p>The primary defense for desktops would be not installing postfix then? But then postfix might be installed thorugh a <code>Depends:</code>, or <code>Recommends:</code>. In that case, indeed, best if not whitelisted.</p>
<blockquote>
<p><code>* [x] │   │   ├── 25_default_whitelist_spice.conf                                                   (desktop) (only desktops need USB passthrough with SPICE)</code></p>
</blockquote>
<p>SPICE over network to server?</p>
<hr>
<p>I guess I would tend to keep as much shared as possible. The more remains shared, the less migration work there will be.</p>
<p>The file per file analysis is a great approach!</p> ]]></description>
        <link>https://forums.kicksecure.com/t/splitting-security-misc-into-shared-desktop-and-server-packages/674#post_2</link>
        <pubDate>Mon, 11 Nov 2024 14:20:43 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1586</guid>
      </item>
      <item>
        <title>Splitting security-misc into shared, desktop, and server packages</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>Read through the discussion at <a href="https://github.com/Kicksecure/security-misc/issues/187" class="inline-onebox" rel="noopener nofollow ugc">Split the `security-misc` into `security-misc-shared`, `security-misc-desktop` and `security-misc-server` · Issue #187 · Kicksecure/security-misc · GitHub</a>, and created a table of (almost) all of the files and directories in security-misc, along with what subpackage they should go into. The vast majority of the package looks like it can remain shared. Some bugs were also potentially uncovered while reviewing this.</p>
<p>The full table is very large and has very long lines, so rather than pasting it here, I put it in a GitHub gist here: <a href="https://gist.github.com/ArrayBolt3/1fef29b2214f27054cd85785530e7f7f" class="inline-onebox" rel="noopener nofollow ugc">Suggested way to split the security-misc package into shared, desktop, and server packages. · GitHub</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/splitting-security-misc-into-shared-desktop-and-server-packages/674#post_1</link>
        <pubDate>Mon, 11 Nov 2024 06:11:26 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1585</guid>
      </item>
      <item>
        <title>ISO - Development</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubpullrequest" data-onebox-src="https://github.com/Kicksecure/derivative-maker/pull/2">
  <header class="source">

      <a href="https://github.com/Kicksecure/derivative-maker/pull/2" target="_blank" rel="noopener">github.com/Kicksecure/derivative-maker</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="https://github.com/Kicksecure/derivative-maker/pull/2" target="_blank" rel="noopener">Use live-build to build the Kicksecure ISO by default</a>
      </h4>

    <div class="branches">
      <code>Kicksecure:master</code> ← <code>ArrayBolt3:arraybolt3/live-build</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-10-28" data-time="01:46:11" data-timezone="UTC">01:46AM - 28 Oct 24 UTC</span>
        </div>

        <div class="user">
          <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="1 commits changed 28 files with 1240 additions and 0 deletions">
          <a href="https://github.com/Kicksecure/derivative-maker/pull/2/files" target="_blank" rel="noopener">
            <span class="added">+1240</span>
            <span class="removed">-0</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">This pull request adds live-build support to derivative-maker. At present it is <span class="show-more-container"><a href="https://github.com/Kicksecure/derivative-maker/pull/2" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">designed and enabled for the Kicksecure ISO only. The ISO features a functional live mode, Calamares installer, and debian-installer.

Some notes:

* Both normal ISO builds and `--remote-derivative-repository` ISO builds work.
* Whonix and Kicksecure VM builds still work. I have **NOT** tested derivative-makers various other build features beyond this!
* debian-installer's basic functionality works, I have not thoroughly tested every edge case though, nor have I tested (encrypted) LVM or manual partitioning. debian-installer is very powerful, complicated, and isn't really designed to work the way Kicksecure works, so the included preseed file is intended to make most of the "scary" options vanish and leave the user with only "safe" options, however the end-user can override this using GRUB options if they so choose.
* **Three Kicksecure packages required changes in order for this to work.** All three of these must be updated before merging this, or there will be problems. The packages (and links to my forks of them) are:
  * live-config-dist (https://github.com/ArrayBolt3/live-config-dist/tree/arraybolt3/live-build)
  * dist-base-files (https://github.com/ArrayBolt3/dist-base-files/tree/arraybolt3/live-build)
  * anon-apt-sources-list (https://github.com/ArrayBolt3/anon-apt-sources-list/tree/arraybolt3/live-build)
* **A fork of live-build must be used in order to build this, as it makes use of several experimental features I wrote for this purpose.** The fork can be seen here: https://salsa.debian.org/ArrayBolt3/live-build/-/tree/arraybolt3/lb-dracut?ref_type=heads In particular, this code uses local repository support, mmdebstrap support, and `apt update`-specific options, all of which are not yet merged upstream.

## Changes

* build-steps.d/2800_create-lb-iso
  * This is the ISO creation script used when live-build is enabled. Due to live-build's design, this script handles bootstrapping, chroot installation, and ISO packaging all at the same time. It essentially generates a live-build configuration tree dynamically at runtime, then runs live-build stages on this configuration tree to create the ISO. Due to the complexity of Kicksecure's chroot installation process, the script does quite a bit of "fiddling" to make sure the ISO is properly configured.
* build-steps.d/3200_create-raw-image
* build-steps.d/3500_install-packages
* build-steps.d/4300_run-chroot-scripts-post-d
* build-steps.d/4400_zerofree-raw
* build-steps.d/4700_convert-to-iso
  * Added checks so that these don't run when building a Kicksecure ISO.
* live-build-data/d-i-branding/*
  * Kicksecure branding for debian-installer.
* live-build-data/d-i-theme/gtkrc
  * Theming for debian-installer. Without this, the default "emerald" color scheme is used which really does not look right with Kicksecure's blue logo.
* live-build-data/grub-config/*
  * GRUB menu configuration for the ISO. Provides live mode, expert installation modes (for debian-installer), and the ability to access UEFI firmware settings if applicable.
* live-build-data/live-build-config/*
  * Static configuration files for live-build. 2800_create-lb-iso copies these into the appropriate locations at runtime.
* live-build-data/preseed.cfg
  * Configuration file for debian-installer, so that the installation process actually works right. This ends up embedded into the ISO's initramfs files so also cannot be shipped as a package.
* packages/kicksecure/developer-meta-files
  * Latest commits from developer-meta-files, updated by accident. Can easily revert, probably would be better to in order to avoid having unrelated changes mixed up.

## Mandatory Checklist

- [x] Legal agreements accepted. By contributing to this organisation, you acknowledge you have read, understood, and agree to be bound by these these agreements:

[Terms of Service](https://www.kicksecure.com/wiki/Terms_of_Service), [Privacy Policy](https://www.kicksecure.com/wiki/Privacy_Policy), [Cookie Policy](https://www.kicksecure.com/wiki/Cookie_Policy), [E-Sign Consent](https://www.kicksecure.com/wiki/E-Sign_Consent), [DMCA](https://www.kicksecure.com/wiki/DMCA), [Imprint](https://www.kicksecure.com/wiki/Imprint)

## Optional Checklist
The following items are optional but might be requested in certain cases.

- [x] I have tested it locally
- [x] I have reviewed and updated any documentation if relevant
- [x] I am providing new code and test(s) for it

Fixes: https://www.kicksecure.com/wiki/Dev/todo#ISO_-_port_to_live-build</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/iso-development/371#post_8</link>
        <pubDate>Sun, 10 Nov 2024 12:25:34 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1584</guid>
      </item>
      <item>
        <title>Security-Misc ISO VErsion</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>security-misc is installed by default.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/security-misc-iso-version/672#post_2</link>
        <pubDate>Sun, 10 Nov 2024 11:04:24 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1583</guid>
      </item>
      <item>
        <title>Qemu and KVM tutorial</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>I should have told you. sry. no, Its working fine, I just have a bit of CPU usuage for a few minutes at 50% and actually I don’t think it should, I have a Beelink SER6 max, 6900hx amd i believe 32GIG ddr5. Its not to shabby. But it works great just having a problem with Video resolution greyed out at 1200 x 800</p> ]]></description>
        <link>https://forums.kicksecure.com/t/qemu-and-kvm-tutorial/665#post_5</link>
        <pubDate>Sat, 09 Nov 2024 23:58:00 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1581</guid>
      </item>
      <item>
        <title>Qemu and KVM tutorial</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>So it looks like you’re using something Debian-based, and you have virt-manager installed. I believe you’re having trouble getting Kicksecure to work within it though. Could you share the exact issues you’re encountering while attempting to follow the documentation? If you’re seeing any error messages, it would be very useful if we could see those too.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/qemu-and-kvm-tutorial/665#post_4</link>
        <pubDate>Sat, 09 Nov 2024 23:24:50 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1580</guid>
      </item>
      <item>
        <title>Hard Drive Partition</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>32GIG. I don’t think I need the swap unless I wanted to do like you suggest, (stolenkey)</p>
<p>ty</p> ]]></description>
        <link>https://forums.kicksecure.com/t/hard-drive-partition/666#post_6</link>
        <pubDate>Sat, 09 Nov 2024 22:56:22 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1579</guid>
      </item>
      <item>
        <title>Security-Misc ISO VErsion</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>Doesn’t the ISO version of kicksecure already come with all the stuff the wiki talks about already installed?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/security-misc-iso-version/672#post_1</link>
        <pubDate>Sat, 09 Nov 2024 22:53:25 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1578</guid>
      </item>
      <item>
        <title>Qemu and KVM tutorial</title>
        <dc:creator><![CDATA[@SlowMoe]]></dc:creator>
        <description><![CDATA[ <p>Thank you, I should have mention distro, I just thought that went without mentioning. I have to learn to be more detailed again. sry. But this is what I used and it went well, I forget where I got it. Below is process.</p>
<p>I use the ISO to install. That was easy.</p>
<p>Installing Virt-manager-QEMU-KVM</p>
<ol>
<li>Update your system:</li>
</ol>
<ul>
<li>sudo apt update</li>
</ul>
<ol start="2">
<li>Install necessary packages:</li>
</ol>
<ul>
<li>sudo apt install virt-manager qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils</li>
</ul>
<p>This will install:</p>
<pre><code>virt-manager: A GUI to manage virtual machines.
qemu-kvm: The emulator and virtualization software.
libvirt-daemon-system and libvirt-clients: The service and client tools for managing KVM virtual machines.
bridge-utils: For networking support.
</code></pre>
<ol start="3">
<li>Verify KVM support:</li>
</ol>
<ul>
<li>egrep -c ‘(vmx|svm)’ /proc/cpuinfo</li>
</ul>
<ol start="4">
<li>Add your user to the libvirt group:</li>
</ol>
<ul>
<li>sudo usermod -aG libvirt $(whoami)</li>
</ul>
<ol start="5">
<li>Enable and start the libvirt service:</li>
</ol>
<ul>
<li>sudo systemctl enable --now libvirtd</li>
</ul>
<ol start="6">
<li>Start Virt-Manager</li>
</ol>
<ul>
<li>virt-manager</li>
</ul> ]]></description>
        <link>https://forums.kicksecure.com/t/qemu-and-kvm-tutorial/665#post_3</link>
        <pubDate>Sat, 09 Nov 2024 22:51:09 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1577</guid>
      </item>
      <item>
        <title>Kicksecure installation: Cannot set timezone. link creation failed, target /usr/share/timezone; link name: /etc/localtime</title>
        <dc:creator><![CDATA[@WMichael]]></dc:creator>
        <description><![CDATA[ <p>TL;DR: Make sure to use ext4 formatting for the Kicksecure partition.</p>
<p>FWIW, after hours of struggling, I noticed Patrick’s post: “So I create a live ISO with openSUSE’s …” So I tried a minimal Ubuntu install on the USB drive, then replaced it with Kicksecure and it worked!</p>
<p>Upon further research, I realized that I had misinterpreted the instructions regarding the EFI partition. It turns out that I needed to ensure it was FAT32/ExFAT for proper functioning, but I incorrectly assumed the Kicksecure partition required this format, too. Actually, the Kicksecure partition requires a Linux disk format, and I chose ext4. I was able to verify this was my issue by successfully installing Kicksecure on a second USB drive using an ext4 file system for the Kicksecure partition.</p>
<p>I hope this is helpful.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-installation-cannot-set-timezone-link-creation-failed-target-usr-share-timezone-link-name-etc-localtime/652#post_6</link>
        <pubDate>Sat, 09 Nov 2024 18:31:01 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1574</guid>
      </item>
      <item>
        <title>Enable and use zRAM instead for swap</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Before re-inventing here… What are their settings of other distributions?</p>
</blockquote>
</aside>
<ul>
<li>Kubuntu 24.04
<ul>
<li>Doesn’t use zram or zswap by default at all.</li>
</ul>
</li>
<li>Ubuntu Desktop 24.04
<ul>
<li>Apparently <em>also</em> doesn’t use zram or zswap by default at all anymore!</li>
</ul>
</li>
<li>Fedora 40
<ul>
<li>zram enabled by default. Places swap on zram, with the zram device set to 50% of RAM size. (<a href="https://fedoraproject.org/wiki/Changes/SwapOnZRAM" class="inline-onebox" rel="noopener nofollow ugc">Changes/SwapOnZRAM - Fedora Project Wiki</a>) This mentions the device size is capped at 4 GB, however on my 16 GB VM the zram device is 8 GB so maybe they increased that. Algorithm used is <code>lzo-rle</code>, which is fast but doesn’t compress all that well.</li>
</ul>
</li>
<li>Debian
<ul>
<li>Not enabled by default, no recommendations for size or algorithm, mentions using zram-tools or systemd-zram-generator for easier management of zram devices.</li>
</ul>
</li>
<li>Arch Linux
<ul>
<li>Not enabled by default, <a href="https://wiki.archlinux.org/title/Zram" rel="noopener nofollow ugc">documentation</a> suggests creating a device half the size of available memory but mentions that making a device with a size equal to or larger than available memory is acceptable. Suggests using the zstd algorithm, which compresses better, and mentions that real-world use often shows a 3:1 compression ratio.</li>
</ul>
</li>
<li>Manjaro
<ul>
<li>Not enabled by default, <a href="https://forum.manjaro.org/t/howto-install-and-configure-zram-using-zram-generator/168610" rel="noopener nofollow ugc">documentation</a> suggests creating a device twice the size of available memory. Also suggests using the zstd algorithm.</li>
</ul>
</li>
<li>Gentoo
<ul>
<li>Not enabled by default, <a href="https://wiki.gentoo.org/wiki/Zram" rel="noopener nofollow ugc">documentation</a> (which is very thorough) mentions a plethora of different sizes and algorithms and makes no effort to recommend any particular size or algorithm that I can tell. Also mentions the 3:1 compression ratio.</li>
</ul>
</li>
</ul>
<p>So really it’s all over the map. Personally, I’ve previously used a zram device equal to the size of my physical memory with lzo-rle compression, but recently have been experimenting with a zram device size of (physical memory size - 1 GB) * 3 with zstd to see how it goes. Personally I think using zstd rather than lzo-rle is a very good idea if we’re going to try using zram devices larger than physical memory, since it should compress better according to <a href="https://github.com/ecdye/zram-config/blob/main/README.md#configure" class="inline-onebox" rel="noopener nofollow ugc">zram-config/README.md at main · ecdye/zram-config · GitHub</a></p>
<blockquote>
<p><code>lzo-rle</code> is the fastest with <code>zstd</code> having much better text compression.</p>
</blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>hibernate requires swap.</p>
</blockquote>
</aside>
<p>I personally would shy away from supporting hibernation. It’s incompatible with Secure Boot, systems sometimes experience malfunctions when using it with Linux (maybe even oftentimes), and it requires that RAM contents be saved to disk either unencrypted or with a recoverable encryption key, which is a substantial reduction of security since now otherwise volatile data is now persistent.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654#post_8</link>
        <pubDate>Fri, 08 Nov 2024 02:20:06 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1569</guid>
      </item>
  </channel>
</rss>
