<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:discourse="http://www.discourse.org/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Kicksecure Forums - Latest posts</title>
    <link>https://forums.kicksecure.com</link>
    <description>Latest posts</description>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="592">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>security-misc changed in this release:</p>
<p><code>kernel.unprivileged_userns_clone=0</code></p>
</blockquote>
</aside>
<p>This is good to have and kept as default, something else should be figured out on how to make flatpak work.</p>
<p>Alpinelinux using the same kernel option:</p>
<aside class="onebox stackexchange" data-onebox-src="https://superuser.com/questions/1507236/enable-kernel-unprivileged-userns-clone-in-alpine-linux">
  <header class="source">

      <a href="https://superuser.com/questions/1507236/enable-kernel-unprivileged-userns-clone-in-alpine-linux" target="_blank" rel="noopener">superuser.com</a>
  </header>

  <article class="onebox-body">
      <a href="https://superuser.com/users/1118308/pjeremymalouf" target="_blank" rel="noopener">
    <img alt="PJeremyMalouf" src="https://www.gravatar.com/avatar/6c09cba963c7e78e35f4755062697395?s=256&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="256" height="256">
  </a>

<h4>
  <a href="https://superuser.com/questions/1507236/enable-kernel-unprivileged-userns-clone-in-alpine-linux" target="_blank" rel="noopener">Enable kernel.unprivileged_userns_clone in Alpine Linux</a>
</h4>

<div class="tags">
  <strong>docker, amazon-web-services, alpine-linux</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://superuser.com/users/1118308/pjeremymalouf" target="_blank" rel="noopener">
    PJeremyMalouf
  </a>
  on <a href="https://superuser.com/questions/1507236/enable-kernel-unprivileged-userns-clone-in-alpine-linux" target="_blank" rel="noopener">06:49AM - 04 Dec 19 UTC</a>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>But they say if you have flatpak permission issue just " add your user to the <strong>flatpak</strong> group."</p>
<p><a href="https://wiki.alpinelinux.org/wiki/Flatpak#Permission_errors" class="onebox" target="_blank" rel="noopener">https://wiki.alpinelinux.org/wiki/Flatpak#Permission_errors</a></p>
<p>Why turning off this option is not solution:</p>
<aside class="onebox stackexchange" data-onebox-src="https://security.stackexchange.com/questions/209529/what-does-enabling-kernel-unprivileged-userns-clone-do/209533#209533">
  <header class="source">

      <a href="https://security.stackexchange.com/questions/209529/what-does-enabling-kernel-unprivileged-userns-clone-do/209533#209533" target="_blank" rel="noopener">security.stackexchange.com</a>
  </header>

  <article class="onebox-body">
      <a href="https://security.stackexchange.com/users/106285/forest" target="_blank" rel="noopener">
    <img alt="forest" src="https://i.sstatic.net/mVwQm.jpg?s=256" class="thumbnail onebox-avatar" width="256" height="256">
  </a>

<h4>
  <a href="https://security.stackexchange.com/questions/209529/what-does-enabling-kernel-unprivileged-userns-clone-do/209533#209533" target="_blank" rel="noopener">What does enabling kernel.unprivileged_userns_clone do?</a>
</h4>

<div class="tags">
  <strong>linux</strong>
</div>

<div class="date">
  
  answered by
  <a href="https://security.stackexchange.com/users/106285/forest" target="_blank" rel="noopener">
    forest
  </a>
  on <a href="https://security.stackexchange.com/questions/209529/what-does-enabling-kernel-unprivileged-userns-clone-do/209533#209533" target="_blank" rel="noopener">01:41AM - 05 May 19 UTC</a>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="592">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Temporary workaround to undo this setting (untested):</p>
<p><code>sudo sysctl -w kernel.unprivileged_userns_clone=1</code></p>
</blockquote>
</aside>
<p>Workaround, worked:</p>
<pre><code class="lang-auto">[user ~]% sudo sysctl -w kernel.unprivileged_userns_clone=1
kernel.unprivileged_userns_clone = 1
[user ~]% flatpak install org.mozilla.firefox
Looking for matches…
Required runtime for org.mozilla.firefox/x86_64/stable (runtime/org.freedesktop.Platform/x86_64/23.08) found in remote flathub
Do you want to install it? [Y/n]: n 
error: The application org.mozilla.firefox/x86_64/stable requires the runtime org.freedesktop.Platform/x86_64/23.08 which is not installed
zsh: exit 1     flatpak install org.mozilla.firefox
[user ~]% flatpak install io.freetubeapp.FreeTube
Looking for matches…
Required runtime for io.freetubeapp.FreeTube/x86_64/stable (runtime/org.freedesktop.Platform/x86_64/23.08) found in remote flathub
Do you want to install it? [Y/n]: y

io.freetubeapp.FreeTube permissions:
    ipc        network                pulseaudio             x11
    dri        file access [1]        dbus access [2]        bus ownership [3]

    [1] xdg-download
    [2] org.freedesktop.PowerManagement, org.freedesktop.ScreenSaver, org.gnome.SessionManager,
        org.gnome.SettingsDaemon
    [3] org.mpris.MediaPlayer2.chromium.*, org.mpris.MediaPlayer2.freetube


        ID                                     Branch         Op    Remote    Download
 1. [✓] org.freedesktop.Platform.GL.default    23.08          i     flathub   164.6 MB / 163.8 MB
 2. [✓] org.freedesktop.Platform.GL.default    23.08-extra    i     flathub    22.6 MB / 163.8 MB
 3. [✓] org.freedesktop.Platform.Locale        23.08          i     flathub    17.9 kB / 371.6 MB
 4. [✓] org.freedesktop.Platform.openh264      2.2.0          i     flathub     1.2 MB / 944.3 kB
 5. [✓] org.freedesktop.Platform               23.08          i     flathub   250.0 MB / 230.9 MB
 6. [✓] io.freetubeapp.FreeTube                stable         i     flathub   123.4 MB / 114.8 MB

Installation complete.
[user ~]%
</code></pre> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_9</link>
        <pubDate>Wed, 02 Oct 2024 23:33:08 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1340</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubissue" data-onebox-src="https://github.com/Kicksecure/security-misc/issues/274">
  <header class="source">

      <a href="https://github.com/Kicksecure/security-misc/issues/274" target="_blank" rel="noopener">github.com/Kicksecure/security-misc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Kicksecure/security-misc/issues/274" target="_blank" rel="noopener">`kernel.unprivileged_userns_clone=0` breaks too much</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-10-02" data-time="17:09:37" data-timezone="UTC">05:09PM - 02 Oct 24 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">* https://forums.whonix.org/t/in-place-release-upgrade-to-whonix-17-2-3-7-seems-<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">to-have-broken-my-flatpaks/20486
* https://forums.kicksecure.com/t/cannot-run-some-appimage-apps-after-kicksecure-upate/594
* https://forums.kicksecure.com/t/impossible-to-start-evolution-app-since-the-last-update/601</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_8</link>
        <pubDate>Wed, 02 Oct 2024 17:09:52 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1338</guid>
      </item>
      <item>
        <title>Cannot run some AppImage apps after Kicksecure upate</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Try the same as mentioned in this very forum post: <a href="https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592/7" class="inline-onebox">Can not run flatpak apps after Kicksecure update - #7 by Patrick</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/cannot-run-some-appimage-apps-after-kicksecure-upate/594#post_3</link>
        <pubDate>Wed, 02 Oct 2024 17:06:39 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1337</guid>
      </item>
      <item>
        <title>Impossible to start Evolution app since the last update</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="jnd" data-post="1" data-topic="601">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/j/a587f6/48.png" class="avatar"> jnd:</div>
<blockquote>
<p>bwrap: No permissions to create new namespace, likely because the kernel does not allow non-privileged user namespaces.</p>
</blockquote>
</aside>
<p>Try the same as mentioned in this very forum post: <a href="https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592/7" class="inline-onebox">Can not run flatpak apps after Kicksecure update - #7 by Patrick</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/impossible-to-start-evolution-app-since-the-last-update/601#post_2</link>
        <pubDate>Wed, 02 Oct 2024 17:03:45 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1336</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>security-misc changed in this release:</p>
<pre><code>kernel.unprivileged_userns_clone=0
</code></pre>
<p>Temporary workaround to undo this setting (untested):</p>
<pre><code>sudo sysctl -w kernel.unprivileged_userns_clone=1
</code></pre> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_7</link>
        <pubDate>Wed, 02 Oct 2024 17:02:17 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1335</guid>
      </item>
      <item>
        <title>Boot issue after installking Kicksecure</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="kinoe" data-post="1" data-topic="602">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/k/f9ae1b/48.png" class="avatar"> kinoe:</div>
<blockquote>
<p>I also do have this issue even without running kicksecure fom ventoy!</p>
</blockquote>
</aside>
<p>Then I don’t recommend mixing it into the ventoy related forum thread.<br>
(<a href="https://forums.kicksecure.com/t/install-on-usb-dont-boot/574" class="inline-onebox">Install on usb don't boot</a>)</p>
<aside class="quote no-group" data-username="kinoe" data-post="1" data-topic="602">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/k/f9ae1b/48.png" class="avatar"> kinoe:</div>
<blockquote>
<p>I installed kicksecure onto usb flash drive following word for word the official installation tutorial to install kicksecure iso to usb flash drive. Booting after installation works, but afterwards I shutdown, unplugged the flash drive and booted the linux host on the hardware, kicksecure boots only to grub bash line.</p>
</blockquote>
</aside>
<p>What exactly did you do?<br>
Write ISO to USB?<br>
Boot the ISO.<br>
So far so good?<br>
Then installed Kicksecure to internal harddrive?<br>
Fails to boot after installation?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/boot-issue-after-installking-kicksecure/602#post_3</link>
        <pubDate>Wed, 02 Oct 2024 16:35:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1334</guid>
      </item>
      <item>
        <title>ISO - no default for encryption on/off - user should choose explicitly</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>related issue:</p>
<aside class="onebox githubissue" data-onebox-src="https://github.com/calamares/calamares/issues/2379">
  <header class="source">

      <a href="https://github.com/calamares/calamares/issues/2379" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/calamares/calamares/issues/2379" target="_blank" rel="noopener">With `preCheckEncryption` enabled, it becomes impossible to disable encryption without using manual partitioning</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-10-02" data-time="16:02:51" data-timezone="UTC">04:02PM - 02 Oct 24 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
          <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Describe the bug**
Calamares provides a feature, `preCheckEncryption`, that c<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">an be set in the `partition` module. This feature is designed to make the encryption checkbox checked automatically, requiring the user to either enter an encryption passphrase *or* disable encryption in order to proceed. This ensures that the user notices that encryption is available and is encouraged to use it.

This feature however only half works - while the user is encouraged to set a passphrase, they are *not* able to disable encryption and proceed past the "Partitions" screen. Trying to do so results in erratic behavior, and the "Next" button is never enabled even if the "Encrypt system" check box is unchecked. A video of exactly what happens can be seen below.

**To Reproduce**
Steps to reproduce the behavior:
1. Boot up an ISO from a distro that uses Calamares as the installer.
2. Ensure that `/etc/calamares/modules/partition.conf` has the `preCheckEncryption` setting enabled.
3. Launch Calamares.
4. Proceed through the screens until you get to the "Partitions" screen.
5. Click "Erase disk".
6. Uncheck the "Encrypt system" checkbox - the passphrase text boxes will vanish, but the "Encrypt system" checkbox itself will remain checked, and the "Next" button will not be enabled.
7. Uncheck the "Encrypt system" checkbox again - this time it will become unchecked, but the "Next" button will still not be enabled.

**Expected behavior**
Unchecking the "Encrypt system" checkbox should result in the box becoming unchecked, the passphrase text boxes vanishing, and the "Next" button becoming clickable.

**Screenshots and Logs**

https://github.com/user-attachments/assets/82710517-9716-4290-9064-8879bf175f95

**Additional context**

Looking at the code, I think the problem is in `calamares/src/modules/partition/gui/ChoicePage.cpp`, in function `ChoicePage::updateActionChoicePreview`. There are a couple of spots in the function that run `if ( m_config-&gt;preCheckEncryption() ) { m_encryptWidget-&gt;setEncryptionCheckbox( true ); }`. This happens *every time* the preview is updated, which means that even if the user explicitly unchecks the box, it could end up becoming checked again. I assume that this is what's causing the encrypt system box to not really uncheck the first time you go to uncheck it - the very action of unchecking it triggers a preview refresh, which then re-checks it.

Assuming this is the problem, it would probably solve the issue to simply ensure that the box is only ever checked once. After the first time, it should never be put into a checked state programatically. That way what the user chooses to do thereafter is respected. I'll test this and probably append it to my existing PR for fixing https://github.com/calamares/calamares/issues/2375.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubpullrequest" data-onebox-src="https://github.com/calamares/calamares/pull/2376">
  <header class="source">

      <a href="https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener">Partition module fixes for encryption checkbox</a>
      </h4>

    <div class="branches">
      <code>calamares:calamares</code> ← <code>ArrayBolt3:calamares</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="23:02:53" data-timezone="UTC">11:02PM - 25 Sep 24 UTC</span>
        </div>

        <div class="user">
          <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="2 commits changed 3 files with 8 additions and 8 deletions">
          <a href="https://github.com/calamares/calamares/pull/2376/files" target="_blank" rel="noopener">
            <span class="added">+8</span>
            <span class="removed">-8</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Fixes https://github.com/calamares/calamares/issues/2375, https://github.com/cal<span class="show-more-container"><a href="https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">amares/calamares/issues/2379</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567#post_9</link>
        <pubDate>Wed, 02 Oct 2024 16:27:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1332</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@sam]]></dc:creator>
        <description><![CDATA[ <p>it security-misc. I checked. set it to debian and flatpak will stop working</p> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_6</link>
        <pubDate>Wed, 02 Oct 2024 15:31:36 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1331</guid>
      </item>
      <item>
        <title>Impossible to start Evolution app since the last update</title>
        <dc:creator><![CDATA[@jnd]]></dc:creator>
        <description><![CDATA[ <p>Hello,<br>
Since the last Kicksecure update, I can no longer launch Evolution, the messaging application. It’s set as the default application, but it won’t start either with a graphical command or from the command line.<br>
When I try to launch it from the command line, I get the following messages, which are totally incomprehensible to me.<br>
Thank you for your help!</p>
<p>** (evolution:7570): WARNING **: 17:21:58.837: Failed to canonicalize path /home/jeronath/.local/share/evolution/preview-plugins: Aucun fichier ou dossier de ce type</p>
<p>** (evolution:7570): CRITICAL **: 17:21:58.838: Attempted to add disallowed path to sandbox: /home/jeronath/.local/share/evolution/preview-plugins<br>
bwrap: No permissions to create new namespace, likely because the kernel does not allow non-privileged user namespaces. See deb.li/bubblewrap or file:///usr/share/doc/bubblewrap/README.Debian.gz.</p>
<p>** (evolution:7570): ERROR **: 17:21:58.916: Failed to fully launch dbus-proxy: Le processus fils s’est terminé avec le code 1<br>
Trappe pour point d’arrêt et de trace (core dumped)</p> ]]></description>
        <link>https://forums.kicksecure.com/t/impossible-to-start-evolution-app-since-the-last-update/601#post_1</link>
        <pubDate>Wed, 02 Oct 2024 15:30:13 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1330</guid>
      </item>
      <item>
        <title>Boot issue after installking Kicksecure</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>Are you using the latest Kicksecure ISO? Some of the earlier ISOs could have this issue, but it should be fixed in the latest ISO.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/boot-issue-after-installking-kicksecure/602#post_2</link>
        <pubDate>Wed, 02 Oct 2024 15:15:00 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1329</guid>
      </item>
      <item>
        <title>Cannot run some AppImage apps after Kicksecure upate</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="quote quote-modified" data-post="4" data-topic="592">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar">
    <a href="https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592/4">Can not run flatpak apps after Kicksecure update</a> <a class="badge-category__wrapper " href="https://forums.kicksecure.com/c/support/6"><span data-category-id="6" style="--category-badge-color: #0088CC; --category-badge-text-color: #FFFFFF;" data-drop-close="true" class="badge-category " title="User support for the Kicksecure operating system."><span class="badge-category__name">Support</span></span></a>
  </div>
  <blockquote>
    
  </blockquote>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/cannot-run-some-appimage-apps-after-kicksecure-upate/594#post_2</link>
        <pubDate>Wed, 02 Oct 2024 15:05:46 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1328</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>This sounds like either Kicksecure has a kernel built without unprivileged user namespace creation abilities, or a major AppArmor update came through that is disabling the feature. I’ll look into this later today most likely.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_5</link>
        <pubDate>Wed, 02 Oct 2024 14:54:27 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1326</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="onebox discoursetopic" data-onebox-src="https://forums.whonix.org/t/in-place-release-upgrade-to-whonix-17-2-3-7-seems-to-have-broken-my-flatpaks/20486">
  <header class="source">
      <img src="https://forums.whonix.org/uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico" class="site-icon" width="32" height="32">

      <a href="https://forums.whonix.org/t/in-place-release-upgrade-to-whonix-17-2-3-7-seems-to-have-broken-my-flatpaks/20486" target="_blank" rel="noopener" title="06:28PM - 30 September 2024">Whonix Forum – 30 Sep 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/255;"><img src="https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" class="thumbnail" width="690" height="255"></div>

<div class="title-wrapper">
  <h3><a href="https://forums.whonix.org/t/in-place-release-upgrade-to-whonix-17-2-3-7-seems-to-have-broken-my-flatpaks/20486" target="_blank" rel="noopener">In-place release upgrade to Whonix 17.2.3.7 seems to have broken my flatpaks</a></h3>
  <div class="topic-category">
      <span class="badge-wrapper bullet">
        <span class="badge-category-bg" style="background-color: #8C6238;"></span>
        <span class="badge-category clear-badge">
          <span class="category-name">Support</span>
        </span>
      </span>
  </div>
</div>

  <p>Whonix workstation- virtualbox version  I upgraded my packages via the software manager. There were a lot of packages to install. I assume that was due to the Whonix 17.2.3.7 upgrade.  When I restarted Whonix later, I discovered that my flatpaks...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_4</link>
        <pubDate>Wed, 02 Oct 2024 14:24:50 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1323</guid>
      </item>
      <item>
        <title>ISO - cryptsetup Full Disk Encryption (FDE) - set more secure default encryption settings</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox allowlistedgeneric" data-onebox-src="https://invent.kde.org/system/kpmcore/-/merge_requests/54">
  <header class="source">
      <img src="https://invent.kde.org/uploads/-/system/appearance/favicon/1/kde-logo-white-blue-128x128.png" class="site-icon" width="128" height="128">

      <a href="https://invent.kde.org/system/kpmcore/-/merge_requests/54" target="_blank" rel="noopener">GitLab</a>
  </header>

  <article class="onebox-body">
    <img width="64" height="64" src="https://invent.kde.org/assets/twitter_card-570ddb06edf56a2312253c5872489847a0f385112ddbcd71ccfa1570febab5d2.jpg" class="thumbnail onebox-avatar">

<h3><a href="https://invent.kde.org/system/kpmcore/-/merge_requests/54" target="_blank" rel="noopener">Harden default LUKS2 settings (!54) · Merge requests · System / KPMCore · GitLab</a></h3>

  <p>See https://discuss.kde.org/t/making-libkpmcores-luks2-settings-more-secure/21764 for rationale. tl;dr: the default settings for LUKS2 encryption in libkpmcore aren't as secure as they could be and it would...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/iso-cryptsetup-full-disk-encryption-fde-set-more-secure-default-encryption-settings/588#post_2</link>
        <pubDate>Wed, 02 Oct 2024 13:23:20 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1322</guid>
      </item>
      <item>
        <title>Boot issue after installking Kicksecure</title>
        <dc:creator><![CDATA[@kinoe]]></dc:creator>
        <description><![CDATA[ <p>I also do have this issue even without running kicksecure fom ventoy!<br>
I installed kicksecure onto usb flash drive following word for word the official installation tutorial to install kicksecure iso to usb flash drive. Booting after installation works, but afterwards I shutdown, unplugged the flash drive and booted the linux host on the hardware, kicksecure boots only to grub bash line.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/boot-issue-after-installking-kicksecure/602#post_1</link>
        <pubDate>Wed, 02 Oct 2024 10:53:38 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1321</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@sam]]></dc:creator>
        <description><![CDATA[ <p>Yes. Flatpak and some Appimage cant run <img src="https://forums.kicksecure.com/images/emoji/twitter/frowning.png?v=12" title=":frowning:" class="emoji" alt=":frowning:" loading="lazy" width="20" height="20"></p> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_3</link>
        <pubDate>Wed, 02 Oct 2024 05:33:56 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1317</guid>
      </item>
      <item>
        <title>Cannot run some AppImage apps after Kicksecure upate</title>
        <dc:creator><![CDATA[@cookie.monster]]></dc:creator>
        <description><![CDATA[ <p>Some AppImage, not all, cannot run anymore after the latest point release 17.2.3.7 update. Here is an example with Bitwarden:</p>
<pre><code class="lang-auto">[user ~]% ./AppImage/Bitwarden-2024.9.0-x86_64.AppImage
[9616:1002/015207.279258:FATAL:setuid_sandbox_host.cc(163)] The SUID sandbox helper binary was found, but is not configured correctly. Rather than run without sandboxing I'm aborting now. You need to make sure that /tmp/user/1000/.mount_BitwarIjvoLY/chrome-sandbox is owned by root and has mode 4755.
Trace/breakpoint trap (core dumped)
zsh: exit 133   ./AppImage/Bitwarden-2024.9.0-x86_64.AppImage
</code></pre> ]]></description>
        <link>https://forums.kicksecure.com/t/cannot-run-some-appimage-apps-after-kicksecure-upate/594#post_1</link>
        <pubDate>Wed, 02 Oct 2024 02:13:44 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1316</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@cookie.monster]]></dc:creator>
        <description><![CDATA[ <p>Issue confirmed for me too. Zero changes done on Flatpak apps, issue only occured after latest kicksecure piont release 17.2.3.7 update.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_2</link>
        <pubDate>Wed, 02 Oct 2024 01:58:45 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1315</guid>
      </item>
      <item>
        <title>Error storing passphrase in keyring (The name org.freedesktop.secrets was not provided by any .service files)</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>I don’t think KeePassXC can be used by default as the secret service provider in its current state without some significant hacks. It almost could, but it’s missing some features needed to get there.</p>
<p>In order to use KeePassXC as a secret service, you have to create a password database and configure it to be used for secret storage. Therefore in order for there to be a working secret service out of the box, there has to be some way to make a database automatically during installation or at user creation time (since each user account on the system needs its own separate database for obvious reasons).</p>
<p>Creating a database automatically is a problem because only specially configured databases can be used for secret storage. One has to specify that the database is usable for secret storage, and which “group” inside the database should be used for the purpose. This configuration is stored <em>in the database</em>. You can’t easily set it by editing a text file like you could with a usual config file. While <code>keepassxc-cli is able to *create* databases, it is not able to edit these in-database configuration options. The </code>db-edit` command it provides appears to only be usable for changing the database’s password, key file, etc.</p>
<p>Without the ability to set which group to use for secret storage in a database, a database will be set by default to not be used for secret storage at all. Thus you can’t make a new database from scratch that is usable for secret storage.</p>
<p>So now for the hacks. What <em>would</em> potentially be possible is to make a properly configured empty database with some sort of default password or key, then ship that database as part of Kicksecure. To avoid everyone having the same authentication data on their database, we could then have a routine that runs on first boot that generates a new key file, binds it to the database, then clears any default authentication data in the database so that only the user’s key file can unlock it. We can then have a script that runs automatically every time Kicksecure is started that launches KeePassXC with this database and key file pair opened automatically.</p>
<p>The main problem I see with this solution is:</p>
<ul>
<li>It’s not elegant <em>at all</em>. It’s hacky.</li>
<li>It literally requires shipping an encrypted binary blob as part of Kicksecure. I mean, yes, it’s one that the user could inspect themselves with sufficient effort but yikes.</li>
<li>It could be insecure. I don’t know how KeePassXC’s internals work, but if it uses a “master key” encrypted by a password or key file, this won’t work at all because then everyone will have the same master key for their secret storage database, which is bad from a security standpoint for obvious reasons.</li>
</ul>
<p>In a perfect world, we’d be able to simply set the database settings from the command line. Then we could create a database automatically, set it as usable for secret storage, specify the root group as the one to use for that purpose, and then set up KeePassXC to auto-launch and auto-unlock the database on boot. The only part that’s really missing for this to work is setting a database as usable for secret storage and setting eht group to be used for that purpose. Perhaps that can be a later contribution to upstream KeePassXC.</p>
<p>In the mean time, an existing “automatic” secret service provider like gnome-keyring will probably do a good enough job.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/error-storing-passphrase-in-keyring-the-name-org-freedesktop-secrets-was-not-provided-by-any-service-files/582#post_2</link>
        <pubDate>Tue, 01 Oct 2024 23:39:09 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1313</guid>
      </item>
      <item>
        <title>Can not run flatpak apps after Kicksecure update</title>
        <dc:creator><![CDATA[@linuxer]]></dc:creator>
        <description><![CDATA[ <p>Can not run flatpak apps after Kicksecure update</p>
<p>/usr/bin/flatpak run --branch=stable --arch=x86_64 --command=raider com.github.ADBeveridge.Raider<br>
bwrap: No permissions to create new namespace, likely because the kernel does not allow non-privileged user namespaces.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/can-not-run-flatpak-apps-after-kicksecure-update/592#post_1</link>
        <pubDate>Tue, 01 Oct 2024 16:21:52 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1312</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>The initial ramdisk (initrd) (created by default by initrd creator<br>
“dracut” in Kicksecure at time of writing).</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_9</link>
        <pubDate>Tue, 01 Oct 2024 07:14:00 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1310</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group quote-modified" data-username="nurmagoz" data-post="8" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Did you ever use LVM or are you theorizing? Did you accept my challenge:</p>
</blockquote>
</aside>
<p>LVM is the default installation by qubes because it uses anaconda, and debian because it uses d-i (which i use both).</p>
<p>The challenge which you are proposing is a specific use case which i described above for ubiquity bugs, it doesnt provide any critical bug which LVM suffer VS no LVM.</p>
</blockquote>
</aside>
<p>If you cannot pass the challenge, you’re not really using LVM except for some transparent use in Qubes but no real user interaction.</p>
<p>Why argue for a feature which you’re actively making use yourself? Feature completeness?</p>
<p>No, feature completeness based on theoretic considerations is an insufficient argument.</p>
<p>The Linux boot process is complicated enough. (<a href="https://www.kicksecure.com/wiki/Dev/image_creation" class="inline-onebox">Development of System Image Creation and Bootstrapping Tools</a>)</p>
<p>Stacking another layer of complexity (LVM) without strong rationale is only making a bigger mess on top the existing usability mess. That’s why I even created <a href="https://www.kicksecure.com/wiki/Broken_Boot" class="inline-onebox">Broken Boot - Kicksecure</a>. Once the boot process is broken, analysis and recovery without re-installation is extremely complicated. The internet is full of of support requests by users which went unresolved.</p>
<p>I think the issue is, that we don’t have a feature request template for Kicksecure yet. This is what Qubes has:</p>
<blockquote>
<ul>
<li>The problem you’re addressing (if any)</li>
<li>The solution you’d like</li>
<li>The value to a user, and who that user might be</li>
</ul>
</blockquote>
<p>And this is from systemd:</p>
<blockquote>
<ul>
<li>Is your feature request related to a problem? Please describe
<ul>
<li>A clear and concise description of what the problem is. Ex. I’m always frustrated when […]</li>
</ul>
</li>
<li>Describe the solution you’d like
<ul>
<li>A clear and concise description of what you want to happen.</li>
</ul>
</li>
<li>Describe alternatives you’ve considered
<ul>
<li>A clear and concise description of any alternative solutions or features you’ve considered.</li>
</ul>
</li>
</ul>
</blockquote>
<p>Please fill this out, describe the feature you’re <strong>personally</strong> missing.</p>
<p>Because then maybe way to get this feature is indeed LVM but perhaps there are more suitable, simpler alternatives such as btrfs</p>
<p>It might make sense to request features that one doesn’t personally need but thinks this would be good for the overall health of the project since others those need it don’t even make a feature request. But in case of LVM, I don’t think that makes sense.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="8" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>We cant just point out that this is crushed and not booting because oh there is LVM mentioned on the screen, real cause need to be identified then decided if its really LVM specific or not.</p>
</blockquote>
</aside>
<p>LVM doesn’t make analysis any simpler.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="8" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>If it was generic use issue, many would have fallen under the same condition, including marmarek himself. Probably its just unman specific config issue.</p>
</blockquote>
</aside>
<p>If even unman runs into this issue, doesn’t know how to fix it and nobody knows it either, then it’s simply too difficult.</p>
<p>Or take <a href="https://github.com/QubesOS/qubes-issues/issues/8707" class="inline-onebox">Unable to boot | "qubes_dom0-root does not exist" | Possible LVM problem · Issue #8707 · QubesOS/qubes-issues · GitHub</a>. After complex analysis, it just stalled. DemiMarie (Qubes developer) didn’t answer anymore for some reason. That could be running out of ideas or time or something else. But the reasons are speculation since the end result is the same. It’s too complex, requires too much effort to debug.</p>
<p>Since in case of Kicksecure it’s optional and doesn’t have a strong rationale, it’s best avoided.</p>
<p>That’s not the kind of reliability, stability and maintainability that I set as project goals. Related:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Stable_Version_User_Experience">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=4" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Stable_Version_User_Experience" target="_blank" rel="noopener" title="04:03PM - 17 January 2024">Kicksecure – 17 Jan 24</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://www.kicksecure.com/wiki/Stable_Version_User_Experience" target="_blank" rel="noopener">Kicksecure Stable Version User Experience</a></h3>

  <p>Aims for a seamless and robust user experience in the stable release of Kicksecure</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Dev/maintainability">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=4" class="site-icon" width="151" height="151">

      <a href="https://www.kicksecure.com/wiki/Dev/maintainability" target="_blank" rel="noopener" title="09:14AM - 29 August 2024">Kicksecure – 29 Aug 24</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://www.kicksecure.com/wiki/Dev/maintainability" target="_blank" rel="noopener">maintainability</a></h3>

  <p>Exploring the challenges of maintainability in the Kicksecure project and Open Source development.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="quote no-group" data-username="nurmagoz" data-post="7" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Looking at the mess calamares development approach for LVM, i dont know, it sound like they have zero clue how to do it correctly, not sure it will ever see the sun.</p>
</blockquote>
</aside>
<p>Which further strengthens my point: Highly technical people either aren’t motivated to work with LVM or unable due to technical challenges, then it’s best avoided unless there is a strong rationale.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_11</link>
        <pubDate>Tue, 01 Oct 2024 06:38:35 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1309</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>the details of which can be found at <a href="https://discourse.ubuntu.com/t/from-installation-to-provisioning-upgrading-the-ubuntu-desktop-installer/42139">From installation to provisioning - upgrading the Ubuntu Desktop installer - Desktop - Ubuntu Community Hub</a>, That system is ubuntu-desktop-provision.</p>
</blockquote>
</aside>
<p>Yeah now i have collected and linked everything, although i have read that article before it didnt come to my mind the differentiation between subiquity and ubiquity</p>
<p>Ubiquity code on launchpad not on github, mint and others forked ubiquity code from launchpad and post it on github, but the one on github from ubuntu is subiquity.</p>
<p>ubiquity,subiquity… how is this not confusing <img src="https://forums.kicksecure.com/images/emoji/twitter/expressionless.png?v=12" title=":expressionless:" class="emoji" alt=":expressionless:" loading="lazy" width="20" height="20"></p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Ubiquity was nearly removed from the Ubuntu archives entirely in the 24.04 cycle</p>
</blockquote>
</aside>
<p>Yeah discussion about ubiquity stops here, its crazy that no where to find they said it loudly that ubiquity is deprecated…</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Here’s the <a href="https://launchpad.net/ubuntu/+source/calamares-settings-ubuntu/1:24.04.19">package upload</a> done to add Ubuntu Unity support to Ubuntu’s Calamares package, along with the <a href="https://bugs.launchpad.net/ubuntu/+source/calamares-settings-ubuntu/+bug/2055799">Feature Freeze exception</a> granted to allow this change to be done.</p>
</blockquote>
</aside>
<p>Thats very recently, the video i have sent you is before 2 years ago.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Yeah, it is messed up pretty badly. Again though, that could be libkpmcore’s fault, but that’s uncertain. Would have to look deeper at the code to find out.</p>
</blockquote>
</aside>
<p>Thats nice if it could be figured out where is at least the cause of the problem.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>I am an Ubuntu Developer, <a href="https://launchpad.net/~arraybolt3">Aaron Rainbolt in Launchpad</a></p>
</blockquote>
</aside>
<p>Pleasure to meet you <img src="https://forums.kicksecure.com/images/emoji/twitter/slight_smile.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"></p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_10</link>
        <pubDate>Tue, 01 Oct 2024 01:03:29 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1307</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@suse211213]]></dc:creator>
        <description><![CDATA[ <p>Alright .</p>
<p>As far as i see kicksecure uses calamares installer with luks2 without encrypted boot<br>
It still uses Grub to boot Kicksecure witch will not ask for password unlike when boot was encrypted.</p>
<p>1-could you explain what decrypts luks2 partition instead of grub?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_8</link>
        <pubDate>Mon, 30 Sep 2024 23:43:45 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1306</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="suse211213" data-post="6" data-topic="584">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/35a633/48.png" class="avatar"> suse211213:</div>
<blockquote>
<p>What unlocks the disk faster than GRUB ?<br>
Did you mean when boot is not encrypted, Grub are not involved or needed?</p>
</blockquote>
</aside>
<p>Well, that too. But also GRUB seems to literally be slower than Linux itself at running the code needed to unlock a LUKS volume.</p>
<aside class="quote no-group" data-username="suse211213" data-post="6" data-topic="584">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/s/35a633/48.png" class="avatar"> suse211213:</div>
<blockquote>
<p>For me when used calamares with luks1 and encrypted boot i didn’t face any problem .<br>
Grubs default us English layout was not a big issue for me .</p>
</blockquote>
</aside>
<p>For some, it has been a big deal, and doing things this way avoids the need for Kicksecure to distribute a custom-built bootloader (which would add maintenance burden) while still getting the security advantages of LUKS2. It does mean that files under /boot could potentially be modified by an attacker to do bad things on next boot, but even if you have /boot encrypted an attacker could still modify the unencrypted bit of GRUB to do bad things on next boot.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_7</link>
        <pubDate>Mon, 30 Sep 2024 22:55:23 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1305</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@suse211213]]></dc:creator>
        <description><![CDATA[ <p>What unlocks the disk faster than GRUB ?<br>
Did you mean when boot is not encrypted, Grub are not involved or needed?</p>
<p>For me when used calamares with luks1 and encrypted boot i didn’t face any problem .<br>
Grubs default us English layout  was not a big issue for me .</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_6</link>
        <pubDate>Mon, 30 Sep 2024 22:32:15 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1304</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>The current solution Kicksecure is using is to leave /boot unencrypted. This allows passphrases written in non-US keyboard layouts to work, and it seems to unlock the disk faster than when GRUB has to do it.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_5</link>
        <pubDate>Mon, 30 Sep 2024 22:08:54 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1303</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@suse211213]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="584">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Kicksecure <code>17.2.3.7</code> and above will come with luks2 by default. Unreleased at time of writing. Will probably be released soon (October 2024). Stay tuned.</p>
</blockquote>
</aside>
<p>Its already supported , i have tested kicksecure iso on vbox .<br>
calamares installer created luks2 except /boot partition witch remains unencrypted.<br>
I know due to grub not supports argonid2,  i have seen 2 workarounds to bypass this :</p>
<p>1-  encrypt boot  using luks2 with the pbkdf2 algorithm  -password must be entered twice .<br>
Adding root kefile to initramfs image is not safe , in case of attack on encrypted boot partition.</p>
<p>2 -another option is to use patched grub to support argon2id<br>
-Patrick Steinhardt patch<br>
-Arch AUR improved grub luks2 git</p>
<p>Witch way would you recommend here to encrypt boot partition .</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_4</link>
        <pubDate>Mon, 30 Sep 2024 21:55:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1302</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="nurmagoz" data-post="7" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Im not sure how did you come to this conclusion, ubuntu-desktop-provision is for post installation stuff, ubiquity is the one handling partitioning and initial setup (system installer) of ubuntu (or any distro using it).</p>
</blockquote>
</aside>
<p>For context, I am an Ubuntu Developer, <a href="https://launchpad.net/~arraybolt3" class="inline-onebox" rel="noopener nofollow ugc">Aaron Rainbolt in Launchpad</a></p>
<p>Originally Ubiquity was replaced in Ubuntu Desktop with a Flutter-based installer. That installer was later converted into a more flexible “provisioning” system, the details of which can be found at <a href="https://discourse.ubuntu.com/t/from-installation-to-provisioning-upgrading-the-ubuntu-desktop-installer/42139" class="inline-onebox" rel="noopener nofollow ugc">From installation to provisioning - upgrading the Ubuntu Desktop installer - Desktop - Ubuntu Community Hub</a>, That system is ubuntu-desktop-provision.</p>
<p>Ubiquity was nearly removed from the Ubuntu archives entirely in the 24.04 cycle, but was kept around because it is still used in some edge cases. <a href="https://discourse.ubuntu.com/t/request-to-not-remove-ubiquity-from-24-04/42882" class="inline-onebox" rel="noopener nofollow ugc">Request to not remove Ubiquity from 24.04 - Desktop - Ubuntu Community Hub</a></p>
<p>The Git repo you link to with a commit 5 days ago is for Subiquity, which is a distinct and separate project from Ubiquity. It is used as the backend for ubuntu-desktop-provision and the Ubuntu Server installer.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="7" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Ubuntu Unity = False, its ubiquity (<a href="https://www.youtube.com/watch?v=Ta5y5uU1zWk" rel="noopener nofollow ugc">check</a>)</p>
</blockquote>
</aside>
<p>I was actually the one who ported Ubuntu Unity to use Calamares as its installer, replacing Ubiquity. Here’s the <a href="https://launchpad.net/ubuntu/+source/calamares-settings-ubuntu/1:24.04.19" rel="noopener nofollow ugc">package upload</a> done to add Ubuntu Unity support to Ubuntu’s Calamares package, along with the <a href="https://bugs.launchpad.net/ubuntu/+source/calamares-settings-ubuntu/+bug/2055799" rel="noopener nofollow ugc">Feature Freeze exception</a> granted to allow this change to be done.</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.kicksecure.com/uploads/default/original/1X/14d2c87994aaf64f9cca909c6bcc5a151277b0d8.png" data-download-href="https://forums.kicksecure.com/uploads/default/14d2c87994aaf64f9cca909c6bcc5a151277b0d8" title="Screenshot_20240930_134742"><img src="https://forums.kicksecure.com/uploads/default/optimized/1X/14d2c87994aaf64f9cca909c6bcc5a151277b0d8_2_690x469.png" alt="Screenshot_20240930_134742" data-base62-sha1="2Yd9j5XoUNMA0ktBoPn81oJPOU8" width="690" height="469" srcset="https://forums.kicksecure.com/uploads/default/optimized/1X/14d2c87994aaf64f9cca909c6bcc5a151277b0d8_2_690x469.png, https://forums.kicksecure.com/uploads/default/optimized/1X/14d2c87994aaf64f9cca909c6bcc5a151277b0d8_2_1035x703.png 1.5x, https://forums.kicksecure.com/uploads/default/optimized/1X/14d2c87994aaf64f9cca909c6bcc5a151277b0d8_2_1380x938.png 2x" data-dominant-color="ABA5AF"></a></div><p></p>
<aside class="quote no-group" data-username="nurmagoz" data-post="7" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Ubuntu Studio = Ubiquity + Ubuntu-desktop-provision (which will just give you the opportunity to add your own packages config in yaml file, similar to nixos .config declarative file).</p>
</blockquote>
</aside>
<p>Subiquity, but otherwise mostly correct. Like I mentioned, Ubuntu Studio used to use Calamares, but no more. I was part of the conversation when the primary dev of Ubuntu Studio decided to switch. Initially <a href="https://ubuntustudio.org/2023/10/ubuntu-studio-23-10-released/" rel="noopener nofollow ugc">the switch went from Calamares back to Ubiquity</a>, then from <a href="https://ubuntustudio.org/2024/02/updates-for-february-2024/" rel="noopener nofollow ugc">Ubiquity to ubuntu-desktop-provision</a>.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="7" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Looking at the mess calamares development approach for LVM, i dont know, it sound like they have zero clue how to do it correctly, not sure it will ever see the sun.</p>
</blockquote>
</aside>
<p>Yeah, it is messed up pretty badly. Again though, that could be libkpmcore’s fault, but that’s uncertain. Would have to look deeper at the code to find out.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_9</link>
        <pubDate>Mon, 30 Sep 2024 18:54:25 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1301</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Did you ever use LVM or are you theorizing? Did you accept my challenge:</p>
</blockquote>
</aside>
<p>LVM is the default installation by qubes because it uses anaconda, and debian because it uses d-i (which i use both).</p>
<p>The challenge which you are proposing is a specific use case which i described above for ubiquity bugs, it doesnt provide any critical bug which LVM suffer VS no LVM.</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="6" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>For example this bug bug where the system simply stops booting looks very scary: <a href="https://github.com/QubesOS/qubes-issues/issues/7877">Boot fails at “lvm event activation” · Issue #7877 · QubesOS/qubes-issues · GitHub </a></p>
</blockquote>
</aside>
<p>Checking at what he said:</p>
<blockquote>
<p>After succesful dom0 update , but before reboot, Qubes crashed while starting a new qube.<br>
System not under load, and temperature not excessive.</p>
<p>On starting again, boot fails, sitting at “lvm event activation”.</p>
</blockquote>
<p>We cant just point out that this is crushed and not booting because oh there is LVM mentioned on the screen, real cause need to be identified then decided if its really LVM specific or not.</p>
<p>If it was generic use issue, many would have fallen under the same condition, including marmarek himself. Probably its just unman specific config issue.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>“If you wish to use a less secure password and take your chances using a TPM, choose this option. Otherwise, it would be more secure to use a secure password instead.”</p>
</blockquote>
</aside>
<p>Its just feature less installer compared to upstream debian, regardless of what TPM provide or use case going to be for the end user.</p>
<p>If user is trusting TPM or lets say there is (theoretically) going to be open source TPM provider or so, calamares is on a lack road to support this.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Not true. Calamares has a lot python and unfortunately some C modules.</p>
<p>Ubiquity also unfortunately seems to have some C. (example: <a href="https://git.launchpad.net/ubiquity/tree/src/mockresolver/mockresolver.c">mockresolver.c</a>)</p>
</blockquote>
</aside>
<p>Its not like plainly as you describe it:</p>
<p><a href="https://github.com/canonical/subiquity">Ubiquity</a>: 98.7% is python, makefile is 0.1%</p>
<p><a href="https://github.com/calamares/calamares">Calamares</a>:  C++ 74.2%, Python 8.0%</p>
<p>mockresolver.c is just an optional for testing purposes tool as described. In simple comparison if someone want to get rid of every C possible in the installer, it will be easier for sure for ubiquity but not calamares.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also seems to have telemetry (reference: <a href="https://git.launchpad.net/ubiquity/tree/ubiquity/telemetry.py">telemetry.py </a>) which would need to be investigated what that is and potentially would need to be deactivated.</p>
</blockquote>
</aside>
<p>Yeah it is a privacy thing, but not too much of a crazy collection because it give the option to disable it and it also anonymize the “partition method”:</p>
<pre><code class="lang-auto">    def set_partition_method(self, method):
        """Record anynomized partition method"""
        self._metrics['PartitionMethod'] = method
</code></pre>
<p>But whether its useful to kicksecure to keep or not thats different thing.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_8</link>
        <pubDate>Mon, 30 Sep 2024 16:18:07 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1299</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="arraybolt3" data-post="4" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Ubiquity was developed by Canonical as part of Ubuntu, and is now all but abandoned upstream. It was replaced by ubuntu-desktop-provision</p>
</blockquote>
</aside>
<p>Im not sure how did you come to this conclusion, ubuntu-desktop-provision is for post installation stuff, ubiquity is the one handling partitioning and initial setup (system installer) of ubuntu (or any distro using it).</p>
<p>ubuntu-desktop-provision: For configuring an OEM provisioning flow for Ubuntu 24.04.1 LTS, where user creation and account setup is handled seperately to system setup (<a href="https://github.com/canonical/ubuntu-desktop-provision?tab=readme-ov-file#24041-oem-provisioning">reference</a>).</p>
<p>Ubiquity just has a <a href="https://github.com/canonical/subiquity">new commit</a> 5 days ago.</p>
<p>Unless there is a genuine referral for ubiquity deprecation, ubiquity still the used system installer.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>There are actually a very sizable number of distros that use Calamares as the default installer:</p>
</blockquote>
</aside>
<ul>
<li>Kubuntu = True</li>
<li>Lubuntu = True</li>
<li>Ubuntu Unity = False, its ubiquity (<a href="https://www.youtube.com/watch?v=Ta5y5uU1zWk">check</a>)</li>
<li>KaOS = True</li>
<li>Fedora Asahi Remix = Neither, just a script (<a href="https://www.youtube.com/watch?v=10thOSWGrpc">check</a>)</li>
<li>Debian Live = True, but not used for debian official installation method (uses d-i)</li>
<li>Xebian = True</li>
<li>KDE neon = True</li>
<li>Artix Linux = True, but dont forget that upstream archlinux doesnt has a GUI installer to begin with, so its like nothing or calamares then ok calamares.</li>
<li>Ubuntu Studio = Ubiquity + Ubuntu-desktop-provision (which will just give you the opportunity to add your own packages config in yaml file, similar to nixos .config declarative file).</li>
</ul>
<p>and i know couple more as well, but tbh to my knowledge the full independent not a fork distros are lower than 5 distros like NixOS and similar.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Ubiquity is rather Ubuntu-centric. I have only ever seen it used as the default installer for Ubuntu derivatives (whether those be official flavors like Ubuntu MATE or unofficial spinoffs like Mint, Trisquel, KXStudio, ChaletOS, etc).</p>
</blockquote>
</aside>
<p>Thats very true, ubiquity doesnt even exist as a package in debian, so one need to have it in his own repository.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>So if LVM were to become a priority, it’s something I believe would be possible to fix.</p>
</blockquote>
</aside>
<p>Looking at the mess calamares development approach for LVM, i dont know, it sound like they have zero clue how to do it correctly, not sure it will ever see the sun.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>TPM-based FDE also is likely doable, depending on how exactly that’s being done in Ubuntu</p>
</blockquote>
</aside>
<p>Nice to hear, i see it doable as well, i hope it can be fixed as an possibility provided for the end users.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_7</link>
        <pubDate>Mon, 30 Sep 2024 14:57:44 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1298</guid>
      </item>
      <item>
        <title>ISO - cryptsetup Full Disk Encryption (FDE) - set more secure default encryption settings</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>cryptsetup defaults:</p>
<pre><code>cryptsetup --help
</code></pre>
<blockquote>
<pre><code class="lang-auto">Default compiled-in device cipher parameters:
        loop-AES: aes, Key 256 bits
        plain: aes-cbc-essiv:sha256, Key: 256 bits, Password hashing: ripemd160
        LUKS: aes-xts-plain64, Key: 256 bits, LUKS header hashing: sha256, RNG: /dev/urandom
        LUKS: Default keysize with XTS mode (two internal keys) will be doubled.
</code></pre>
</blockquote>
<hr>
<p>More secure command currently documented on <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption:">https://www.kicksecure.com/wiki/Full_Disk_Encryption:</a></p>
<blockquote>
<p>sudo cryptsetup --verbose --use-random --cipher aes-xts-plain64 --key-size 512 --hash sha512 --use-random luksFormat </p>
</blockquote>
<hr>
<p>Differences - cryptsetup default versus hardened cryptsetup command line options:</p>
<p>TODO</p>
<hr>
<p>Calamare (ISO installer used by Kicksecure) uses cryptsetup default settings.</p>
<p>Upstream issue, discussion:</p>
<aside class="onebox githubissue" data-onebox-src="https://github.com/calamares/calamares/issues/1452">
  <header class="source">

      <a href="https://github.com/calamares/calamares/issues/1452" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/calamares/calamares/issues/1452" target="_blank" rel="noopener">What algorithm the "Encrypt system" is using, and where are the configuration options?</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-07-03" data-time="09:46:56" data-timezone="UTC">09:46AM - 03 Jul 20 UTC</span>
      </div>

        <div class="date">
          closed <span class="discourse-local-date" data-format="ll" data-date="2022-09-13" data-time="17:47:57" data-timezone="UTC">05:47PM - 13 Sep 22 UTC</span>
        </div>

      <div class="user">
        <a href="https://github.com/informer2016" target="_blank" rel="noopener">
          <img alt="informer2016" src="https://avatars.githubusercontent.com/u/26509528?v=4" class="onebox-avatar-inline" width="20" height="20">
          informer2016
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Is there any possibility to choose the custom LUKS cryptsetup strong encryption <span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">flags in a Calamares installer, like ```--verbose --type luks1 --cipher serpent-xts-plain64 --key-size 512 --hash whirlpool --iter-time 10000 --use-random --verify-passphrase luksFormat /dev/sdX2``` mentioned in this thread? [**Artix Linux** _(great Arch with OpenRC or runit/s6 instead of SystemD)_ - **Full Disk Encryption for a new install**](https://forum.artixlinux.org/index.php/topic,1541.0.html)
Because, going through these lengthy manuals is time consuming and a bit intimidating for the new users, who would like a **much stronger encryption at cost of some performance.**

Right now, Calamares just gives a **[ ] Encrypt system**, without any custom options or even a description of used encryption method!

Would be nice if there'd be some button which **gives you a list of available encryption methods &amp; options** : i.e. I had to figure out why a usual "serpent-xts" cryptsetup option didn't work in this time - now it seems to require something like -plain64 at the end</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox discoursetopic" data-onebox-src="https://discuss.kde.org/t/making-libkpmcores-luks2-settings-more-secure/21764">
  <header class="source">
      <img src="https://discuss-cdn.kde.org/uploads/default/optimized/1X/599b31392e96cf986f7dfc9140ad79978ad02f01_2_32x32.png" class="site-icon" width="32" height="32">

      <a href="https://discuss.kde.org/t/making-libkpmcores-luks2-settings-more-secure/21764" target="_blank" rel="noopener" title="01:03AM - 26 September 2024">KDE Discuss – 26 Sep 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/391;"><img src="https://discuss-cdn.kde.org/uploads/default/original/1X/a25519d8b97012edf525491aaa53b6cd59c4fc09.png" class="thumbnail" width="690" height="391"></div>

<div class="title-wrapper">
  <h3><a href="https://discuss.kde.org/t/making-libkpmcores-luks2-settings-more-secure/21764" target="_blank" rel="noopener">Making libkpmcore's LUKS2 settings more secure</a></h3>
  <div class="topic-category">
      <span class="badge-wrapper bullet">
        <span class="badge-category-bg" style="background-color: #652D90;"></span>
        <span class="badge-category clear-badge">
          <span class="category-name">Development</span>
        </span>
      </span>
    <div class="topic-header-extra">
      <div class="list-tags">
        <div class="discourse-tags">
          <svg class="fa d-icon d-icon-tag svg-icon svg-string"><use href="#tag"></use></svg>
            <span class="discourse-tag simple">partitionmanager</span>
        </div>
      </div>
    </div>
  </div>
</div>

  <p>libkpmcore is capable of making LUKS2 encrypted volumes. This is done ultimately by calling cryptsetup with some hardcoded arguments that should provide reasonably secure disk encryption settings.  There are a few things that are non-ideal here:  ...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Dev todo:<br>
<a href="https://www.kicksecure.com/wiki/Dev/todo#ISO_-_calamares_encryption_settings">ISO - calamares encryption settings</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-cryptsetup-full-disk-encryption-fde-set-more-secure-default-encryption-settings/588#post_1</link>
        <pubDate>Mon, 30 Sep 2024 08:45:33 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1297</guid>
      </item>
      <item>
        <title>Kicksecure 17.2.3.7 - Point Release!</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <h1><a name="p-1296-download-1" class="anchor" href="https://forums.kicksecure.com#p-1296-download-1"></a>Download</h1>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Download">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=4" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Download" target="_blank" rel="noopener" title="07:09AM - 06 September 2024">Kicksecure – 6 Sep 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/387;"><img src="https://www.kicksecure.com/w/images/6/63/Download-kicksecure.jpg?version=9adcc5bcba92e65719a7341228d32e1c" class="thumbnail" width="690" height="388"></div>

<h3><a href="https://www.kicksecure.com/wiki/Download" target="_blank" rel="noopener">Download Kicksecure (FREE)</a></h3>

  <p>FREE Download Kicksecure. Kicksecure can be installed on a physical machine as a host operating system (OS), as a guest OS inside a virtual machine, or as a portable host OS on a USB data stick.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>(<a href="https://www.kicksecure.com/wiki/Point_Release">What is a point release?</a>)</p>
<hr>
<h1><a name="p-1296-upgrade-2" class="anchor" href="https://forums.kicksecure.com#p-1296-upgrade-2"></a>Upgrade</h1>
<p>Alternatively, in-place release upgrade is possible upgrade using <a href="https://www.kicksecure.com/wiki/Project-APT-Repository">Kicksecure repository</a>.</p>
<hr>
<p>This release would not have been possible without the numerous supporters of Kicksecure!</p>
<hr>
<p>Please Donate!</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Donate">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=4" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Donate" target="_blank" rel="noopener" title="12:22PM - 31 January 2024">Kicksecure – 31 Jan 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/432;"><img src="https://www.kicksecure.com/w/images/8/83/Payment.jpg?version=82f3e45ee49a6c0df81431424ee3fc2f" class="thumbnail" width="640" height="432"></div>

<h3><a href="https://www.kicksecure.com/wiki/Donate" target="_blank" rel="noopener">Donating to Kicksecure</a></h3>

  <p>PayPal, Bitcoin (BTC), Monero (XMR), Ethereum (ETH) or Token, Credit Card, Bank Wire, Others</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<p>Please Contribute!</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Contribute">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion=4" class="site-icon" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Contribute" target="_blank" rel="noopener" title="10:02AM - 15 August 2024">Kicksecure – 15 Aug 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:483/500;"><img src="https://www.kicksecure.com/w/images/0/07/Computer_n_screen.png?version=b6cc9963027950ad5fd1793106674efb" class="thumbnail" width="483" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Contribute" target="_blank" rel="noopener">Contribute to Kicksecure</a></h3>

  <p>Spread, Follow, Develop, Testing, Donate. Contribute to Freedom Software / Open Source.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<h1><a name="p-1296-major-changes-3" class="anchor" href="https://forums.kicksecure.com#p-1296-major-changes-3"></a>Major Changes</h1>
<ul>
<li>
<p>ISO (<code>live-config-dist</code>) improvements (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@ArrayBolt3</a>!):</p>
<ul>
<li>Port from LUKS1 to LUKS2 for encryption.</li>
<li><a href="https://forums.kicksecure.com/t/iso-change-to-unencrypted-boot-if-using-full-disk-encryption/420" class="inline-onebox">ISO: Change to unencrypted /boot if using Full Disk Encryption</a> to fix non-English keyboard layouts during full disk encryption pre-boot authentication.</li>
<li><a href="https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567" class="inline-onebox">ISO - no default for encryption on/off - user should choose explicitly</a></li>
<li>Remove productUrl, supportUrl, releaseNotesUrl because Calamares runs as root, and executing a browser from Calamares as a user is too error-prone.</li>
<li>Remove swapfile options from Calamares (because swap file creation is already handled by <a href="https://www.kicksecure.com/wiki/Swap-file-creator" class="inline-onebox">swap-file-creator</a> in Kicksecure).</li>
<li>Enable localization (region and keyboard layout) in Calamares.</li>
<li><a href="https://forums.kicksecure.com/t/iso-install-to-system-desktop-icon-maximize-window/419" class="inline-onebox">ISO - Install to system desktop icon: maximize window</a></li>
<li>Backport calamares-settings-debian to Debian Bookworm and use it because it is required for many of the above features.</li>
<li>Improved visual branding.</li>
</ul>
</li>
<li>
<p>VirtualBox:</p>
<ul>
<li>Revert VirtualBox virtual audio controller back to AC97 due to Intel HD broken sound issues (<a href="https://forums.whonix.org/t/virtualbox-intel-hd-audio-and-pipewire-incompatibility-audio-broken-after-increasing-ram-to-5-gb-no-sound-after-latest-updates-pipewire-bug/18211" class="inline-onebox">VirtualBox Intel HD Audio and PipeWire Incompatibility / Audio broken after increasing ram to 5 GB / No sound after latest updates - PipeWire Bug? - VirtualBox - Whonix Forum</a>)</li>
</ul>
</li>
<li>
<p>KVM (libvirt-dist):</p>
<ul>
<li>Added 3D acceleration and OpenGL (but disabled by default to simplify users opting in).</li>
<li>Added human-readable comments (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/nurmagoz">@nurmagoz</a>!).</li>
<li>Switch memory to GB (instead of KiB) (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/nurmagoz">@nurmagoz</a>!).</li>
<li><a href="https://forums.whonix.org/t/help-welcome-kvm-development-staying-the-course/166/566">Rate limit RNG /dev/random <code>&lt;rate bytes='1024' period='1000'/&gt;</code></a> to avoid DOS of RNG /dev/random by VM.</li>
</ul>
</li>
<li>
<p>desktop-config-dist:</p>
<ul>
<li>Improved the livecheck systray (converted tooltips to dialog) (Thanks to Ben Grande!).</li>
</ul>
</li>
<li>
<p>dist-base-files:</p>
<ul>
<li>Only perform the following actions when run by derivative-maker:
<ul>
<li>Creation of user <code>user</code>.</li>
<li>Set empty password (passwordless) for user <code>user</code>.</li>
<li>Adding default groups to user <code>user</code>.</li>
<li>Enable console-lockdown.</li>
<li>Locking of root account fix.</li>
<li>Skip creation of user <code>user</code>.
<ul>
<li>These actions are skipped when using distribution morphing.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>grub-live:</p>
<ul>
<li>Researched, commented on port to overlayfs in time for Debian Trixie (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@ArrayBolt3</a>).</li>
</ul>
</li>
<li>
<p>kicksecure-meta-packages:</p>
<ul>
<li>Add xdg-desktop-portal(-gtk) (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@ArrayBolt3</a>!).</li>
<li><a href="https://forums.whonix.org/t/port-from-pulseaudio-to-pipewire-for-audio-support/16879/45">No longer install <code>alsa-utils</code> by default</a>.</li>
<li>Add <code>accountservice</code> to <code>kicksecure-desktop-environment-essential-xfce</code> (package <code>lightdm</code> <code>Suggests:</code> <code>accountservice</code>), which fixes error message:
<ul>
<li>
<blockquote>
<p>localhost lightdm[911]: Error getting user list from org.freedesktop.Accounts: GDBus.Error:org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.Accounts was not provided by any .service files</p>
</blockquote>
</li>
</ul>
</li>
<li>Allow installation of <code>pipewire-media-session-pulseaudio</code> as an alternative to <code>wireplumber</code>.</li>
<li>Fix user’s ability to easily go back to installing pulseaudio.</li>
<li>Add <code>dbus-user-session</code> to <code>kicksecure-recommended-cli</code> as required by PipeWire.</li>
<li>Add <code>rtkit</code> to <code>non-qubes-audio</code> to prevent rtkit-related errors in PipeWire journal log.</li>
<li>Add <code>debian-keyring</code> to <code>kicksecure-recommended-cli</code>, useful to verify a Debian ISO.</li>
<li>Add <code>gawk</code> to <code>kicksecure-dependencies-cli</code> (missing dependency by Debian’s dracut-core) <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1081005">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1081005</a>.</li>
<li>Add <code>mesa-vulkan-drivers</code> to <code>kicksecure-desktop-environment-essential-gui</code>.</li>
<li>Add <code>mesa-utils</code> to <code>kicksecure-recommended-cli</code>.</li>
</ul>
</li>
<li>
<p>kicksecure-welcome-page:</p>
<ul>
<li>Added documentation search boxes (Thanks to Hans!).</li>
<li>Removed metager (at time of writing, login-only) (Thanks to Hans!).</li>
<li>Improved style.</li>
<li>Point out that the kicksecure-welcome-page is a local homepage.</li>
</ul>
</li>
<li>
<p>msgcollector:</p>
<ul>
<li>Add command line parser and explanatory comments.</li>
<li>Refactoring.</li>
<li>Point out if icon does not exist on stderr.</li>
<li><code>Depends</code>: <code>gnome-colors-common</code>.</li>
<li>Change icon directories (Thanks to Ben Grande!).</li>
</ul>
</li>
<li>
<p>ram-wipe:</p>
<ul>
<li>Always run ram-wipe if installed, even inside VMs, to simplify testing inside VMs (deprecate <code>wiperam=force</code> kernel parameter).</li>
</ul>
</li>
<li>
<p>root check:</p>
<ul>
<li>GUI (graphical user interface) applications developed by the Kicksecure project (setup-dist, setup-wizard-dist, repository-dist, sdwdate-gui, anon-connection-wizard, tor-control-panel) can no longer be started as root, show an error message otherwise.</li>
</ul>
</li>
<li>
<p>security-misc:</p>
<ul>
<li>Comment on Flatpak requiring unprivileged user namespaces (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Update mmap ASLR docs (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Fix VirtualBox audio device ICH AC97. no longer <code>blacklist snd_intel8x0</code>, because this breaks VirtualBox audio device ICH AC97, which is unfortunately still required by some users.
<ul>
<li>Fixes <a href="https://github.com/Kicksecure/security-misc/issues/271" class="inline-onebox">kernel module blacklist breaks VirtualBox audio devices ICH AC97 and maybe Intel HD · Issue #271 · Kicksecure/security-misc · GitHub</a></li>
<li><a href="https://www.kicksecure.com/wiki/Dev/audio" class="inline-onebox">Dev/audio - Kicksecure</a></li>
</ul>
</li>
<li>add KSPP compliance status to readme based on comment by <span class="mention">@raja-grewal</span> <a href="https://github.com/Kicksecure/security-misc/issues/256#issuecomment-2330376651" class="inline-onebox">document sysctl settings / kernel parameters using KSPP=yes / KSPP=no · Issue #256 · Kicksecure/security-misc · GitHub</a></li>
<li>Enable <code>panic_on_warn=1</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li><a href="https://github.com/Kicksecure/security-misc/issues/267">no longer set sysctl <code>fs.binfmt_misc.status=0</code> / no longer disallow registering interpreters for miscellaneous binary formats causing file/folder permissions issue</a>
<ul>
<li>
<blockquote>
<p><code>d????????? ? ? ? ?            ? .</code></p>
</blockquote>
</li>
<li>Firefox no longer starting (probably not not a Firefox issue but general issue caused by <code>fs.binfmt_misc.status=0</code>)</li>
</ul>
</li>
<li>Add details on BPF hardening and split the <code>sysctl</code>s (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add KSPP notice definitions (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add detail on disabling user namespaces breaking UPower (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>README.md: Organise <code>sysctl</code>s and kernel boot parameters (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details on oopses and warnings (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details on kernel panics (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Refactor modprobe.d to minimise potential future merge conflicts (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Set <code>sysctl vm.mmap_min_addr=65536</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Partial compliance with the KSPP on kernel panics (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details on user namespaces (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Include KSPP compliance notices (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Provide option to disable user namespaces (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Patch bug in existing <code>rp_filter</code> <code>sysctl</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Consistent formatting (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details on ASLR and move to user space section (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Update README.md (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Typos (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Simplify syntax of some network-related <code>sysctl</code>’s (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Clarify DMA hardening (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add references on <code>fs.binfmt_misc.status</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Revert “Provide optional <code>sysctl fs.binfmt_misc.status=0</code>” This reverts commit debd7a7b7ae8b03e04d2c8597bcccf2c79000570. (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details on KFENCE (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details on <code>tcp_timestamps</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add reference on RDRAND (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add reference on <code>rp_filter</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add some notices for future Debian 13 rebase (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Consistent line length formatting (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Details on disabled <code>fbdev</code> kernel modules (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Update notifications for disabled kernel modules (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Update docs regarding Intel module disabling (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Clarify <code>secure_redirects</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Provide optional <code>sysctl fs.binfmt_misc.status=0</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Enable <code>vdso32=0</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Enable <code>kfence.sample_interval=100</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Enable <code>dev.tty.legacy_tiocsti=0</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Enable <code>slab_debug=FZ</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add reference (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Update legacy name <code>slub_debug</code> → <code>slab_debug</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add details about <code>slub_debug</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Provide the option to disable legacy TIOCSTI operation (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Provide option to disable 32 bit vDSO mappings (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Provide option to enable the kernel Electric-Fence (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add references to KSPP (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Add missing GRUB command lines for disabled boot parameters (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Show details regarding <code>secure_redirects</code> (again) (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Partial inclusion of GrapheneOS infrastructure blacklist (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Set <code>sysctl fs.binfmt_misc.status=0</code> (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Re-enable (default) <code>secure_redirects</code> for ICMP redirect messages (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Disable some legacy framebuffer drivers and legacy drivers. These were all previously blacklisted for over 2 years. (Thanks to <span class="mention">@raja-grewal</span>!)</li>
<li>Restrict unprivileged user namespaces (Thanks to <span class="mention">@raja-grewal</span>!)</li>
</ul>
</li>
<li>
<p>setup-dist (CLI):</p>
<ul>
<li>Add missing dependency.</li>
<li>Show error message legal notice instead of poweroff if disclaimer is rejected.</li>
</ul>
</li>
<li>
<p>setup-wizard-dist:</p>
<ul>
<li>Fix detection of Whonix-Workstation, thus fixing autostart of setup-wizard-dist inside Whonix-Workstation.</li>
<li>No longer autostart setup-wizard-dist on Kicksecure.</li>
<li>Skip setup-wizard-dist (systemcheck autostart at first boot) in Kicksecure-Qubes by default (this would lead to too many systemcheck runs at Qubes VM first starts).</li>
<li>Fix auto starting systemcheck at first boot inside Whonix-Gateway.</li>
</ul>
</li>
<li>
<p>swap-file-creator:</p>
<ul>
<li>Skip swap-file-creator if xen was detected (likely a Qubes HVM, which has dynamic RAM assignment).</li>
</ul>
</li>
<li>
<p>systemcheck:</p>
<ul>
<li>No longer check if setup-dist (or setup-wizard-dist) has been completed, as this is no longer required due to auto-connecting to the public Tor network <a href="https://forums.whonix.org/t/connect-to-public-tor-network-by-default-avoid-anon-connection-wizard-acw-popup-at-first-boot/17848" class="inline-onebox">connect to public Tor network by default / avoid Anon Connection Wizard (ACW) popup at first boot - News - Whonix Forum</a>.</li>
<li><a href="https://github.com/Kicksecure/developer-meta-files/issues/3">Systemcheck warning against GeoClue privacy concerns associated with GeoClue</a></li>
</ul>
</li>
<li>
<p>timesanitycheck:</p>
<ul>
<li>Updated minimum_unixtime.</li>
</ul>
</li>
<li>
<p>usability-misc:</p>
<ul>
<li>Set <code>thunar</code> as default file manager for <code>xdg-mime</code>, to fix issue:
<ul>
<li><a href="https://forums.whonix.org/t/is-catfish-the-new-default-in-the-qubes-domain-open-file-manager-quick-widget-for-whonix/20233" class="inline-onebox">Is catfish the new default in the Qubes Domain open file manager quick widget for whonix? - Qubes-Whonix - Whonix Forum</a></li>
</ul>
</li>
<li>Fix shellcheck warnings (Thanks to nyxnor!).</li>
<li>Kicksecure / Whonix VM installer for Linux: fix <code>kali_domain_debsource: unbound variable</code> <a href="https://forums.kicksecure.com/t/followed-wiki-but-get-error-for-whonix-install/454/4" class="inline-onebox">Followed wiki but get error for Whonix install - #4 by anon1</a>.</li>
</ul>
</li>
<li>
<p>derivative-maker:</p>
<ul>
<li>Remove superfluous comment: <code>live-config-dist</code> already <code>Depends:</code> on <code>rsync</code>.</li>
<li>help-steps/dm-build-official: fix: <code>--target iso</code> is required to download Calamares from backports.</li>
<li>VirtualBox 7.1.0.</li>
<li>Fix multiple repository creation.</li>
<li>Move bind-dirs configuration from qubes-whonix package to individual packages.</li>
<li>Add explanatory comment for bookworm-backports entries in <code>debian_stable_current_clearnet.list</code> (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@ArrayBolt3</a>!).</li>
<li>Download Calamares from bookworm-backports (Thanks to <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@ArrayBolt3</a>!).</li>
<li>Fix installation of <code>efi_weak_recommended_packages_list</code>.</li>
<li>Create signing keys also if CI detected.</li>
<li>Do not create signing key when building redistributable builds. There is no risk of overwriting signing keys because <code>signing-key-create</code> checks if signing keys already exist and never overwrites. However, if signing keys are missing for redistributable builds, then the keys should be manually put in place to avoid signing redistributable builds using auto-generated keys.</li>
<li>Install <code>cryptsetup-initramfs</code> by default during ISO build process because <code>/usr/sbin/bootloader-config</code> by Calamares-settings-Debian might install it, which might be slow.</li>
</ul>
</li>
<li>
<p>debug-misc:</p>
<ul>
<li>Update README.md (Thanks to <span class="mention">@raja-grewal</span>!).</li>
<li>Allow infinite “oopses” (Thanks to <span class="mention">@raja-grewal</span>!).</li>
<li>Do not force eventual reboot upon kernel panic (Thanks to <span class="mention">@raja-grewal</span>!).</li>
<li>Update debugging relevant to kernel panics <a href="https://github.com/Kicksecure/security-misc/pull/268#issuecomment-2317112703" class="inline-onebox">Enable `panic_on_warn=1` by raja-grewal · Pull Request #268 · Kicksecure/security-misc · GitHub</a> (Thanks to <span class="mention">@raja-grewal</span>!).</li>
</ul>
</li>
<li>
<p>genmkfile:</p>
<ul>
<li><code>reprepro deleteunreferenced</code>.</li>
<li>Fix multiple repository usage.</li>
<li>Fix: <code>make_reprepro_codename</code> is not a local variable, can be a global variable.</li>
<li>Fix: Allow “downgrades” by using <code>--allow-downgrades</code> if installing using genmkfile. This is because if the same version was already installed from the repository, APT will consider it a “downgrade” if re-installing locally.</li>
</ul>
</li>
</ul>
<hr>
<h1><a name="p-1296-full-difference-of-all-changes-4" class="anchor" href="https://forums.kicksecure.com#p-1296-full-difference-of-all-changes-4"></a>Full difference of all changes</h1>
<p><a href="https://github.com/Kicksecure/derivative-maker/compare/17.2.0.7-developers-only...17.2.3.7-developers-only">https://github.com/Kicksecure/derivative-maker/compare/17.2.0.7-developers-only…17.2.3.7-developers-only</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-17-2-3-7-point-release/587#post_1</link>
        <pubDate>Mon, 30 Sep 2024 08:47:15 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1296</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="nurmagoz" data-post="3" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>With server level or highly storage use cases, LVM is like a must to be available for ease and flexible for storage capacity scale (unless ditching server support).</p>
</blockquote>
</aside>
<p>Did you ever use LVM or are you theorizing? Did you accept my challenge:</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>As a challenge, try to boot from an external disk and then access your Qubes encrypted LVM on your internal hard drive for data recovery process.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="nurmagoz" data-post="3" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Unrelated, as Qubes uses LVM by default (has 9 bugs only).</p>
</blockquote>
</aside>
<p>It’s not about the number of bugs (quantity). It’s about the “quality” (severity, complexity, impact) of the bugs. For example this bug bug where the system simply stops booting looks very scary: <a href="https://github.com/QubesOS/qubes-issues/issues/7877" class="inline-onebox">Boot fails at "lvm event activation" · Issue #7877 · QubesOS/qubes-issues · GitHub</a></p>
<p>And it wasn’t reported from a non-technical person. It was reported by unman, a Qubes developer. So nobody else any idea how to fix it. Nobody commented since November 2022. That is to show the level of difficulty introduced by LVM. If there is a bug, then nobody has any clue how to fix it or even knows a workaround.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="3" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>The discussion is not about being used as a default method or how much its useful, but as a choice to the user, is it even available or not (specially in comparison to the upstream debian).</p>
</blockquote>
</aside>
<p>Default or non-default doesn’t even matter. It doesn’t change what I said:</p>
<blockquote>
<p>TPM in context of <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption">Full Disk Encryption (FDE)</a> is also not a priority at all.</p>
</blockquote>
<blockquote>
<p>Using full disk encryption with a strong password is more secure than using a TPM. This is elaborated here, <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption#TPM">Full Disk Encryption, chapter TPM</a>.</p>
</blockquote>
<p>In this context, it seems hard to add a TPM version because this would be difficult to communicate to the user.</p>
<p>“If you wish to use a less secure password and take your chances using a TPM, choose this option. Otherwise, it would be more secure to use a secure password instead.”</p>
<p>Under these conditions it doesn’t seem motivating to develop the TPM support feature.</p>
<p>Note: TPM support probably doesn’t necessarily need to be part of the installer such as calamares. If a user wants to set it up, they can set it up. The user could either,</p>
<ul>
<li>A) add an additional cryptsetup keyslot that uses the TPM; or</li>
<li>B) replace the cryptsetup password based keyslot with a TPM.</li>
</ul>
<p>So whether calamares adds support for TPM or not doesn’t prevent the user from making use of a TPM for full disk encryption. TPM setup would be <a href="https://www.kicksecure.com/wiki/Unspecific">unspecific to Kicksecure</a> and could be done as per <a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy" class="inline-onebox">Self Support First Policy for Kicksecure</a>.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="3" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>One last thing i want to mention about Ubiquity, its written in python whereas Calamares written in C++.</p>
</blockquote>
</aside>
<p>Not true. Calamares has a lot python and unfortunately some C modules.</p>
<p>Ubiquity also unfortunately seems to have some C. (example: <a href="https://git.launchpad.net/ubiquity/tree/src/mockresolver/mockresolver.c">mockresolver.c</a>)</p>
<p>Also seems to have telemetry (reference: <a href="https://git.launchpad.net/ubiquity/tree/ubiquity/telemetry.py">telemetry.py</a>) which would need to be investigated what that is and potentially would need to be deactivated.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_6</link>
        <pubDate>Mon, 30 Sep 2024 04:24:15 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1295</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>Some more detail since just “it’s no longer developed” may not be a satisfactory answer (after all forks are possible):</p>
<p>There are actually a very sizable number of distros that use Calamares as the default installer:</p>
<ul>
<li>Kubuntu</li>
<li>Lubuntu</li>
<li>Ubuntu Unity</li>
<li>KaOS</li>
<li>Fedora Asahi Remix</li>
<li>Debian Live</li>
<li>Xebian</li>
<li>KDE neon</li>
<li>I <em>think</em> Artix Linux?</li>
<li>And of course Kicksecure</li>
<li>Ubuntu Studio previously used it but migrated to ubuntu-desktop-provision</li>
</ul>
<p>So it has quite a bit of usage, and there’s almost certainly some distros I’ve missed or haven’t seen yet that use it.</p>
<p>Ubiquity is rather Ubuntu-centric. I have only ever seen it used as the default installer for Ubuntu derivatives (whether those be official flavors like Ubuntu MATE or unofficial spinoffs like Mint, Trisquel, KXStudio, ChaletOS, etc). From having tried to work with its code, it is <em>not</em> fun to work with and those I know who have worked on it professionally were… less than thrilled. Even before it was finally deprecated it was being called outdated and bitrotten. Given it’s Ubuntu-centric nature, it may not be something that even <em>can</em> be used on other distros, though granted I haven’t looked into its internals closely enough to know for sure.</p>
<p>The LVM stuff in Calamares stinks, that is very true. Why, I don’t exactly know, maybe it’s because libkpmcore (which Calamares relies on for its partitioning work) is broken? However, I have worked on Calamares’ code upstream and it is very approachable. It’s mostly written in Qt/C++ which is a relatively friendly environment to work with, and some of it is written in Python which is even more friendly. So if LVM were to become a priority, it’s something I believe would be possible to fix. TPM-based FDE also is likely doable, depending on how exactly that’s being done in Ubuntu (though as Patrick mentions use of the TPM has worrying security issues that may make it not worth it or not a priority).</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_5</link>
        <pubDate>Mon, 30 Sep 2024 04:20:05 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1294</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@arraybolt3]]></dc:creator>
        <description><![CDATA[ <p>Ubiquity was developed by Canonical as part of Ubuntu, and is now all but abandoned upstream. It was replaced by ubuntu-desktop-provision, which is Snap-based, GTK-centric, and written in Flutter. Given that it is now abandonware, I don’t think it would be in our best interest to use it.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_4</link>
        <pubDate>Mon, 30 Sep 2024 04:08:08 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1293</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group quote-modified" data-username="Patrick" data-post="2" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also ~ 2000 tickets.</p>
<p><a href="https://bugs.launchpad.net/ubuntu/+source/ubiquity" class="inline-onebox">Bugs : ubiquity package : Ubuntu</a></p>
<p>In comparison. calamares has ~ 140 at time of writing.</p>
</blockquote>
</aside>
<p>The comparison has some missing parts:</p>
<ul>
<li>Ubiquity released in 2006 (18 years ago), Calamares in 2015 (9 years ago)</li>
<li>Ubiquity is wider in usage, is the default installer for many and very famous distros (Ubunut, Mint…etc), Calamares is less in usage and distros which use it as a default installer are counted on less than the hand fingers.</li>
<li>Reliability of bug counts in Ubiquity ticketing system is unreliable e.g <a href="https://bugs.launchpad.net/ubuntu/+source/ubiquity/+bug/1711358">This ticket</a> is fixed yet it still shown on <a href="https://bugs.launchpad.net/ubuntu/+source/ubiquity/+bugs">the main page</a> as " *1 Open CVE bug".</li>
<li>Another thing to take care of is that “Open bugs” mean how many bugs are opened in the ticket system, “New Bugs” which mean that they are still unfixed bugs (called triaged/untriaged in their ticketing system).</li>
</ul>
<p>Conclusion: Based on the age and usage, this comparison has a neglected/no effect.</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="2" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Has also bugs:<br>
<a href="https://answers.launchpad.net/ubuntu/+source/ubiquity/+bugs/?field.tag=lvm" class="inline-onebox">Bugs : ubiquity package : Ubuntu</a></p>
</blockquote>
</aside>
<p>Everything has bugs but when it occurs/how much its usable is the question. by checking the bugs they are just uncommon/user specific use cases (4 bugs only).</p>
<p>Calamares on the other hand, their developers are just not well educated on how to implement LVM, to the level one opened a ticket to remove it because its just not working.</p>
<p>This shows the difference on who has better high tech work.</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Also related, the <a href="https://github.com/QubesOS/qubes-issues/issues?q=lvm+in%3Atitle+">fixed and unfixed list of Qubes LVM related issues</a>. Specifically the (nowadays fixed) <a href="https://github.com/QubesOS/qubes-issues/issues/3243">LVM bug in Qubes that has lead to data loss when the “LVM pool” (or disk?) was filled up</a> (which could not be recovered from, at least most users could not).</p>
</blockquote>
</aside>
<p>Unrelated, as Qubes uses LVM by default (has 9 bugs only).</p>
<p>With server level or highly storage use cases, LVM is like a must to be available for ease and flexible for storage capacity scale (unless ditching server support).</p>
<aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Using full disk encryption with a strong password is more secure than using a TPM. This is elaborated here, <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption#TPM">Full Disk Encryption, chapter TPM</a>.</p>
</blockquote>
</aside>
<p>The discussion is not about being used as a default method or how much its useful, but as a choice to the user, is it even available or not (specially in comparison to the upstream debian).</p>
<hr>
<p>One last thing i want to mention about Ubiquity, its written in python whereas Calamares written in C++.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_3</link>
        <pubDate>Mon, 30 Sep 2024 02:43:09 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1292</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@Benjamin]]></dc:creator>
        <description><![CDATA[ <p>I see, thank you</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_3</link>
        <pubDate>Sun, 29 Sep 2024 12:33:29 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1290</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="nurmagoz" data-post="1" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Ubiquity</p>
</blockquote>
</aside>
<p>Also ~ 2000 tickets.</p>
<p><a href="https://bugs.launchpad.net/ubuntu/+source/ubiquity" class="onebox" target="_blank" rel="noopener">https://bugs.launchpad.net/ubuntu/+source/ubiquity</a></p>
<p>In comparison. calamares has ~ 140 at time of writing.</p>
<p>I am not saying that one or the other has more bugs, that this is a useful comparison. This is just to say, that a port form calamares to Ubiquity is justified just because Ubiquity has some nicer features.</p>
<p>This is a hard engineering decision and would require a developer comparing the two. calamares might cause less effort because it’s used by default by Debian live.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="1" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p><a href="https://canonical-subiquity.readthedocs-hosted.com/en/latest/reference/autoinstall-reference.html#supported-layouts">Support LVM</a> which <a href="https://github.com/calamares/calamares/issues/2343">calamares lack</a>.</p>
</blockquote>
</aside>
<p>Has also bugs:<br>
<a href="https://answers.launchpad.net/ubuntu/+source/ubiquity/+bugs/?field.tag=lvm" class="onebox" target="_blank" rel="noopener">https://answers.launchpad.net/ubuntu/+source/ubiquity/+bugs/?field.tag=lvm</a></p>
<aside class="quote no-group" data-username="nurmagoz" data-post="1" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p><a href="https://canonical-subiquity.readthedocs-hosted.com/en/latest/reference/autoinstall-reference.html#supported-layouts">Support LVM</a> which <a href="https://github.com/calamares/calamares/issues/2343">calamares lack</a>.</p>
</blockquote>
</aside>
<p>LVM is not a priority at all.</p>
<p>I am reasonably technical person but even for me LVM is too much.</p>
<p>The bug reports against both installers calamares, ubiquity also discourages me to look further into LVM.</p>
<p>Also related, the <a href="https://github.com/QubesOS/qubes-issues/issues?q=lvm+in%3Atitle+">fixed and unfixed list of Qubes LVM related issues</a>. Specifically the (nowadays fixed) <a href="https://github.com/QubesOS/qubes-issues/issues/3243">LVM bug in Qubes that has lead to data loss when the “LVM pool” (or disk?) was filled up</a> (which could not be recovered from, at least most users could not).</p>
<p>As a challenge, try to boot from an external disk and then access your Qubes encrypted LVM on your internal hard drive for data recovery process. It’s possible but very difficult for users.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="1" data-topic="585">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p><a href="https://discourse.ubuntu.com/t/subiquity-23-10-1-has-been-released-to-the-stable-channel/39344">Support TPM-fde</a> installation which <a href="https://github.com/calamares/calamares/issues/2355">calamares lack</a>.</p>
</blockquote>
</aside>
<p>TPM in context of <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption" class="inline-onebox">Full Disk Encryption (FDE)</a> is also not a priority at all.</p>
<p>Using full disk encryption with a strong password is more secure than using a TPM. This is elaborated here, <a href="https://www.kicksecure.com/wiki/Full_Disk_Encryption#TPM">Full Disk Encryption, chapter TPM</a>.</p>
<hr>
<p>related: <a href="https://www.kicksecure.com/wiki/Reporting_Bugs#Community_Feedback">Community Feedback</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_2</link>
        <pubDate>Sun, 29 Sep 2024 10:27:27 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1289</guid>
      </item>
      <item>
        <title>ISO - no default for encryption on/off - user should choose explicitly</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="567">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Later maybe…</p>
<pre><code class="lang-auto">Do you wish to use Full Disk Encryption (FDE)?

[ ] use FDE
[ ] do not use FDE

Setting up FDE later is very difficult.
</code></pre>
<p>The text needs more work probably if this is even realistic. The text<br>
could be improved to explain what FDE is and whatnot.</p>
<p>“Setting up FDE later is very difficult.” - maybe only show if selecting<br>
“no”</p>
</blockquote>
</aside>
<p>Ubiquity has a nice implementation.</p>
<p>related: <a href="https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585" class="inline-onebox">Ubiquity / LVM / TPM</a></p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.kicksecure.com/uploads/default/original/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded.png" data-download-href="https://forums.kicksecure.com/uploads/default/84ae411c969bdf3c1b42e84c6adb859965db6ded" title="tris3"><img src="https://forums.kicksecure.com/uploads/default/optimized/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded_2_690x469.png" alt="tris3" data-base62-sha1="iVKmAomUqeM7VP8zzZGaWPrnEhn" width="690" height="469" srcset="https://forums.kicksecure.com/uploads/default/optimized/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded_2_690x469.png, https://forums.kicksecure.com/uploads/default/original/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded.png 1.5x, https://forums.kicksecure.com/uploads/default/original/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded.png 2x" data-dominant-color="AEACAA"></a></div><p></p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.kicksecure.com/uploads/default/original/1X/0abba6f73c93174217b878fd06a340274c9e3d96.png" data-download-href="https://forums.kicksecure.com/uploads/default/0abba6f73c93174217b878fd06a340274c9e3d96" title="tris4"><img src="https://forums.kicksecure.com/uploads/default/optimized/1X/0abba6f73c93174217b878fd06a340274c9e3d96_2_690x472.png" alt="tris4" data-base62-sha1="1wWOHhfQWPDWU5PeL7LbXMLLhvo" width="690" height="472" srcset="https://forums.kicksecure.com/uploads/default/optimized/1X/0abba6f73c93174217b878fd06a340274c9e3d96_2_690x472.png, https://forums.kicksecure.com/uploads/default/original/1X/0abba6f73c93174217b878fd06a340274c9e3d96.png 1.5x, https://forums.kicksecure.com/uploads/default/original/1X/0abba6f73c93174217b878fd06a340274c9e3d96.png 2x" data-dominant-color="AFACA9"></a></div><p></p> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567#post_8</link>
        <pubDate>Sun, 29 Sep 2024 09:56:09 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1288</guid>
      </item>
      <item>
        <title>Ubiquity / LVM / TPM</title>
        <dc:creator><![CDATA[@nurmagoz]]></dc:creator>
        <description><![CDATA[ <p>Ubiquity is the default for <a href="https://wiki.ubuntu.com/Ubiquity">Ubuntu</a>, <a href="https://packages.trisquel.org/aramo/ubiquity">Trisquel</a>, <a href="https://github.com/linuxmint/ubiquity">Mint</a>…etc</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.kicksecure.com/uploads/default/original/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded.png" data-download-href="https://forums.kicksecure.com/uploads/default/84ae411c969bdf3c1b42e84c6adb859965db6ded" title="tris3"><img src="https://forums.kicksecure.com/uploads/default/optimized/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded_2_690x469.png" alt="tris3" data-base62-sha1="iVKmAomUqeM7VP8zzZGaWPrnEhn" width="690" height="469" srcset="https://forums.kicksecure.com/uploads/default/optimized/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded_2_690x469.png, https://forums.kicksecure.com/uploads/default/original/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded.png 1.5x, https://forums.kicksecure.com/uploads/default/original/1X/84ae411c969bdf3c1b42e84c6adb859965db6ded.png 2x" data-dominant-color="AEACAA"></a></div><p></p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.kicksecure.com/uploads/default/original/1X/0abba6f73c93174217b878fd06a340274c9e3d96.png" data-download-href="https://forums.kicksecure.com/uploads/default/0abba6f73c93174217b878fd06a340274c9e3d96" title="tris4"><img src="https://forums.kicksecure.com/uploads/default/optimized/1X/0abba6f73c93174217b878fd06a340274c9e3d96_2_690x472.png" alt="tris4" data-base62-sha1="1wWOHhfQWPDWU5PeL7LbXMLLhvo" width="690" height="472" srcset="https://forums.kicksecure.com/uploads/default/optimized/1X/0abba6f73c93174217b878fd06a340274c9e3d96_2_690x472.png, https://forums.kicksecure.com/uploads/default/original/1X/0abba6f73c93174217b878fd06a340274c9e3d96.png 1.5x, https://forums.kicksecure.com/uploads/default/original/1X/0abba6f73c93174217b878fd06a340274c9e3d96.png 2x" data-dominant-color="AFACA9"></a></div><p></p>
<p>It has advantages on what calamares provide:</p>
<ul>
<li><a href="https://canonical-subiquity.readthedocs-hosted.com/en/latest/reference/autoinstall-reference.html#supported-layouts">Support LVM</a> which <a href="https://github.com/calamares/calamares/issues/2343">calamares lack</a>.</li>
<li><a href="https://discourse.ubuntu.com/t/subiquity-23-10-1-has-been-released-to-the-stable-channel/39344">Support TPM-fde</a> installation which <a href="https://github.com/calamares/calamares/issues/2355">calamares lack</a>.</li>
</ul> ]]></description>
        <link>https://forums.kicksecure.com/t/ubiquity-lvm-tpm/585#post_1</link>
        <pubDate>Sun, 29 Sep 2024 09:49:49 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1286</guid>
      </item>
      <item>
        <title>ISO error message during boot: mount: /sysroot: special device LiveOS_rootfs does not exist</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Debian bug report:<br>
<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1082891">dracut-core: Live Bookworm ISO + dracut boot faliure with "mount: /sysroot: special device LiveOS_rootfs does not exist.</a></p>
<p>Thanks to <a class="mention" href="https://forums.kicksecure.com/u/arraybolt3">@arraybolt3</a>!</p> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-error-message-during-boot-mount-sysroot-special-device-liveos-rootfs-does-not-exist/418#post_6</link>
        <pubDate>Sun, 29 Sep 2024 09:12:23 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1285</guid>
      </item>
      <item>
        <title>ISO - Install to system desktop icon: maximize window</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Implemented in Kicksecure <code>17.2.3.7</code> and above.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-install-to-system-desktop-icon-maximize-window/419#post_4</link>
        <pubDate>Sun, 29 Sep 2024 09:10:26 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1284</guid>
      </item>
      <item>
        <title>ISO - no default for encryption on/off - user should choose explicitly</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Implemented in Kicksecure <code>17.2.3.7</code> and above.</p> ]]></description>
        <link>https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567#post_6</link>
        <pubDate>Sun, 29 Sep 2024 09:09:51 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1283</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>Users cannot fix this.</p>
<p>(Except with a workaround: manual installation, <a href="https://www.kicksecure.com/wiki/Distribution_Morphing" class="inline-onebox">Distribution Morphing - Transforming of a Linux Distribution into Another Linux Distribution</a> → <a href="https://www.kicksecure.com/wiki/Debian" class="inline-onebox">Install Kicksecure inside Debian</a> because then other installation methods can be used such as manual setup of encryption which is however needs to be figured out as per <a href="https://www.kicksecure.com/wiki/Self_Support_First_Policy.">https://www.kicksecure.com/wiki/Self_Support_First_Policy.</a>)</p>
<p>Kicksecure <code>17.2.3.7</code> and above will come with luks2 by default. Unreleased at time of writing. Will probably be released soon (October 2024). Stay tuned. → <a href="https://www.kicksecure.com/wiki/Stay_Tuned" class="inline-onebox">Follow Kicksecure Developments</a></p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_2</link>
        <pubDate>Sun, 29 Sep 2024 09:08:14 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1282</guid>
      </item>
      <item>
        <title>Luks1 version issue</title>
        <dc:creator><![CDATA[@Benjamin]]></dc:creator>
        <description><![CDATA[ <p>Why does Kicksecure installation built-in FDE option utilize LUKS1 format instead of newer safer LUKS2? How can it be fixed? Sorry for such stupid questions, i’m new to this, thanks</p> ]]></description>
        <link>https://forums.kicksecure.com/t/luks1-version-issue/584#post_1</link>
        <pubDate>Sun, 29 Sep 2024 08:24:21 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1281</guid>
      </item>
      <item>
        <title>Kicksecure breaks Firefox and KeepassXC</title>
        <dc:creator><![CDATA[@PrivacyTux]]></dc:creator>
        <description><![CDATA[ <p>It is possible to reproduce the problem when booting a current Debian 5.10 or a non Debian 5.15 kernel. With a 6.1 kernel, the problem does not exist if you use current Kicksecure packages. In mid-2024 the Kicksecure packages were compatible with the 5.10 kernel of Debian Bullseye in Debian Bookworm.</p>
<p>Can you please try again to reproduce the problem with a current 5.10 kernel, e.g. from the Debian Bullseye repository?</p> ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-breaks-firefox-and-keepassxc/489#post_6</link>
        <pubDate>Sat, 28 Sep 2024 14:10:54 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1279</guid>
      </item>
      <item>
        <title>Error storing passphrase in keyring (The name org.freedesktop.secrets was not provided by any .service files)</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <p>After booting the ISO → Xfce desktop → double click on “17 GB Encrypted” (from a previous installation) → enter password → save password permanently.</p>
<blockquote>
<p>Failed to mount “rootfs”</p>
</blockquote>
<blockquote>
<p>Error storing passphrase in keyring (The name org.freedesktop.secrets was not provided by any .service files)</p>
</blockquote>
<aside class="onebox stackexchange" data-onebox-src="https://superuser.com/questions/536433/what-applications-provide-org-freedesktop-secrets-service">
  <header class="source">

      <a href="https://superuser.com/questions/536433/what-applications-provide-org-freedesktop-secrets-service" target="_blank" rel="noopener">superuser.com</a>
  </header>

  <article class="onebox-body">
      <a href="https://superuser.com/users/190060/lmcanavals" target="_blank" rel="noopener">
    <img alt="lmcanavals" src="https://i.sstatic.net/xIV9d.jpg?s=256" class="thumbnail onebox-avatar" width="256" height="256">
  </a>

<h4>
  <a href="https://superuser.com/questions/536433/what-applications-provide-org-freedesktop-secrets-service" target="_blank" rel="noopener">What applications provide org.freedesktop.secrets.service</a>
</h4>

<div class="tags">
  <strong>password-management, xfce, gnome-keyring</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://superuser.com/users/190060/lmcanavals" target="_blank" rel="noopener">
    lmcanavals
  </a>
  on <a href="https://superuser.com/questions/536433/what-applications-provide-org-freedesktop-secrets-service" target="_blank" rel="noopener">09:17AM - 15 Jan 13 UTC</a>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Since we’re already installing KeePassXC by default, it might make sense to use KeePassXC as a <code>org.freedesktop.secrets</code> provider. Here is a promising looking (untested by me) guide:</p>
<p><a href="https://c3pb.de/blog/keepassxc-secrets-service.html" class="onebox" target="_blank" rel="noopener">https://c3pb.de/blog/keepassxc-secrets-service.html</a></p>
<p>KeePassXC might be more leightweight than gnome-keyring.</p>
<blockquote>
<p>In KeePassXC, go to <code>Tools</code> &gt; <code>Settings</code> &gt; <code>Secret-Service-Integration</code> and enable <code>Enable KeepassXC Freedesktop.org Secret Service integration</code>.</p>
</blockquote>
<p>This might be a bit more hard to do for a Linux distribution.</p>
<p>Maybe could be done similar to how it’s done here:</p>
<ul>
<li>usability-misc
<ul>
<li>/etc/profile.d/50_default_editor.sh</li>
<li>/usr/share/usability-misc/xdg-override/</li>
</ul>
</li>
</ul>
<p>related:</p>
<aside class="onebox githubissue" data-onebox-src="https://github.com/keepassxreboot/keepassxc/issues/6274">
  <header class="source">

      <a href="https://github.com/keepassxreboot/keepassxc/issues/6274" target="_blank" rel="noopener">github.com/keepassxreboot/keepassxc</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/keepassxreboot/keepassxc/issues/6274" target="_blank" rel="noopener">Register as the default Secret Service provider (DBus service)</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-03-13" data-time="13:27:53" data-timezone="UTC">01:27PM - 13 Mar 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/raffaem" target="_blank" rel="noopener">
          <img alt="raffaem" src="https://avatars.githubusercontent.com/u/54762742?v=4" class="onebox-avatar-inline" width="20" height="20">
          raffaem
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          new feature
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          feature: Secret Service
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">In Tools-&gt;Settings-&gt;Secret Service, in the General tab, there should be an optio<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">n to register KeePassXC as systemd default Secret Service provider.

On Ubuntu 20.10 this can be achieved by opening `/usr/share/dbus-1/services/org.freedesktop.secrets.service` and changing

```
Exec=/usr/bin/keepassxc/usr/bin/gnome-keyring-daemon --start --foreground --components=secrets
```

into

```
Exec=/usr/bin/keepassxc
```

We can probably have a backup of the file and if the user de-select the option we restore the backup

## REASON

When an application ask for the Secret Service API on D-Bus, if there is no provider, systemd will open the defaut provider as specified in that service file. On Ubuntu this will default to `gnome-keyring`.

Enabling "KeePassXC freedesktop.org Secret Service integration" does not change this behavior. If KeePassXC is not already opened, at a Secret Service request on D-Bus, `gnome-keyring`, not KeePassXC, will be opened.

For a real use case scenario, see [Maestral#352](https://github.com/SamSchott/maestral/issues/352).

## TEMPORARY WORKAROUND

Open a terminal and run

```sudo sed -i -E 's/Exec=.*/Exec=\/usr\/bin\/keepassxc/g' /usr/share/dbus-1/services/org.freedesktop.secrets.service```</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/error-storing-passphrase-in-keyring-the-name-org-freedesktop-secrets-was-not-provided-by-any-service-files/582#post_1</link>
        <pubDate>Sat, 28 Sep 2024 04:15:31 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1278</guid>
      </item>
      <item>
        <title>ISO - no default for encryption on/off - user should choose explicitly</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubpullrequest" data-onebox-src="https://github.com/calamares/calamares/pull/2376">
  <header class="source">

      <a href="https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener">[partition] Always update EncryptWidget's m_state when updateState is called</a>
      </h4>

    <div class="branches">
      <code>calamares:calamares</code> ← <code>ArrayBolt3:calamares</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="23:02:53" data-timezone="UTC">11:02PM - 25 Sep 24 UTC</span>
        </div>

        <div class="user">
          <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="1 commits changed 1 files with 3 additions and 6 deletions">
          <a href="https://github.com/calamares/calamares/pull/2376/files" target="_blank" rel="noopener">
            <span class="added">+3</span>
            <span class="removed">-6</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Fixes https://github.com/calamares/calamares/issues/2375</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567#post_5</link>
        <pubDate>Fri, 27 Sep 2024 02:38:57 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1277</guid>
      </item>
      <item>
        <title>ISO - no default for encryption on/off - user should choose explicitly</title>
        <dc:creator><![CDATA[@Patrick]]></dc:creator>
        <description><![CDATA[ <aside class="onebox githubcommit" data-onebox-src="https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912">
  <header class="source">

      <a href="https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912" target="_blank" rel="noopener">github.com/ArrayBolt3/live-config-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912" target="_blank" rel="noopener">Make formatting less arbitrary, enable preCheckEncryption</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="22:42:07" data-timezone="UTC">10:42PM - 25 Sep 24 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
          <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>

      <div class="lines" title="changed 1 files with 4 additions and 3 deletions">
        <a href="https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912" target="_blank" rel="noopener">
          <span class="added">+4</span>
          <span class="removed">-3</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue" data-onebox-src="https://github.com/calamares/calamares/issues/2375">
  <header class="source">

      <a href="https://github.com/calamares/calamares/issues/2375" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/calamares/calamares/issues/2375" target="_blank" rel="noopener">After checking "Encrypt system", the user can proceed past the Partitions screen without entering a passphrase</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="23:00:50" data-timezone="UTC">11:00PM - 25 Sep 24 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/ArrayBolt3" target="_blank" rel="noopener">
          <img alt="ArrayBolt3" src="https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Describe the bug**
If the user checks "Encrypt System", the "Next" button rem<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">ains enabled and they can proceed past the partitions screen without entering a passphrase. Unchecking and rechecking the box results in the "Next" button being grayed out as expected.

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Calamares.
2. Click "Next" until you get to the partitions screen.
3. Click "Erase Disk".
4. Check the "Encrypt system" checkbox.
5. Click "Next" (do not enter a passphrase first).

**Expected behavior**
"Next" button should be disabled and unable to be clicked.

**Screenshots and Logs**
![Screenshot_20240925_175929](https://github.com/user-attachments/assets/ab1133bc-0c72-4de7-9285-ab8fc998bee1)

**Additional context**
I debugged this issue using gdb and traced it to a logic error in `src/modules/partition/gui/EncryptWidget.cpp`:

```c++
    // In function EncryptWidget::updateState( const bool notify ):
    // ...
    if ( newState != m_state )
    {   
        m_state = newState;
        if ( notify ) 
        {   
            Q_EMIT stateChanged( m_state );
        }       
    }
```
The `if ( newState != m_state )` is causing the issue.

In the constructor, `m_state` is initialized to `Encryption::Disabled`, but when the constructor calls `updateState()` in EncryptWidget.cpp line 68, `m_state` gets changed to `Encryption::Unconfirmed`. This is because `updateState()` is called while the "Encrypt system" checkbox is still invisible, thus triggering the following code path:

```c++
EncryptWidget::Encryption
EncryptWidget::state() const
{
    Encryption newState = Encryption::Unconfirmed;

    // This `if` statement is entered because the "Encrypt system" check box is invisible since the app is still starting up
    if ( m_ui-&gt;m_encryptCheckBox-&gt;isChecked() || !m_ui-&gt;m_encryptCheckBox-&gt;isVisible() )
    {
        // And naturally, the passphrase text boxes are also empty, so this `if` statement will be skipped over...
        if ( !m_ui-&gt;m_passphraseLineEdit-&gt;text().isEmpty()
             &amp;&amp; m_ui-&gt;m_passphraseLineEdit-&gt;text() == m_ui-&gt;m_confirmLineEdit-&gt;text() )
        {
            newState = Encryption::Confirmed;
        }
        else // ...and this one is run instead, thus returning `Encryption::Unconfirmed` which is what m_state is then set to.
        {
            newState = Encryption::Unconfirmed;
        }
    }
    else
    {
        newState = Encryption::Disabled;
    }

    return newState;
}
```

So ultimately `m_state` ends up being set to `Encryption::Unconfirmed` once the encryption widget's constructor is finished. Then when the user checks the "Encrypt system" checkbox later on, `EncryptWidget::state()` properly determines that the state is `Encryption::Unconfirmed`, but because `m_state` is already `Encryption::Unconfirmed`, it does **not** emit a `stateChanged` signal. This means that `ChoicePage::onEncryptWidgetStateChanged` is not called when the user first checks the checkbox, and thus the "Next" button is not disabled.

Simply removing the `if ( newState != m_state )` statement from EncryptWidget.cpp should be enough to resolve the bug.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
 ]]></description>
        <link>https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567#post_4</link>
        <pubDate>Fri, 27 Sep 2024 02:27:38 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1276</guid>
      </item>
  </channel>
</rss>
